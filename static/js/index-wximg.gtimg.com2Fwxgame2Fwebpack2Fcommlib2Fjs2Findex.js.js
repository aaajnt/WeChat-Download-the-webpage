!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//res.wx.qq.com/wechatgame/product/webpack/commlib/",n(n.s=51)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3)),a=i(n(4));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l,d,c,u,f,p,g,_,m,h,w,v,A,b,y,k=o.getQueryStr,x={isCSR:o.isCSR},S="iOS",I="Android",C="Mac",O="Windows",E=function(e,t){var n=e.split(".").slice(0,3),i=["0x"];t===S||t===C?i.push("1"):t===O?i.push("6"):i.push("2");for(var r=0;r<3;r++){var o=n[r]||"",a=parseInt(o.substr(0,2),10);0===r?!a||isNaN(a)?i.push("0"):a<16?i.push(a.toString(16)):i.push("f"):!a||isNaN(a)?i.push("00"):a<16?(i.push("0"),i.push(a.toString(16))):a>=16&&a<256?i.push(a.toString(16)):i.push("ff")}return i.push("00"),Number(i.join(""))},T=function(e){return/(iPhone|iPad|iPod|iOS)/i.test(e)?S:/WindowsWechat/i.test(e)?O:/MacWechat/i.test(e)?C:I};if(x.isCSR){var P=o.getCSR().getSystemInfo();y=T(P.system),l="",d=/ios/i.test(P.system),c=/android/i.test(P.system),u=!0,f=!1,p=!1,g=!1,_=!1,m=!1,h=/android/i.test(P.system),w=!1,v=/ios/i.test(P.system),{},x.isiOS=d||m,x.isLuggage=!1,x.isPad=/ipad/i.test(P.model),x.isiOS9=/OS 9/i.test(P.system),x.isiOS10=/OS 10/i.test(P.system),x.isiOS11=/OS 11/i.test(P.system),x.isAndroid=c,x.isWechat=!0,x.isPcWechat=!1,x.isMacWechat=!1,x.isWindowsWechat=!1,x.isPC=!1,x.isDev=!1,x.isMSDK=g,x.isAndroidMSDK=_,x.isIosMSDK=m,x.isXweb=h,x.isX5=w,x.isWKweb=v,x.isIosLiuhai=!1,x.isDarkMode=!!P.isDarkMode,x.onDarkModeChange=function(){},x.deviceType=x.isPad?"ipad":d?"iphone":"android",x.getCSR=o.getCSR}else{l=a.default.window.navigator.userAgent,d=(y=T(l))===S,c=y===I,u=-1!=l.indexOf("MicroMessenger"),b=y===O,f=(A=y===C)||b,p=!1,g=/(MSDK)/i.test(l),_=/MSDK\/[\d\.]{1,}?a/i.test(l),m=/MSDK\/[\d\.]{1,}?i/i.test(l),h=/XWEB/i.test(l),w=/TBS/i.test(l),v=/WKType/i.test(l),{},/Android|BlackBerry|IEMobile|iPhone|iPad|iPod/.test(l)||(p=!0),x.isiOS=d||m,x.isLuggage=/Luggage/i.test(l),x.isPad=/iPad/i.test(l),x.isiOS9=d&&-1!=l.indexOf("OS 9"),x.isiOS10=d&&-1!=l.indexOf("OS 10"),x.isiOS11=d&&-1!=l.indexOf("OS 11"),x.isAndroid=c||_,x.isWechat=u,x.isPcWechat=f,x.isMacWechat=A,x.isWindowsWechat=b,x.isPC=p,x.isDev=!1,x.isMSDK=g,x.isAndroidMSDK=_,x.isIosMSDK=m,x.isXweb=h,x.isX5=w,x.isWKweb=v,x.isIosLiuhai=d&&window.screen.height>=812,x.isTestEnv=function(){return new Promise((function(e){u&&o.getValue(WXGAME,"WxBridge.VerifyJsapiModule")?WXGAME.WxBridge.VerifyJsapiModule.callAfterLoaded((function(t){t&&t.isTestEnv?e(!0):e(!1)})):e(!1)}))},x.isTestData=!!k("is_test_data"),x.isDarkMode=!1;var M=[];x.onDarkModeChange=function(e){e(),M.push(e)},function(){if(window.matchMedia){var e=window.matchMedia("(prefers-color-scheme: dark)"),t=function(e){var t=e.matches;-1===location.search.indexOf("darkmode=1")&&(x.isDarkMode=!!t,M.forEach((function(e){return e()})))};e.addListener(t),t(e),-1!==location.search.indexOf("darkmode=1")&&(x.isDarkMode=!0),-1!==location.search.indexOf("darkmode=0")&&(x.isDarkMode=!1)}}(),x.deviceType=function(){var e=a.default.window.navigator.userAgent,t={iPhone:0,iPad:0,iPod:0,Android:0},n={};for(var i in t){var r=new RegExp(i,"i");if(n[i]=r.test(e)?i:t[i],n[i])return i.toLowerCase()}return""}(),function(e){var t=l.match(/OS[\s]+(\d{1,2}?)_\d{1}/);if((t=t||[]).length>=2){var n=parseInt(""+t[1]);e.iOSVersion=isNaN(n)?0:n}}(x)}x.versionCompare=function(e,t){for(var n=e.split("."),i=t.split("."),r=0,o=Math.min(n.length,i.length);r<o;r++){var a=parseInt(n[r])-parseInt(i[r]);if(0!=a)return a}return n.length-i.length},x.clientVersion=function(e){var t="",n=[1e3,100,1],i=0;if(t=o.isCSR?o.getCSR().getSystemInfo().clientVersion:function(e,t){if(!e)return"";var n=Math.pow(16,2),i=e,r=i%n,o=(i=Math.floor(i/n))%n,a=(i=Math.floor(i/n))%n,s=(i=Math.floor(i/n))%16;return t&&r>0?"".concat(s,".").concat(a,".").concat(o,".").concat(r):"".concat(s,".").concat(a,".").concat(o)}(x.getHexClientVersion(),y),e)return t;for(var r=0,a=(t=t.split(".").slice(0,3)).length;r<a;r++){var s=parseInt(t[r].substr(0,2));isNaN(s)||(i+=s*n[r])}return i},x.getHexClientVersion=function(){var e=y;if(o.isCSR)return E(o.getCSR().getSystemInfo().clientVersion,e);var t=a.default.window.navigator.userAgent||a.default.window.navigator.wxuserAgent||"";if(e===C){var n=/MacWechat\/([\d\.]+)(?:\((0x[0-9a-fA-F]+)\))/i.exec(t);return n?Number(n[2]):0}if(e===O){var i=/WindowsWechat\/(?:\((0x[0-9a-fA-F]+)\))/i.exec(t);return i?Number(i[1]):0}var r=/MicroMessenger\/([\d\.]+)(?:\((0x[0-9a-fA-F]+)\))?/i.exec(t);return r?r[2]?Number(r[2]):E(r[1],e):0},x.hexVersionCompare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e-t},x.getNetworkType=function(){var e="",t={wifi:0,uninet:2,uniwap:2,cmnet:2,cmwap:2,ctnet:2,ctwap:2,"2g":2,"3g":3,"3gnet":3,"3gwap":3,nonwifi:3,"4g":4,lte:4,ctlte:4,"3g+":4,"4gnet":4,NON_NETWORK:1,WIFI:0,"5G":5,"4G":4,"3G":3,"2G":2};if(o.isCSR)e=o.getCSR().getSystemInfo().networkType;else{var n=(a.default.window.navigator.userAgent||a.default.window.navigator.wxuserAgent).match(/NetType\/[^\s]+/i);n&&n.length>=1&&(e=n[0].split("/")[1].toLowerCase())}return e in t?t[e]+"":"1"},x.isWepkgInUrl=function(){return!!k("wechat_pkgid",null,a.default.window)},x.isWepkg=function(){if(o.isCSR)return!1;var e=this.isWepkgInUrl(),t=this.clientVersion(!0);if(this.versionCompare(t,"6.5.9")>=0){var n=a.default.window.__usewepkg__;return null!=n&&(!!n&&e)}t=this.clientVersion(!0);var i=this.isAndroid?"6.5.6":"6.5.8";return this.versionCompare(t,i)>=0&&e},x.getIsInMiniAppAsync=function(e){if(o.isCSR)return!1;var t,n=a.default.window.__wxjs_environment,i=a.default.window.navigator.userAgent||"";if(n||i){var r="miniprogram"===n||-1!=i.indexOf("miniprogram");e(r)}else"function"==typeof e&&a.default.window.document.addEventListener("WeixinJSBridgeReady",(function(){t&&(clearTimeout(t),t=null),e("miniprogram"===a.default.window.__wxjs_environment)}),!1),t=setTimeout((function(){e&&e(!1)}),2e3)};var D=null;x.isMiniprogram=function(){return null===D&&(D=!o.isCSR&&("miniprogram"===a.default.window.__wxjs_environment||/miniprogram/i.test(a.default.window.navigator.userAgent))),D};var B,j,L=null;x.isMinigame=function(){return null===L&&(L=x.isMiniprogram()&&4==+k("AppServiceType")),L},x.canIReport=function(){var e,t,n,i,r,o;return null===(e=null===(t=window)||void 0===t||null===(n=t.WXGAME)||void 0===n||null===(i=n.GlobalConfig)||void 0===i||null===(r=i.reporter)||void 0===r||null===(o=r.canIReport)||void 0===o?void 0:o.call(r))||void 0===e||e},x.getScene=function(){return B},x.setScene=function(e){B=e},x.getBottomTabHeight=function(){var e,t;return(null===(e=window)||void 0===e||null===(t=e.wgclient)||void 0===t?void 0:t.__gameTabHeight__)||57},x.isIframe=function(){try{return window.self!==window.top}catch(e){return!1}},x.getSystemInfo=function(){var e,t,n,i,r,o,a=null!==(e=null===(t=window)||void 0===t||null===(n=t.wgclient)||void 0===n?void 0:n.__gameTabHeight__)&&void 0!==e?e:57,s=null!==(i=null===(r=window)||void 0===r||null===(o=r.wgclient)||void 0===o?void 0:o.__gameTopBarHeight__)&&void 0!==i?i:88;return x.isIframe()?{pixelRatio:window.devicePixelRatio,windowWidth:document.documentElement.clientWidth||window.innerWidth,windowHeight:document.documentElement.clientHeight||window.innerHeight,navigationBarHeight:s,tabBarHeight:a}:{pixelRatio:window.devicePixelRatio,windowWidth:document.documentElement.clientWidth||window.screen.width||window.innerWidth,windowHeight:document.documentElement.clientHeight||window.screen.height||window.innerHeight,navigationBarHeight:s,tabBarHeight:a}},x.isBanTransform=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:145,t=navigator.userAgent;if(-1!==t.indexOf("iPhone")){var n=/cpu iphone os (.*?) like mac os/,i=(t=t.toLowerCase()).match(n).length&&t.match(n)[1],r=i.split("_"),o=Number(r[0]+r[1]),a=x.clientVersion(!0),s=x.versionCompare(a,"8.0.7")>=0;return o>=e&&s}return!1},x.isImmersive=function(){if("1"!==k("wechat_immersive"))return!1;var e,t,n=x.clientVersion(!0);return x.isiOS&&x.versionCompare(n,"7.0.15")>=0?void 0===(null===(e=window.wgclient)||void 0===e?void 0:e.__isGameCenterScene__)||!(null===(t=window.wgclient)||void 0===t||!t.__isGameCenterScene__):!!(x.isAndroid&&x.versionCompare(n,"7.0.17")>=0)},x.initAccessibilityModeListener=function(){var e,t,n=100,i={2:1,3:1.1,4:1.12,5:1.125,6:1.4,7:1.4,8:1.4};function r(e,t){window.wgclient||(window.wgclient={}),document.body.classList.add("wg_accessibility_mode"),t?o(t):(document.documentElement.style.setProperty("--font-scale",i[e]||1),window.wgclient.__currentFontScale=i[e])}function o(e){window.wgclient||(window.wgclient={}),document.documentElement.style.setProperty("--font-scale",e/100),x.isiOS&&(document.body.style.webkitTextSizeAdjust=e+"%",document.body.style.textSizeAdjust=e+"%"),window.wgclient.__currentFontScale=e/100}x.isiOS?(WXGAME.WxBridge.verifyJsapi(["getUserConfig"],(function(e){WXGAME.WxBridge.invoke("getUserConfig",{},(function(e){e&&e.isAccessibilityMode&&(e.fontSize=e.fontSize||7,e.fontScale=e.fontScale||140,r(e.fontSize,e.fontScale))}))})),WXGAME.WxBridge.on("menu:setfont",(function(e){e&&e.fontSize&&(e.fontSize,n=e.fontScale),e&&e.fontSize>4?r(e.fontSize,e.fontScale):(document.body.classList.remove("wg_accessibility_mode"),o(e.fontScale||100))}))):null!==(e=window)&&void 0!==e&&e.wgclient&&null!==(t=window)&&void 0!==t&&t.wgclient.__currentFontSize__&&(window.wgclient.__currentFontSize__>4?r(window.wgclient.__currentFontSize__):o(n||100))},x.canPreInjectDataUse=function(){if(x.isCSR)return!1;var e=x.clientVersion(!0);return!!(x.isiOS&&x.versionCompare(e,"8.0.0")>=0)||!!(x.isAndroid&&x.versionCompare(e,"8.0.0")>=0)},x.getPreInjectData=function(){if(!x.isCSR){if(j)return j;var e;if(x.canPreInjectDataUse()){var t;e=null===(t=window.wgclient)||void 0===t?void 0:t.__gamePreInjectData__}else{var n=k("pij_d_k");if(n){var i="pij_d_k_".concat(n);e=localStorage.getItem(i),localStorage.removeItem(i)}}if(e)try{e=JSON.parse(e)}catch(e){}return j=e,e}},x.isHalfScreen=function(){var e,t,n=null===(e=window.__wxWebEnv)||void 0===e||null===(t=e.getEnv)||void 0===t?void 0:t.call(e);if(n){var i;try{n=JSON.parse(n)}catch(e){}var r=(null===(i=n)||void 0===i?void 0:i.heightPercent)||0;if(r>0&&r<1)return!0}return!1};var W=!k("is_real_name")||!!k("is_real_name");if(x.setRealName=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];W=e},x.isRealName=function(){return W},x.onRealNameRequestFns=[],x.onRealNameRequest=function(e){x.onRealNameRequestFns.push(e)},!x.isCSR){var R=window;R.WXGAME&&R.WXGAME.Env&&(x=R.WXGAME.Env)}x.getGameSessionId=function(){var e;return x.isCSR?"":(null===(e=window.wgclient)||void 0===e?void 0:e.__report_session_id__)||""};var G=x;t.default=G},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.S=w,t.SCN=v,t.STN=A,t.appendQueryStr=function(e,t,n){if(!n)return e;var i=new RegExp("([?&])"+t+"=.*?(&|$)","i");if(e.match(i))return e.replace(i,"$1"+t+"="+n+"$2");var r=-1!==e.indexOf("?")?"&":"?",o=e.split("#");return e=o[0]+r+t+"="+n,o[1]&&(e+="#"+o[1]),e},t.buildAPI=m,t.default=void 0,t.extend=d,t.getAllQueryStr=p,t.getCSR=s,t.getQueryStr=u,t.getURLObject=void 0,t.getValue=h,t.hexColor2GrayColor=b,t.isCSR=void 0,t.log=_,t.removeQueryStringKey=g,t.rgbToHsl=y,t.unikey=l;var r=i(n(4)),o=i(n(25)),a="undefined"!=typeof __VUE_SSR_CONTEXT__;function s(){return __VUE_SSR_CONTEXT__}function l(e){return[e,"f",Math.random()].join("").split(".").join("")}function d(){for(var e=arguments,t=e[0],n=1,i=e.length;n<i;n++){var r=e[n];for(var o in r)t[o]=r[o]}return t}t.isCSR=a;var c={checkQueryKeyMap:{},SafeQueryKeyWhiteList:["uin","pass_ticket","key","access_token","noticeid","act_id","rpt_allpath","wechat_immersive","wechat_pkgid","abt","appid"],checkValueIsSafe:function(e,t){c.SafeQueryKeyWhiteList.find((function(t){return t===e}))||t&&(e in c.checkQueryKeyMap||(c.checkQueryKeyMap[e]={checked:!1,value:t},c.checkValueIsSafeDebounced(e,t)))},checkValueIsSafeDebounced:(0,o.default)((function(){setTimeout((function(){Object.keys(c.checkQueryKeyMap).forEach((function(e){var t=c.checkQueryKeyMap[e];if(!0!==t.checked){t.checked=!0;var n,i=decodeURIComponent(t.value);if(/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi.test(i))console.error("通过queryString获取到的值为中文字符，请安全使用。key 为 ".concat(e)),null!==(n=WXGAME)&&void 0!==n&&n.baseQualityReport&&WXGAME.baseQualityReport.StartLogic(WXGAME.baseQualityReport.LOGIC_CONST.TypeTextEnum.EEVEE,"query_contains_chinese",{value:i}).EndLogic({err_msg:e});else if(/^(https?:)?\/\//.test(i)){var r;console.error("通过queryString获取到的值为链接，请安全使用。key 为 ".concat(e)),null!==(r=WXGAME)&&void 0!==r&&r.baseQualityReport&&WXGAME.baseQualityReport.StartLogic(WXGAME.baseQualityReport.LOGIC_CONST.TypeTextEnum.EEVEE,"query_contains_url",{value:i}).EndLogic({err_msg:e})}}}))}),200)}),2e3,{trailing:!1})};function u(e,t,n){var i=t;if(a){if(!t)return h(s(),"query."+e)}else{if(void 0===n&&(n=window),void 0===n.location)throw"Illegal Context,Need context.location";i=t||n.location.search}var r=(i=(""+i).replace(/#(.*)$/g,"").replace(/&amp;/g,"&")).match(new RegExp("[?&]"+e+"=([^&]+)","i"));return null==r||r.length<=1?"":(t||c.checkValueIsSafe(e,r[1]),r[1])}function f(e){return decodeURIComponent(e.replace(/\+/g," "))}function p(e,t){var n=e;if(a){if(!e)return h(s(),"query")}else{if(void 0===t&&(t=window),void 0===t.location)throw"Illegal Context,Need context.location";n=e||t.location.search}for(var i,r=(n=(""+n).replace(/#(.*)$/g,"").replace(/&amp;/g,"&")).split("?"),o=r.length>=2?r[1]:"",l={},d=/([^&=]+)=?([^&]*)/g;i=d.exec(o);){var u=f(i[1]),p=f(i[2]);l[u]=p,c.checkValueIsSafe(u,p)}return l}function g(e,t){var n=t||location.href,i=new RegExp("([?&])"+e+"=([^&]*)&?","i");return n.replace(i,"$1")}function _(e){(new Image).src="https://game.weixin.qq.com/favicon.ico?ts="+(new Date).getTime()+"&log="+encodeURIComponent(e)}function m(e,t){var n=null,i=/(iPhone|iPad|iPod|iOS)/i.test(r.default.window.navigator.userAgent),o=/(Android)/i.test(r.default.window.navigator.userAgent),a=e.lastIndexOf("."),s=function(e){var t,n=e.split("."),i=window;for(var r in n)!i[t=n[r]]&&(i[t]={}),i=i[t];return i}(e.substring(0,a));n=t.iOS&&i?t.iOS:t.android&&o?t.android:function(){},s[e.substring(a+1)]=n}function h(e,t){for(var n=t.split("."),i=e||{},r=null;r=n.shift();){if(void 0===i[r]||null===i[r])return;i=i[r]}return i}function w(e,t){return(t||r.default.window).document.getElementById(e)}function v(e,t){return(t||r.default.window).document.getElementsByClassName(e)}function A(e,t){return(t||r.default.window).document.getElementsByTagName(e)}function b(e){var t=e.toLowerCase();if(t&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/.test(t)){var n=[];if(4===t.length)for(var i=1;i<=3;i++){var r=t.slice(i,i+1);n.push("0x".concat(r).concat(r))}else for(i=1;i<=6;i+=2)n.push("0x".concat(t.slice(i,i+2)));var o=Math.floor((299*n[0]+587*n[1]+114*n[2])/1e3).toString(16);return"#".concat(o).concat(o).concat(o)}return t}function y(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.max(i,r,o),s=Math.min(i,r,o),l=a,d=a-s;if(n=0===a?0:d/a,a===s)t=0;else{switch(a){case i:t=(r-o)/d+(r<o?6:0);break;case r:t=(o-i)/d+2;break;case o:t=(i-r)/d+4}t/=6}var c=(2-n)*l/2;return 0!=c&&(n=1==c?0:c<.5?n*l/(2*c):n*l/(2-2*c)),[Math.round(360*t),Math.round(100*n),Math.round(100*c)]}var k=function(e,t){return/[a-zA-Z]+:\/\//.test(e)?e:/^\/\//.test(e)?"https:".concat(e):/^\//.test(e)?"".concat(t).concat(e):"".concat(t,"/").concat(e)},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://game.weixin.qq.com";return e=k(e,t),new URL(e)};t.getURLObject=x;var S={S:w,SCN:v,STN:A,getValue:h,extend:d,unikey:l,log:_,getQueryStr:u,getAllQueryStr:p,removeQueryStringKey:g,buildAPI:m,isCSR:a,getCSR:s,hexColor2GrayColor:b,rgbToHsl:y,getURLObject:x};t.default=S},function(e,t,n){"use strict";function i(){var e={};if("undefined"==typeof __VUE_SSR_CONTEXT__)try{top.window&&top.window.document&&(e=top.window)}catch(t){e=window}return e}function r(e,t){return(t||i()).document.getElementById(e)}function o(e,t){return(t||i()).document.getElementsByClassName(e)}function a(e,t){return(t||i()).document.getElementsByTagName(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.S=r,t.SCN=o,t.STN=a,t.win=t.dom=t.default=void 0;var s=r;t.dom=s;var l=i();t.win=l;var d={S:r,SCN:o,STN:a,dom:r,window:i()};t.default=d},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(12)),a=i(n(13)),s=i(n(2)),l=i(n(4)),d=i(n(11)),c=i(n(18)),u=i(n(14)),f=n(42);s.default.isCSR?r={}:function(e,t){var n;if(e.WXGAME&&e.WXGAME.WxBridge)return n=e.WXGAME.WxBridge,void(r=n);l.default.window.navigator.userAgent.indexOf("MicroMessenger/");var i=/(Android)/i.test(l.default.window.navigator.userAgent);l.default.window.jsapiQueue=l.default.window.jsapiQueue||new c.default,l.default.window.jsapiQueue.setSync(),l.default.window.verifiedMap={};var p,g=["hideMenuItems","showMenuItems","cache","setPageTitle","downloadAppInternal","launchApplication","addDownloadTaskStraight","clearBounceBackground","disableBounceScroll","dispatchEvent","openGameWebView","openCustomWebview","openWKWebView","recordOperateUserData","pauseDownloadTask","resumeDownloadTask","recordHistory","getGameCommInfo","launchMiniProgram","openGameUrlWithExtraWebView","reportGamePageTime","currentMpInfo","getNetworkType","showSmileyPanel","onGetKeyboardHeight","operateGameCenterMsg","reportGameWeb","jumpDownloaderWidget","getDownloadWidgetTaskInfos","openGameCenter","clearGameData","setNavigationBarButtons","openGameRegion","onNetWorkChange","openWeApp","batchUpdateWepkg","profile","enableGameView","uploadMediaFile","shareCustomContent","setGameTab","editAddress","startGameLifeConversation","setScreenOrientation","openFinderTopicView","gameCenterFacade","configLiveBrandName","geoLocation","chooseMedia","chooseImage","openGameTabHome","requestOverlayPermission","updateAppMessageShareData"],_=["menuItem:share:weiboApp","menuItem:share:QZone","menuItem:share:qq","menuItem:share:facebook","menuItem:openWithQQBrowser","menuItem:openWithSafari","menuItem:copyUrl","menuItem:share:brand","menuItem:share:email","menuItem:wework"],m=["wx-open-video"],h={};function w(t,n,i){var r=((e.WXGAME||{}).baseQualityReport||d.default).StartRunner("jsbridge_base.verifyCall",{act:t},null);r.EndLogic({err_msg:"jsbridge_base.verifyCall starts"});var o=function(){for(var o=!0,a=0,s=(t=t||[]).length;a<s;a++)if(!l.default.window.verifiedMap[t[a]]){o=!1;break}if(!0===o)return n.err_msg="preVerifyJSAPI:ok",void(i&&i(!0,n));l.default.window.jsapiQueue.run((function(o){var a=this,s=!0;if(null!=o){o.verifiedList=o.verifiedList||[];for(var d=0,c=t.length;d<c;d++)if(null==o.verifiedList[t[d]]){s=!1;break}}if(null!=o&&!0===s){var u={};1==o.ret?(n.res=o.res,u=n):u=o.res,a.done(o),i&&i(o.ret,u)}else window.ReportLuggage&&window.NavigationStart&&window.ReportLuggage.previrifyBgn((new Date).getTime()-window.NavigationStart,(new Date).getTime(),window.NavigationStart),b("preVerifyJSAPI",{verifyOpenTagList:m,verifyJsApiList:t,verifyAppId:"wx62d9035fd4fd2059",verifyTimestamp:n.timestamp||e.timestamp,verifyNonceStr:n.noncestr||e.noncestr,verifySignType:"sha1",verifySignature:n.signature||e.signature},(function(e){var o={},s=null;if(e&&-1!=(e.err_msg||e.errMsg||"").indexOf(":ok")){s=!0,window.ReportLuggage&&window.NavigationStart&&window.ReportLuggage.previrify((new Date).getTime()-window.NavigationStart,(new Date).getTime(),window.NavigationStart),!window.performance||!window.performance.timing.navigationStart||window.WxGamePerformanceParams&&window.WxGamePerformanceParams.WebPreVerifyTime||(window.WxGamePerformanceParams=window.WxGamePerformanceParams||{},window.WxGamePerformanceParams.WebPreVerifyTime=(new Date).getTime()-window.performance.timing.navigationStart);for(var d=0,c=(t=t||[]).length;d<c;d++)l.default.window.verifiedMap[t[d]]=!0}else{r.EndLogic({err_msg:"jsbridge_base.verifyCall_fail"+JSON.stringify(e)}),s=!1;for(d=0,c=(t=t||[]).length;d<c;d++)l.default.window.verifiedMap[t[d]]=!1}var u={ret:s,res:e,verifiedList:t};1==u.ret?(n.res=u.res,o=n):o=u.res,a.done(u),i&&i(u.ret,o)}))}))};l.default.window.WeixinJSBridge?o.call(l.default.window):l.default.window.document.addEventListener("WeixinJSBridgeReady",(function(){o.call(l.default.window)}))}function v(t){var n=this;t=t||function(){},l.default.window.WeixinJSBridge?(window.logInfo&&!window.hasBridgeTime&&logInfo("getBridge"," top window bridge already exists"),window.ReportLuggage&&window.NavigationStart&&!window.reportJsbridgeReadyBgn&&(window.ReportLuggage.jsbridgeReadyBgn((new Date).getTime()-window.NavigationStart,(new Date).getTime(),window.NavigationStart),window.ReportLuggage.jsbridgeReadyEnd((new Date).getTime()-window.NavigationStart,(new Date).getTime(),window.NavigationStart),window.reportJsbridgeReadyBgn=!0,window.reportJsbridgeReadyEnd=!0),window.hasBridgeTime=(new Date).getTime(),t&&t.call(n,l.default.window.WeixinJSBridge)):(window.logInfo&&logInfo("getBridge"," top window bridge not exists"),e.hasNoBridgeTime=(new Date).getTime(),t.isCalled=!1,i&&(e.preReadyAdded||l.default.window.document.addEventListener("WeixinJSBridgePreReady",(function(){e.preReadyAdded=!0,e.bridgeReadyTime1=(new Date).getTime(),0==t.isCalled&&(t.call(n,l.default.window.WeixinJSBridge),t.isCalled=!0)}))),window.ReportLuggage&&window.NavigationStart&&!window.reportJsbridgeReadyBgn&&(window.ReportLuggage.jsbridgeReadyBgn((new Date).getTime()-window.NavigationStart,(new Date).getTime(),window.NavigationStart),window.reportJsbridgeReadyBgn=!0),l.default.window.document.addEventListener("WeixinJSBridgeReady",(function(){window.ReportLuggage&&window.NavigationStart&&!window.reportJsbridgeReadyEnd&&(window.ReportLuggage.jsbridgeReadyEnd((new Date).getTime()-window.NavigationStart,(new Date).getTime(),window.NavigationStart),window.reportJsbridgeReadyEnd=!0),!window.performance||!window.performance.timing.navigationStart||window.WxGamePerformanceParams&&window.WxGamePerformanceParams.JsapiReadyTime||(window.WxGamePerformanceParams=window.WxGamePerformanceParams||{},window.WxGamePerformanceParams.JsapiReadyTime=(new Date).getTime()-window.performance.timing.navigationStart),e.bridgeReadyTime2=(new Date).getTime(),0==t.isCalled&&(t.call(n,l.default.window.WeixinJSBridge),t.isCalled=!0)})))}function A(e){b("setGameData",{key:"A8KeyStoreKey",value:JSON.stringify(e),expireTime:1296e3},(function(e){-1==(e.err_msg||"").toLowerCase().indexOf(":ok")&&u.default.logInfo("saveLoginedA8key_setGameData",e)}))}function b(t,n,i){v(function(){var r=(0,a.default)(o.default.mark((function r(a){var l,c,u,p,g;return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=e.WXGAME||{},c=l.baseQualityReport||d.default,u=c.StartLogic(c.LOGIC_CONST.TypeTextEnum.JSAPI,t,n,null),r.next=5,(0,f.beforeInvoke)(t,n,i);case 5:if(null==(p=r.sent)||!p.mock||null==p||!p.response){r.next=10;break}return u.EndLogic(p.response),i&&i(p.response),r.abrupt("return");case 10:if(null===s.default||void 0===s.default||!s.default.isPcWechat||"sendAppMessage"!==t&&"shareTimeline"!==t){r.next=19;break}return r.prev=11,g=new Promise((function(e){w(["updateAppMessageShareData"],{},(function(){a.invoke("updateAppMessageShareData",{appId:n.appid||"wx62d9035fd4fd2059",appid:n.appid||"wx62d9035fd4fd2059",desc:n.desc,imgUrl:n.img_url,link:n.link,title:n.title},(function(){e()}))}))})),r.next=15,g;case 15:r.next=19;break;case 17:r.prev=17,r.t0=r.catch(11);case 19:a.invoke(t,n,(function(e){"invokeMiniProgramAPI"!==t&&u.EndLogic(e),i&&i(e)}));case 20:case"end":return r.stop()}}),r,null,[[11,17]])})));return function(e){return r.apply(this,arguments)}}())}function y(t,n){t in h||(h[t]=[],l.default.window.WeixinJSBridge.on(t,(function(n){var i=(e.WXGAME||{}).baseQualityReport||d.default,r=i.StartLogic(i.LOGIC_CONST.TypeTextEnum.JSAPI,t,{},null);u.default.logInfo("base_jsapi_on",t),function(e,t){if(e in h)for(var n=0,i=h[e].length;n<i;n++)h[e][n](t),h[e][n].called=!0}(t,n),r.EndLogic(n)})));for(var i=0,r=h[t].length;i<r;i++)if(n==h[t][i])return;h[t].push(n)}p=e._wxBridge_base?e._wxBridge_base:{apis:g,openTags:m,menuItems:_,getBridge:v,verifyCall:w,invoke:b,call:b,on:function(e,t){l.default.window.WeixinJSBridge?y(e,t):v((function(){y(e,t)}))},filterOptionMenu:function(e,t){w(g,(e=e||{})||{},(function(n){t&&"function"==typeof t&&t(n),e&&!e.noHide&&b("hideMenuItems",{menuList:_})}))},getA8key:function(t){var n=((e.WXGAME||{}).baseQualityReport||d.default).StartRunner("jsbridge_base.getA8key",{},null),i=0;(t=t||function(){}).isCbkCalled=!1,function(e){!l.default.window.onGetA8KeyUrlOned&&l.default.window.WeixinJSBridge&&l.default.window.WeixinJSBridge.on("onGetA8KeyUrl",(function(t){window.logInfo&&logInfo("getUinKey",t,"get Login from Event onGetA8KeyUrl"),!1===e.isCbkCalled&&(A(t),e.isCbkCalled=!0,e&&e(t,"a8keyonGetA8KeyUrl"))})),l.default.window.onGetA8KeyUrlOned=!0}(t),function e(){b("getWePkgAuthResult",{},(function(r){window.logInfo&&logInfo("getA8key",r,"get Login from getWePkgAuthResult");var o=(""+r.err_msg).replace(/[\s_]/g,"").toLowerCase(),a=-1!=o.indexOf("notreturn")||-1!=o.indexOf("failfullurlempty");if(-1!=o.indexOf(":ok"))!1===t.isCbkCalled&&(A(r),t.isCbkCalled=!0,t&&t(r,"a8keygetWePkgAuthResult"));else{if(a){if(++i<=10)return window.logError&&logError("getA8key",r,"trying "+i+" times getWePkgAuthResult"),void setTimeout(e,500);var s="try "+i+" times getWePkgAuthResult Failed";return window.logError&&logError("getA8key",r,s,"I got no onGetA8KeyUrl Event, Page all crashed"),n.EndLogic({err_msg:s}),void(!1===t.isCbkCalled&&(t.isCbkCalled=!0,function(e,t){e.EndLogic({err_msg:"getPreLoginedA8key"}),b("getGameData",{key:"A8KeyStoreKey"},(function(n){if(-1!=(n.err_msg||"").toLowerCase().indexOf(":ok")){var i="";try{i=JSON.parse(n.value)}catch(e){i={}}t&&t(i),e.EndLogic({err_msg:"getPreLoginedA8key_success"})}else t&&t(!1),e.EndLogic({err_msg:"getPreLoginedA8key_fail_forjsapi"})}))}(n,(function(e){!1===e?t&&t({err_msg:s},"wepkgToUrl"):t&&t(e,"retryUseOldA8key")}))))}-1!=o.indexOf("offline")?!1===t.isCbkCalled&&(t.isCbkCalled=!0,t&&t({err_msg:"fail_offline"},"wepkgOfflineToUrl")):(n.EndLogic({err_msg:"unknow getA8key",res:r}),!1===t.isCbkCalled&&(t.isCbkCalled=!0,t&&t({err_msg:"unknow getA8key"},"unknow")))}}))}.call(e)}},e._wxBridge_base=p,r=n||p}(window,window.document);var p=r;t.default=p},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=i(n(2)),s=i(n(21)),l=m(n(7)),d=i(n(4)),c=i(n(3)),u=(i(n(64)),i(n(8))),f=i(n(11)),p=i(n(14)),g=m(n(27));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var h,w=c.default.getQueryStr;function v(e,t,n){var i,r=this,_=e.cgi,m=e.params,h=e.login,v=e.tparam;v.method=v.method||"GET";var A=v.timeout||3e4,b=v.method,y=v.contentType,k={uin:h.uin,key:h.key},x={pass_ticket:h.pass_ticket},S=w("abtest_cookie",null,d.default.window),I=w("abt",null,d.default.window);if(v.abtest_cookie=v.abtest_cookie||S,v.abt=v.abt||I,"string"==typeof m)try{var C=JSON.parse(m);window.__KULP_BUILD_VERSION__&&(C.build_version=window.__KULP_BUILD_VERSION__),m=JSON.stringify(C)}catch(e){}window.__KULP_BUILD_VERSION__&&(v.build_version=__KULP_BUILD_VERSION__);var O,E={};if(h.openid&&(E.openid=h.openid),h.access_token&&(E.access_token=h.access_token),a.default.isMSDK&&(O=g.getInGameLoginByType()),"get"===b.toLowerCase())x.pass_ticket&&!w("pass_ticket",_)&&(v=c.default.extend(v,x)),k.uin&&!w("uin",_)&&(v=c.default.extend(v,k)),E.access_token&&!w("access_token",_)&&(v=c.default.extend(v,E)),_=_+(-1==_.indexOf("?")?"?":"&")+l.mapToStr(v)+(O?"&"+O:"");else{var T={};T.abtest_cookie=v.abtest_cookie,T.abt=v.abt,T.build_version=v.build_version||0,v.cgi_mock_key&&(T.cgi_mock_key=v.cgi_mock_key),x.pass_ticket&&!w("pass_ticket",_)&&(T=c.default.extend(T,x)),k.uin&&!w("uin",_)&&(T=c.default.extend(T,k)),E.access_token&&!w("access_token",_)&&(T=c.default.extend(T,E)),_=_+(-1==_.indexOf("?")?"?":"&")+l.mapToStr(T)+(O?"&"+O:"")}var P,M=(window.WXGAME||{}).baseQualityReport||f.default,D=M.StartLogic(M.LOGIC_CONST.TypeTextEnum.CGI,_,v,u.default),B=new s.default(_,b,A);(new Date).getTime();if((B.onComplete=function(e){var n={},i=e.responseText||"";try{i=i.trim(),n=JSON.parse(i)}catch(e){try{n=new Function("return "+i)()}catch(e){n={}}}if(1!=+e.getResponseHeader("x-wxgame-service-unavailable")){setTimeout((function(){p.default.logInfo("xhrCallCgi","onComplete",_,n)}),0),t&&t.call(r,n);var o;(new Date).getTime();if(0!=1*(o="ret"in n?n.ret:n.base&&"ret"in n.base?n.base.ret:"errcode"in n?n.errcode:9999)){var a=e.getResponseHeader("X-WXGAME-ERRLEVEL");(!a||Number(a)>3)&&D.EndLogic({errcode:o,webtransfer:!!e.webTransferConfig})}if(100*Math.random()<10){var s={pa:e.timeArr[1]-e.timeArr[0],pb:e.timeArr[2]-e.timeArr[1],pc:e.timeArr[3]-e.timeArr[2],pd:e.timeArr[4]-e.timeArr[3],status:"ok"};D.EndLogic({time_list:JSON.stringify(s),webtransfer:!!e.webTransferConfig})}try{n&&n.report_info&&n.report_info.exp_rpt_list&&n.report_info.exp_rpt_list.length>0&&(window._expRptList_=(window._expRptList_||[]).concat(n.report_info.exp_rpt_list))}catch(e){}}else{-1==(location.href||"").indexOf("purecenter/error.html")&&location.replace("https://game.weixin.qq.com/cgi-bin/h5/static/purecenter/error.html")}},B.onError=function(e,t,i){D.EndLogic({errcode:t,webtransfer:!!e.webTransferConfig}),"ok"!=t&&n&&n.call(r,t,i);var o={};try{o=new Function("return "+e.responseText)()||{}}catch(t){o={responseText:e.responseText}}p.default.logError("xhrCallCgi","onError",e,o,t,_);(new Date).getTime();try{isNaN(o.errcode)?isNaN(o.ret)?999999:o.ret:o.errcode}catch(e){404}if("ret"in o?o.ret=o.ret:o.base&&"ret"in o.base?o.ret=o.base.ret:o.ret="errcode"in o?o.errcode:0,100*Math.random()<10){var a={pa:e.timeArr[1]-e.timeArr[0],pb:e.timeArr[2]-e.timeArr[1],pc:e.timeArr[3]-e.timeArr[2],pd:e.timeArr[4]-e.timeArr[3],status:"fail"};D.EndLogic({time_list:JSON.stringify(a),webtransfer:!!e.webTransferConfig})}},a.default.isiOS&&2===(null===(i=window.wgclient)||void 0===i?void 0:i.wkGameInterceptMethod))&&((P=m)instanceof Blob||"object"===(0,o.default)(P)&&Object.keys(P).some((function(e){return P[e]instanceof Blob}))))return M.StartRunner("httpSchemaCrash",{}).EndLogic({err_msg:_}),B;return"multipart/form-data"===y&&"object"===(0,o.default)(m)?(p.default.logInfo("xhrCallCgi",_,m,A),B.send(m,{contentType:y})):"string"==typeof m?(p.default.logInfo("xhrCallCgi",_,m,A),B.send(m)):(p.default.logInfo("xhrCallCgi",_,m,A),B.send(l.mapToStr(v))),B}if(a.default.isCSR)h=function(e,t,n,i){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=l.strToMap(t)}var r={method:t.method.toUpperCase(),url:e};if(delete t.method,"POST"===r.method.toUpperCase())r.body=t,r.json=!0;else{var o="";for(var s in t)o+="".concat(s,"=").concat(encodeURIComponent(t[s]),"&");r.url=r.url+(r.url.indexOf("?")>-1?o:"?".concat(o)),r.json=!0}a.default.getCSR().request(r,(function(e){n&&n(e)}),(function(e){i&&i(e)}))};else{var A=window;h=A.WXGAME&&A.WXGAME.xhrCallCgi&&!a.default.isMSDK?A.WXGAME.xhrCallCgi:function(e,t,n,i){var r=this,o=t||{};if("string"==typeof o)try{o=JSON.parse(o)}catch(e){o=l.strToMap(o)}var a=w("cgi_mock_key",null,d.default.window);a&&(o.cgi_mock_key=a),o.needLogin=null==o.needLogin||o.needLogin;var s={cgi:e,params:t,login:{},tparam:o};o.needLogin?u.default.getUinKey((function(e){s.login=e,v.call(r,s,n,i)})):(s.login={},v.call(r,s,n,i))}}var b=h;t.default=b},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.exencodeURIComponent=m,t.filterArrXSS=c,t.filterImg=p,t.filterUrlByKey=_,t.filterXSS=d,t.format=void 0,t.getDomainPath=v,t.getHash=w,t.getQuery=h,t.insertHTMLFilterXss=g,t.isIOS=f,t.mapToStr=s,t.strToMap=l,t.trim=a;var r=i(n(1)),o=i(n(4));function a(e){return(e&&e.replace?e:"").replace(/(^\s*)|(\s*$)/g,"")}function s(e,t,n){try{t=t||"&",n=n||"=";var i=[];for(var r in e)i.push(r+n+e[r]);return i.join(t)}catch(e){alert(e.message)}}function l(e,t,n){t=t||"&",n=n||"=";var i=e.split(t),r={};for(var o in i){var a=i[o].split(n);2==a.length&&(r[a[0]]=a[1])}return r}function d(e,t){var n=""+(e||"");return t&&(n=n.replace(/<[^>]+>/g,"")),n.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/\"/gm,"&quot;").replace(/\'/gm,"&#39;")}function c(e,t){for(var n=0,i=(e=e||[]).length;n<i;n++)e[n]=d(e[n],t);return e}var u=function(e,t,n){return void 0===n&&(n=!0),n=!!n,(e+="").replace(/\{(\w+)\}/g,(function(e,i){var r=void 0!==t[i]?t[i].toString():e;return n?d(r):r}))};function f(){return/(iPhone|iPad|iPod|iOS)/i.test(o.default.window.navigator.userAgent)}function p(e){var t=/android/i.test(o.default.window.navigator.userAgent),n=(e+"").replace(/^\s*https?:\/\//i,"").replace(/^\s*\/\//,"");return/^\/[^\/]/i.test(e)?e:(t?"http:":location.protocol)+"//"+n}function g(e,t,n){if("object"===(0,r.default)(e)){t=e.elem,n=e.unXss;var i=e.position,o=n?e.data:d(e.data);t.insertAdjacentHTML(i,o)}else"string"==typeof e&&(t.innerHTML=n?e:d(e))}function _(e,t){return t.forEach((function(t,n){var i=new RegExp("[?&]("+t+"=([^&]*))","i"),r=e.match(i);r&&r.length>2&&(""==r[2]||"undefined"==r[2]||"0"==r[2])&&(e=e.replace(r[1],"").replace(/(\?|\&)\&/g,"$1"))})),e}function m(e){try{var t=decodeURIComponent(e),n=!1;try{JSON.parse(t);n=!0}catch(e){n=!1}return n?encodeURIComponent(t):t!=e?e:encodeURIComponent(e)}catch(t){var i,r;return null!==(i=WXGAME)&&void 0!==i&&null!==(r=i.baseQualityReport)&&void 0!==r&&r.StartRunner&&WXGAME.baseQualityReport.StartRunner("url_malformed",{}).EndLogic({err_msg:e}),""}}function h(e){var t=""+((e=(e=e||"").replace(/#.*$/,""))||o.default.window.location.href),n=t.indexOf("?");return l(t.substr(n+1))}function w(e){var t=""+(e||o.default.window.location.href),n=t.indexOf("#");return-1!=n?t.substr(n+1):""}function v(e){var t=""+(e||o.default.window.location.href),n=t.indexOf("?");return-1!=n?t.substr(0,n):t}t.format=u;var A={format:u,filterXSS:d,mapToStr:s,strToMap:l,trim:a,isIOS:f,filterArrXSS:c,filterImg:p,insertHTMLFilterXss:g,filterUrlByKey:_,exencodeURIComponent:m,getQuery:h,getHash:w,getDomainPath:v};t.default=A},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(2)),a=i(n(60)),s=i(n(4)),l=i(n(3)),d=i(n(21)),c=i(n(18)),u=i(n(14)),f=i(n(62)),p=i(n(63)),g=i(n(11));o.default.isCSR?r={}:function(e){var t;if(e.WXGAME&&e.WXGAME.WxBridge)return t=e.WXGAME.WxBridge,void(r=t);t=a.default,s.default.window.getUinKeyQueue=s.default.window.getUinKeyQueue||new c.default,s.default.window.getUinKeyQueue.setRelevant(),s.default.window.verifyJsapiQueue=s.default.window.verifyJsapiQueue||new c.default,s.default.window.verifyJsapiQueue.setSync();var n=l.default.getQueryStr,i=s.default.window.location;function _(e){var n=this;t.getBridge((function(t){e&&e.call(n,t)}))}var m,h={firstLogin:{},buildLoginByObj:function(e){var t=e.full_url||e.fullurl||e.url||"",i=n("uin",t,s.default.window),r=n("key",t,s.default.window),o=n("pass_ticket",t,s.default.window),a=n("abtest_cookie",t,s.default.window),l=n("access_token",t,s.default.window),d=n("openid",t,s.default.window);return{uin:i,key:r,pass_ticket:o,set_cookie:e.set_cookie,abtest_cookie:a,openid:d,access_token:l}},runCookie:function(e,t,n){var i=this,r=function(r){var a={uin:"",key:"",pass_ticket:"",set_cookie:"",abtest_cookie:"",openid:"",from:r,cookie_passkey:o};i.loginTrigger(e,a,t),n&&n(!0),t.EndLogic({err_msg:"runCookie_"+r})};r.called=!1,window.__GAME_LOGIN_CALLBACK=function(e){t.EndLogic({err_msg:"runCookie_wait_logincallback_success"}),r.called||(r("__GAME_LOGIN_CALLBACK"),r.called=!0)};var o=p.default.cookie_get("cookie_passkey");"1"==o+""?r.called||(r("cookie"),r.called=!0):t.EndLogic({err_msg:"runCookie_wait_logincallback"})},canUseCookie:function(){var e=-1;return e=o.default.isAndroid?o.default.hexVersionCompare(o.default.getHexClientVersion(),f.default.AndroidHexCookieVersion):o.default.versionCompare(o.default.clientVersion(!0),f.default.iosCookieVersion),i.pathname.indexOf("litecenter/index.html")>-1&&(e=-1),isNaN(e)?{status:!1,msg:"version illegal"}:o.default.isAndroid&&!o.default.isLuggage?{status:!1,msg:"luggage illegal"}:o.default.isiOS?{status:!1,msg:"ios not support"}:e<0?{status:!1,msg:"version lower"}:{status:!0,msg:"version ok"}},runWepkg:function(e,n,i){var r=this;window.beforeBridgeReady=(new Date).getTime(),i.startJsbridgeReady=Date.now(),_((function(n){window.bridgeReadyTime3=(new Date).getTime(),window.beforeGetA8Key=(new Date).getTime(),i.endJsbridgeReady=Date.now(),u.default.logInfo("getUinKey","start call wxBridge.getA8key"),i.startGetA8KeyTime=Date.now(),t.getA8key((function(n,o){i.endGetA8KeyTime=Date.now();var a=r.buildLoginByObj(n);a.from=o,a.fullFilled=!0,u.default.logInfo("getUinKey","end call wxBridge.getA8key",a),e&&e.call(t,a)}))}))},loginTrigger:function(e,n,i){i.endGetUinKeyTime=Date.now(),this.getUinKeyTimeReported||(this.getUinKeyTimeReported=!0,t.callAfterReady(function(){i.EndLogic({from:n.from||"default",cost_time:i.endGetUinKeyTime-i.startGetUinKeyTime,jsbridge_ready_time:(i.endJsbridgeReady||0)-(i.startJsbridgeReady||0),a8key_time:(i.endGetA8KeyTime||0)-(i.startGetA8KeyTime||0),err_msg:"check_time"})}.bind(this))),u.default.logInfo("getUinKey","last login",n);var r=!!(n&&n.uin&&n.key&&n.pass_ticket),a=n.set_cookie+""=="1"||n.cookie_passkey+""=="1";o.default.isWepkg()&&(r||a||t.callAfterReady((function(){i.EndLogic({err_msg:"getUinKey"})}))),!window.performance||!window.performance.timing.navigationStart||window.WxGamePerformanceParams&&window.WxGamePerformanceParams.GetUinkeyTime||(window.WxGamePerformanceParams=window.WxGamePerformanceParams||{},window.WxGamePerformanceParams.GetUinkeyTime=(new Date).getTime()-window.performance.timing.navigationStart);try{n.cost_time=i.endGetUinKeyTime-i.startGetUinKeyTime,e&&e.call(t,n)}catch(e){console.error("loginTrigger",e)}},urlFullLogin:function(){if(o.default.isAndroid&&o.default.getHexClientVersion()>=671094272)return{isFull:!1,login:{}};var e=this.buildLoginByObj({full_url:null,set_cookie:""},"url");return{isFull:e.uin.length>0&&e.key.length>0&&e.pass_ticket.length>0,login:e}},getUinKey:function(e){var n=this;if(!o.default.isWechat){var i=n.buildLoginByObj({});if(i.access_token)return void(e&&e(i))}var r=((window.WXGAME||{}).baseQualityReport||g.default).StartRunner("wxBridge.getUinKey",{},null);r.startGetUinKeyTime=Date.now();var a=function(i){if(s.default.window.gotLogin){var a=s.default.window.gotLogin;return a.from="memcache",void n.loginTrigger(e,a,r)}s.default.window.getUinKeyQueue.run({fn:function(){var e=this,a=o.default.isWepkg();if(a){var s=setTimeout((function(){u.default.logInfo("getUinKey","runWepkgTimeout:",15e3),t.callAfterReady((function(){r.EndLogic({err_msg:"runWepkgTimeout:15000"})})),e.done({uin:"",key:"",pass_ticket:"",set_cookie:"",abtest_cookie:"",openid:"",access_token:"",fullFilled:!1})}),15e3);n.runWepkg((function(t){clearTimeout(s),e.done(t)}),e,r)}else{var l=n.urlFullLogin();if(l.isFull||o.default.isMSDK){u.default.logInfo("getUinKey","isWepkg:"+a," login all in querystr，first get from url");var d=l.login;d.fullFilled=!0,d.from="url",e.done(d)}else{var c=function(){u.default.logInfo("getUinKey","isWepkg:false"," login url is not full,try run cookie");var t=n.buildLoginByObj({full_url:null,set_cookie:""},"url");t.fullFilled=!0,t.wipeLogin=!0,t.from="url",e.done(t)};if(i){var f=setTimeout((function(){r.EndLogic({err_msg:"runCookie:1200"}),c()}),1200);n.runCookie((function(t){e.done(t)}),r,(function(e){!0===e&&clearTimeout(f)}))}else void 0!==window.__INITIAL_STATE__?(r.EndLogic({err_msg:"runJsapiInJscore"}),n.runWepkg((function(t){e.done(t)}),e,r)):c()}}},backFn:function(t){s.default.window.gotLogin=t,n.loginTrigger(e,t,r)}})},l=this.canUseCookie();if(1==l.status&&o.default.isWepkg()){var d=setTimeout((function(){r.EndLogic({err_msg:"runCookie:1200"}),a(!0)}),1200);this.runCookie(e,r,(function(e){!0===e&&clearTimeout(d)}))}else a(1==l.status)}},w={_qrStr:"",_opt:{loaded:!1,isTestEnv:!1},_cbkQueue:[],callAfterLoaded:function(e){"function"==typeof e&&(this._opt.loaded?e(this._opt):this._cbkQueue.push(e))},consumeCbkQueue:function(e){for(var t=0,n=this._cbkQueue.length;t<n;t++){this._cbkQueue.shift()(e)}},initQryStr:function(e,t){t.uin=e.uin,t.key=e.key,t.pass_ticket=e.pass_ticket,this._qrStr=["uin="+t.uin,"key="+t.key,"pass_ticket="+t.pass_ticket].join("&");var n=this._qrStr;t.loginStr=n,t.from=e.from,t.Referer="Referer="+encodeURIComponent(i.href.split("#")[0]),t.method="GET",t.url="/cgi-bin/comm/genfun?"+n+"&"+t.Referer+"&_="+Math.random()},ajaxGenFun:function(e,n,i){var r=this,o=new d.default;r.initQryStr(e,o);var a=(window.WXGAME||{}).baseQualityReport||g.default,s=a.StartLogic(a.LOGIC_CONST.TypeTextEnum.CGI,o.url,{},null);window.ReportLuggage&&window.NavigationStart&&window.ReportLuggage.genfunBgn((new Date).getTime()-window.NavigationStart,(new Date).getTime(),window.NavigationStart),o.onComplete=function(e){if(window.ReportLuggage&&window.NavigationStart&&window.ReportLuggage.genfunEnd((new Date).getTime()-window.NavigationStart,(new Date).getTime(),window.NavigationStart),-1!=e.responseText.indexOf("{")){0==(a=JSON.parse(e.responseText)).ret?(r._opt.sign=a.data.jsapi_sign,r._opt.sign.loginStr=o.loginStr,r._opt.sign.uin=o.uin,r._opt.sign.key=o.key,r._opt.sign.pass_ticket=o.pass_ticket,r._opt.sign.from=o.from,r._opt.loaded=!0,r._opt.isTestEnv=!!a.data.is_test_env,r.consumeCbkQueue(r._opt),t.verifyCall(n,this._opt.sign,(function(e,t){try{i&&i(e,t)}catch(e){console.error("Your wxBridge.ajaxGenFun callback runtime error ",e)}}))):(s.EndLogic({ret:a.ret,res:a,err_msg:"errcode_"+a.ret}),i&&i(!1,{err_code:1,loginStr:o.loginStr,uin:o.uin,key:o.key,from:o.from,pass_ticket:o.pass_ticket,err_msg:"async signature load error"}),u.default.logError("ajaxGenFun",a," call genfun fail for ret not 0"),r.consumeCbkQueue())}else{var a=JSON.parse(e.responseText);s.EndLogic({ret:a.ret,res:a,err_msg:"errcode_not_json"}),i&&i(!1,{err_code:2,loginStr:o.loginStr,uin:o.uin,key:o.key,from:o.from,pass_ticket:o.pass_ticket,err_msg:"genfun responseText illegal"}),r.consumeCbkQueue()}o=null}.bind(r),o.onError=function(e,t){s.EndLogic({ret:t,res:e,err_msg:"errcode_onError_"+t}),i&&i(!1,{err_code:-1,xhr:e,loginStr:o.loginStr,uin:o.uin,key:o.key,pass_ticket:o.pass_ticket,err_msg:t}),o=null,u.default.logError("ajaxGenFun",t," call genfun fail for timeout"),r.consumeCbkQueue()}.bind(r),o.send(o.Referer?o.Referer:null)},checkIsPreVerified:function(e,t){var n=!0;e=e||{};for(var i=0,r=t.length;i<r;i++)if(!e[t[i]])return n=!1;return n},verifyJsapi:function(e,n){var i=this;if(o.default.isWechat){var r=((window.WXGAME||{}).baseQualityReport||g.default).StartRunner("wxBridge.verifyJsapi",{},null);s.default.window.verifyJsapiQueue.run((function(o){var a=this;if(i.checkIsPreVerified(s.default.window.verifyJsapiQueue.verifiedMap,e))try{var l=s.default.window.verifyJsapiQueue.verifiedMap.res;l.from="allVerified",r.EndLogic({err_msg:l.from}),a.done(o),n&&n(!0,l)}catch(e){var d="verifyJsapi callback runtime error";console.error(d,e),r.EndLogic({err_msg:d}),a.done(o)}else h.getUinKey(function(o){i.ajaxGenFun(o,e,function(i,o){i||r.EndLogic({err_msg:{code:i,res:o}});var l=s.default.window.verifyJsapiQueue.verifiedMap||{};if(!0===i)for(var d=0,c=e.length;d<c;d++)l[e[d]]=!0;l.res=o,s.default.window.verifyJsapiQueue.verifiedMap=l,a.done(l),r.EndLogic({err_msg:"wxBridge.verifyJsapi ends"});try{n&&n.call(t,i,o)}catch(e){var u="getUinKey genFun wxBridge.verifyJsapi callback runtime error ";console.error(u,e),r.EndLogic({err_msg:u})}}.bind(i))}.bind(i))}))}else n&&n(!0,{err_msg:"preverifyJSAPI:ok"})}};t.getUinKey=h.getUinKey.bind(h),t.callAfterReady=_,t.verifyJsapi=w.verifyJsapi.bind(w),t.VerifyJsapiModule=w,t.initMpInfo=function(){var e=o.default.getHexClientVersion();o.default.isiOS&&e<402653184||o.default.isAndroid&&e<671088640||t.verifyJsapi(["currentMpInfo"],(function(){t.invoke("currentMpInfo",{brandIcon:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20210115/163913/gamecenter-logo.png",brandName:"微信游戏"},(function(e){}))}))},m=e.WXGAME&&e.WXGAME.WxBridge?e.WXGAME.WxBridge:t,r=m}(window);var _=r;t.default=_},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(41);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(18)),o=i(n(14)),a=i(n(2)),s=i(n(4)),l=n(32),d=s.default.window,c={TypeEnum:{CGI:0,LOGIC:1,CSS:2,JS:3,IMAGE:4,JSAPI:5,COMMLIB:6,BADJS:7,CACHEKEY:8,FEATURE_DETECT:9,EEVEE:10},TypeTextEnum:{CGI:"CGI",LOGIC:"LOGIC",CSS:"CSS",JS:"JS",IMAGE:"IMAGE",JSAPI:"JSAPI",COMMLIB:"COMMLIB",BADJS:"BADJS",CACHEKEY:"CACHEKEY",FEATURE_DETECT:"FEATURE_DETECT",EEVEE:"EEVEE"}},u=function(e){return Object.prototype.toString.call(e).replace(/\]/g,"").split(" ")[1]};var f=function(){var e=new r.default;e.setSync();var t=!1;return function(n,i){i&&e.run((function(){var e=this;if(!0===t)setTimeout((function(){e.done()}),0);else{if(!i.verifyJsapi)return void e.done();i.verifyJsapi(i.apis,(function(n,i){!0===n?(t=!0,e.done()):(o.default.logError("EndLogic","get jsapi reportGameWeb failed"),e.done())}))}})),e.run((function(){var e=this,t=a.default.clientVersion(!0);if(a.default.versionCompare(t,"7.0.0")<0)e.done();else{var i=function(){if(a.default.canIReport())if(a.default.isMiniprogram()){var t=l.KvReportProtocolConfig.quality,i=(0,l.msgToKvString)(n,t.columns.filter((function(e){return e.index>=24})));d.WeixinJSBridge.invoke("invokeMiniProgramAPI",{name:"reportKeyValue",arg:{key:t.logid,value:i,immediately:!0,number:!0}}),e.done()}else d.WeixinJSBridge.invoke("reportGameWeb",{type:"2",isReportNow:"1",data:n},(function(t){e.done();var i=!1;a.default.isiOS&&(i="0"!=t.result),a.default.isAndroid&&(i=-1==t.err_msg.indexOf(":ok")),i&&o.default.logError("EndLogic","jsapi reportGameWeb call fail",t,n)}));else e.done()};d.WeixinJSBridge?i():window.document.addEventListener("WeixinJSBridgeReady",(function(){i()}))}}))}}(),p=function(){var e=function(){this.queue=[],this.lastReportTime=0,this.timer=null};e.prototype.push=function(e){this.queue.push(e),this.timer||(this.timer=setTimeout(function(){this.lastReportTime=Date.now(),this.trigger&&this.trigger(this.queue),this.queue.length=0,clearTimeout(this.timer),this.timer=null}.bind(this),1e3)),this.queue.length>=5&&(this.lastReportTime=Date.now(),this.trigger&&this.trigger(this.queue),this.queue.length=0)};var t=new e;t.trigger=function(){s.default.report16145&&s.default.report16145(this.queue)};var i=function(e,t,n){var i={Type:e[30],Target:e[31],Params:e[32],Result:e[33],CostTime:e[34]};n.push(i)};return function(e){if(s.default.report16145Loaded)s.default.report16145&&i(e,s.default.report16145,t);else{s.default.report16145Loaded=!0;var r=n(33).default;s.default.report16145=r,i(e,0,t)}}}();function g(e,t,i,r){var o=(new Date).getTime();if(null!=e&&!(e in c.TypeEnum))throw"Illegal StartLogic Params: type, see LOGIC_CONST.js";if(null!=t&&"String"!=u(t))throw"Illegal StartLogic Params: target,need string";if(null!=i&&!function(e){return"Object"==u(e)}(i))throw"Illegal StartLogic Params: params,need a json";return{EndLogic:function(r){var s=(new Date).getTime();r=function(e){(e=e||{}).webview={};var t="X5",n="XWEB",i="WKWEB",r="UIWEB",o="ANDROIDUNKNOW";return a.default.isiOS?a.default.isWKweb?e.webview.kernal=i:e.webview.kernal=r:a.default.isAndroid&&(a.default.isX5?e.webview.kernal=t:a.default.isXweb?e.webview.kernal=n:e.webview.kernal=o),e}(r);var l=s-o;r&&r.cost_time&&(l=r.cost_time);var d={Type:c.TypeEnum[e],Target:encodeURIComponent(t+"").substr(0,1024),Params:encodeURIComponent(JSON.stringify(i)).substr(0,1024),Result:encodeURIComponent(JSON.stringify(r)).substr(0,1024),CostTime:l};if(e===c.TypeTextEnum.JSAPI&&n(34).default.isOK(t,r))return;var u="";try{u=window.location.href.replace(location.search,"").replace(location.hash,"")}catch(e){}(a.default.isWechat||a.default.isPcWechat?f:p).call(this,{30:d.Type,31:d.Target,32:d.Params,33:d.Result,34:d.CostTime,35:encodeURIComponent(u)},void 0)}}}var _={StartRunner:function(e,t,n){return g(c.TypeTextEnum.LOGIC,e,t)},StartLogic:g,LOGIC_CONST:c};t.default=_},function(e,t,n){var i=n(58)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(e,t){function n(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}e.exports=function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var a=e.apply(t,i);function s(e){n(a,r,o,s,l,"next",e)}function l(e){n(a,r,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.logWarn=t.logInfo=t.logError=t.default=void 0;var r,o,a,s=i(n(1)),l=i(n(2)),d="undefined"!=typeof __VUE_SSR_CONTEXT__;if(!d){r=function(){var e={};try{top&&top.window&&top.window.document&&(e=top.window)}catch(t){e=window}return e}(),a=function(e,t,n,i){var r=["[WXGameH5Log]","["+{1:"info",2:"warn",3:"error"}[n]+"]","["+t+"]","\n",i,"\n"].join("");if(l.default.isMiniprogram()){e.invoke("invokeMiniProgramAPI",{name:{1:"XLogManager.info",2:"XLogManager.warn",3:"XLogManager.error"}[n],arg:r})}else e.invoke("log",{msg:r})},o=function(e,t,n){var i=window.location.pathname.split(".html");(i=i[0].split("/").slice(-2)).push(e);var o=i.join("_"),s=r.window;s.WeixinJSBridge?a(s.WeixinJSBridge,o,t,n):document.addEventListener("WeixinJSBridgeReady",(function(){a(s.WeixinJSBridge,o,t,n)}))}}var c=function(e){return(e=e||[]).map((function(e){if("object"==(0,s.default)(e))try{e=JSON.stringify(e)}catch(t){e=e}return"string"!=typeof e&&(e=""+e),e}))},u={logInfo:function(e){if(!d)try{var t=Array.prototype.slice.apply(arguments);t=c(t),o(e,1,t.slice(1).join(" "))}catch(e){console.error(e.message)}},logWarn:function(e){if(!d)try{var t=Array.prototype.slice.apply(arguments);t=c(t),o(e,2,t.slice(1).join(" "))}catch(e){console.error(e.message)}},logError:function(e){if(!d)try{var t=Array.prototype.slice.apply(arguments);t=c(t),o(e,3,t.slice(1).join(" "))}catch(e){console.error(e.message)}}};if(!d)for(var f in u)window[f]=u[f];var p=u.logInfo;t.logInfo=p;var g=u.logWarn;t.logWarn=g;var _=u.logError;t.logError=_;var m=u;t.default=m},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=i(n(2)),s=g(n(7)),l=g(n(26)),d=g(n(3)),c=i(n(16)),u=i(n(22)),f=i(n(4));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}a.default.isCSR||function(e){var t=f.default.window,n=d.getQueryStr,i=l.base64decode,r=c.default.getKeyValue,p={},g={},_=f.default.window.navigator.userAgent;function m(e){-1!==e.indexOf("?")?e+="&QB&":e+="?&QB&";try{var t=s.getQuery(e);window.logWarn&&logWarn("report_base","reportData:",t)}catch(e){}new Image(1,1).src=e}p.isiOS=a.default.isiOS,p.isAndroid=a.default.isAndroid,p.isWechat=a.default.isWechat,p.isiOS9=a.default.isiOS9,p.isPcWechat=a.default.isPcWechat,function(s){if(p.isWechat){var l=s.split("MicroMessenger/")[1];g.networktype=a.default.getNetworkType(l),g.clientversion=a.default.clientVersion(),g.device=p.isAndroid?"android":p.isiOS?"iphone":"0"}var d=n("from",null,t),c={singlemessage:1,groupmessage:2,timeline:4,message:10};d&&d in c&&(g.sourcescene=c[d],c=null);var f=n("noticeid")||n("noticeid",null,t);f&&f.length>1?g.noticeid=f:g.noticeid=e.noticeid||e.nNoticeID||e.nNoticeId||66043145;var _=n("actid")||n("actid",null,t)||n("act_id")||n("act_id",null,t)||e.actid||e.iActID||e.iActId||0;_&&(g.actid=_);var h=i(decodeURIComponent(n("uin",null,t)))||r("uin")||0;h&&(g.uin=h),p.reportObj=g,p.imgReport=m;var w=(0,u.default)(p,!0);o=w}(_)}(window);var _=o;t.default=_},function(e,t,n){"use strict";function i(e,t){try{localStorage.setItem(e,t)}catch(n){-1!=n.toString().indexOf("QuotaExceeded")&&(localStorage.clear(),localStorage.setItem(e,t))}}function r(e){return localStorage.getItem(e)}function o(e){localStorage.removeItem(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.delKeyValue=o,t.getKeyValue=r,t.setKeyValue=i;var a={setKeyValue:i,getKeyValue:r,delKeyValue:o};t.default=a},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=i(n(1)),s=i(n(2)),l=i(n(15)),d=w(n(3)),c=w(n(7)),u=w(n(16)),f=i(n(8)),p=i(n(38)),g=i(n(45)),_=w(n(27)),m=i(n(4));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}if(!s.default.isCSR){var v=d.getQueryStr,A=(u.getKeyValue,m.default.window);!function(e,t,n){var i,r;if(null!==(i=t.WXGAME)&&void 0!==i&&null!==(r=i.Report11332)&&void 0!==r&&r.reportBatch)o=t.WXGAME.Report11332.reportBatch.bind(t.WXGAME.Report11332);else{var l=e.reportObj;o=function(e,t,n){var i=new XMLHttpRequest,r=[];i.onreadystatechange=function(){};for(var o=0,a=e.length;o<a;o++){var d=e[o],m="";m+="&ActID="+((d=u(d)).iActID||l.actid||0),m+="&LogType="+(d.iLogType||l.iLogType||v("abt",null,A)||0),m+="&SceneID="+(d.iSceneId||0),m+="&GameID="+(d.sGameId||"");var h=d.iSourceSceneId||v("ssid",null,A)||0,w=d.iSourceId||v("source_id",null,A)||0;w?/^\d+$/.test(w)&&(m+="&SourceID="+w):h&&/^\d+$/.test(h)&&(m+="&SourceID="+h),h>=0&&h<=100&&(m+="&ssid="+h);var b=d.iTime;b&&(b=(b=Number(b))!=b?0:Math.floor(b)),m+="&UIArea="+(d.iUIArea||0),m+="&PositionID="+(d.iPositionId||0),m+="&ActionID="+(d.iActionId||0),m+="&ActionStatus="+(d.sActionStatus||0),m+="&GiftID="+(d.iGiftBagId||0),m+="&GiftType="+(d.iGiftBagType||0),m+="&ChatroomName="+(d.iChatroomName||""),m+="&NoticeID="+(d.iNoticeId||v("noticeid",null,A)||0),m+="&ConnectType="+(d.sConnectType||l.networktype||""),m+="&ISP="+(d.sServiceProvider||""),m+="&DeviceBrand="+(d.sDeviceBrand||""),m+="&DeviceModel="+(d.sDeviceModel||""),m+="&OpType="+(d.iOpType||0);var y=(0,g.default)(d);m+="&ExpID="+(d.iExpID||y.exp_id||0),m+="&ReasonID="+(d.iReasonID||y.reason_id||0),m+="&allpath="+(v("rpt_allpath")||""),m+="&ExternInfo="+c.exencodeURIComponent(d.sExternInfo||l.sExternInfo||""),m+="&getType="+(s.default.isWepkg()?1:0),m+="&URL="+encodeURIComponent(location.href.split("#")[0].replace(/&(uin|pass_ticket|key)=[^&]+/g,"").replace(/\?(uin|pass_ticket|key)=[^&]+/g,"?")),m+="&errType="+(0,p.default)(d),d.iGroupOutId&&(m+="&GroupOutId="+d.iGroupOutId),d.iContentId&&(m+="&ContentId="+d.iContentId),d.iContentType&&(m+="&ContentType="+(d.iContentType||0)),b&&(m+="&Time="+(b||0)),d.sVideoID&&(m+="&VideoID="+(d.sVideoID||"")),d.iReasonID&&(m+="&ReasonID="+(d.iReasonID||0)),m+="&client_timestamp="+Date.now(),window.__KULP_BUILD_VERSION__&&(m+="&BuildVersion="+(window.__KULP_BUILD_VERSION__||"")),r.push(m)}var k,x=r.length>1?"POST":"GET",S={};if(t=t||"",s.default.isMSDK){k="//game.weixin.qq.com/cgi-bin/groupwap/reportstat?",k+=_.getInGameLoginByType();for(o=0,a=r.length;o<a;o++){var I=new XMLHttpRequest;I.open("GET",k+r[o],!0),I.send(null)}}else f.default.getUinKey((function(e){var n={uin:e.uin,key:e.key,pass_ticket:e.pass_ticket},o="/cgi-bin/comm/cltstat?"+(t||"")+(S=={}?"":"&"+c.mapToStr(n))+(r.length>1?"":"&"+r[0])+"&QB&";i.open(x,o,!0);var a=s.default.getGameSessionId();a&&i.setRequestHeader("x-wxgame-session",a),r.length>1&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(r.length>1?"BatchData="+encodeURIComponent(JSON.stringify(r)):null)}))}}function u(e){var t=v("rpt_ssid_str")||"",n=v("from_id"),i=v("wechat_pkgid")||"",r=v("from_wechat_pkgid")||"",o=v("s_prot"),s=v("s_uia"),l=v("s_pid"),c=v("s_cid"),u=v("s_ctype"),f=v("share_id"),p=v("origin_share_id"),g=e.sExternInfo,_={};t&&(_.rpt_ssid_str=t),n&&/^\d+$/.test(n)&&(_.from_id=Number(n)),_.pkgid=i,_.from_pkgid=r,o&&/^\d+$/.test(o)&&(_.s_prot=Number(o)),s&&/^\d+$/.test(s)&&(_.s_uia=Number(s)),l&&/^\d+$/.test(l)&&(_.s_pid=Number(l)),c&&(_.s_cid=c),u&&(_.s_ctype=u),f&&(_.share_id=f),p&&(_.origin_share_id=p);try{if(0===Object.keys(_).length)return e;if(g)if("string"==typeof g){var m=JSON.parse(decodeURIComponent(g));m=d.extend(_,m),g=JSON.stringify(m)}else"object"===(0,a.default)(g)&&(g=JSON.stringify(d.extend(_,g)));else g=JSON.stringify(_);return e.sExternInfo=g,e}catch(t){return e}}}(l.default,window,document)}var b=o;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="Sync",r="Parallel",o="Relevant",a=function(){this.queueArr=[],this.QueueType="",this.onceStarted=!1};a.prototype.setSync=function(){this.QueueType=i,this.onceStarted=!1,this.done=function(e){var t=this.queueArr.shift();this.queueArr.length<=0&&(this.onceStarted=!1),"function"==typeof t&&t.call(this,e)}.bind(this)};a.prototype.setParallel=function(){this.QueueType=r,this.done=function(e){}.bind(this)};a.prototype.setRelevant=function(){this.QueueType=o,this.onceStarted=!1,this.done=function(e){this.queueArr.length>0&&(this.queueArr[0].backFn.call(this,e),this.queueArr.shift());for(var t=null;t=this.queueArr.shift();)"function"==typeof t.backFn&&t.backFn.call(this,e);this.onceStarted=!1}.bind(this)};a.prototype.run=function(e){switch(this.QueueType){case i:!function(e,t){if("function"==typeof t&&(e.queueArr.push(t),!1===e.onceStarted)){var n=e.queueArr.shift();if("function"!=typeof n)throw"fatal error for no function in queue";e.onceStarted=!0,n.call(e)}}(this,e);break;case r:!function(e,t){if("function"!=typeof t)throw"faltal error for no function in queue";t.call(e)}(this,e);break;case o:!function(e,t){if(e.queueArr.push(t),!1===e.onceStarted){var n=e.queueArr[0];n&&"function"==typeof n.fn?(e.onceStarted=!0,setTimeout((function(){n.fn.call(e)}),0)):console.error("_runRelevant:",n," is illegal")}}(this,e)}};var s=a;t.default=s},function(e,t,n){var i=n(41);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i,r=n(1);i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.newXhr=t.default=void 0;var r=i(n(1)),o=i(n(2));function a(e){this.config=e,this.method="GET",this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.timeout=0,this.headers={},this.resHeaders={}}function s(e,t,n,i){var l,d,c,u,f,p=this,g=i;function _(e,t){return!!f&&(clearTimeout(f),f=null,"ok"!=e&&function(e,t){p.onError(g,e,t)}(e,t),!0)}e&&(-1!==e.indexOf("?")?e+="&QB&":e+="?&QB&"),this.method=t||"POST",this.url=e,this.async=!0,this.content="",this.timeout=n,this.timeArr=[],this.status=0,this.onComplete=function(){},this.onError=function(){};var m=null===(l=WXGAME)||void 0===l||null===(d=l.GlobalConfig)||void 0===d||null===(c=d.webtransfer)||void 0===c||null===(u=c.getWebTransferUrlConfig)||void 0===u?void 0:u.call(c,e);if(g||(g=m?new a(m):s.newXhr()),!g)return!1;g.webTransferConfig=m,g.timeArr=[],g.timeArr.push(Math.floor((new Date).getTime())),this.headers={},this.abort=function(){_("abort"),g.abort()},this.abortCustom=function(){_("abortCustom"),g.abort()},this.send=function(e,t){if(t=t||{},!this.method||!this.url||!this.async)return!1;"object"==(0,r.default)(this.url)&&(this.url=this.url.replace({}));var n=this.method.toUpperCase();this.abort(),g.open(n,this.url,this.async),g.timeArr.push(Math.floor((new Date).getTime())),"POST"==n&&("multipart/form-data"===t.contentType||(!function(e){var t=!1;try{var n=JSON.parse(e);t=!!n}catch(e){t=!1}return t}(e)?g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):g.setRequestHeader("Content-Type","application/json; charset=utf-8"))),function(e,t,n,i){if(!e)return;if(null!=e.length){var r,o=e.length;r=i<0?o+i:i<o?i:o;for(var a=n||0;a<r;a++)try{if(!1===t(e[a],a,o))break}catch(e){}}else for(var a in e)try{if(!1===t(e[a],a))break}catch(e){}}(this.headers,(function(e,t){g.setRequestHeader(t,e)}));var i,a=o.default.getGameSessionId();a&&g.setRequestHeader("x-wxgame-session",a),g.ontimeout=this.onTimeout||function(){},g.timeout=this.timeout||15e3,g.onreadystatechange=function(){g.timeArr.push(Math.floor((new Date).getTime())),4===g.readyState&&(200===g.status?_("ok",g.status)&&p.onComplete(g):_([g.statusText,g.status,g.timeout].join("_"),g.status))},i=(this.timeout||15e3)+1e3,f||(f=setTimeout((function(){p.abort()}),i));try{if("POST"==n){var s="";if("multipart/form-data"===t.contentType)for(var l in s=new FormData,e)s.append(l,e[l]);else s=[e||this.content,""].join("");g.send(s)}else g.send(null)}catch(e){_(e.message)}return!0}}a.prototype.send=function(e){var t,n,i=this,r=this;if(r.readyState=2,null===(t=r.onreadystatechange)||void 0===t||t.call(r),r.readyState=3,null===(n=r.onreadystatechange)||void 0===n||n.call(r),o.default.isAndroid)if(e)try{e=JSON.parse(e)}catch(t){e={}}else e={};"undefined"!=typeof document&&document.cookie&&(this.headers.cookie=document.cookie),WXGAME.WxBridge.invoke("webTransfer",{method:"POST"===this.method.toUpperCase()?1:0,reqUrl:this.url,reqBody:e,scope:this.config.scope,header:this.headers,h5Url:this.config.h5_url||"https://game.weixin.qq.com/cgi-bin/h5/static/contentcenter/home.html"},(function(e){var t,n,o;(r.readyState=4,0===e.errCode||(null===(t=e.err_msg)||void 0===t?void 0:t.indexOf(":ok"))>-1)?(r.status=200,r.responseText=e.result||e.respJson,e.header&&(i.resHeaders=JSON.parse(e.header)),null===(n=r.onreadystatechange)||void 0===n||n.call(r)):(r.status=e.errCode||996,null===(o=r.onreadystatechange)||void 0===o||o.call(r))}))},a.prototype.open=function(e,t,n){this.method=e,this.url=t,this.async=n},a.prototype.setRequestHeader=function(e,t){this.headers[e]=t},a.prototype.abort=function(){},a.prototype.getResponseHeader=function(e){return e?this.resHeaders[e]:""},s.newXhr=function(e){var t=e||window,n=function(){};if(t.ActiveXObject)try{return new t.ActiveXObject("MSXML2.XMLHTTP")}catch(e){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return{send:n,open:n,setRequestHeader:n,abort:n}}}return t.XMLHttpRequest?new t.XMLHttpRequest:{send:n,open:n,setRequestHeader:n,abort:n}};var l=s;t.default=l;var d=s.newXhr;t.newXhr=d},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1));function o(){if(o.isInit)return o.$;o.isInit=!0;var e=o.$={},t="Array Object String Date RegExp Function Boolean Number Null Undefined".split(" ");function n(){return Object.prototype.toString.call(this).slice(8,-1)}for(var i=t.length;i--;)e["is"+t[i]]=function(e){return function(t){return n.call(t)===e}}(t[i]);return e}var a=function e(t,n){var i=o();if(i.isFunction(t))return new Function("return "+t.toString())();if(null===t||"object"!==(0,r.default)(t))return t;var a,s,l=i.isArray(t)?[]:{};for(a in t)(s=t[a])!==t&&(n?i.isArray(s)||i.isObject(s)?l[a]=e(s,n):i.isFunction(s)?l[a]=new Function("return "+s.toString())():l[a]=s:l[a]=s);return l};t.default=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(2)),a=i(n(4)),s=i(n(11));if(o.default.isCSR)r={};else{var l=null,d=(a.default.window.WXGAME||{}).baseQualityReport||s.default;r={StartLogic:function(e,t,n){return d.StartLogic(e,t,n,l)},StartRuner:function(e,t){var n=d.LOGIC_CONST.TypeTextEnum.LOGIC;return d.StartLogic(n,e,t,l)},LOGIC_CONST:d.LOGIC_CONST}}var c=r;t.default=c},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(7)),d=i(n(4)),c=i(n(2));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}c.default.isCSR?o={alert:function(){},closeAlert:function(){}}:(window,document,a="yes"===window.__wxjs_is_wkwebview||window.__wxjs_is_wkwebview||"yes"===d.default.window.__wxjs_is_wkwebview||d.default.window.__wxjs_is_wkwebview||-1!=d.default.window.navigator.userAgent.indexOf("WindowsWechat"),s=['<div class="wgui-alert-dialog {titleClass} {singleLineClass} {customClass}">','    <div class="wgui-alert-dialog__mask"></div>','    <div class="wgui-alert-dialog__main wgui-alert-dialog__border-radius">','        <div class="wgui-alert-dialog__header">','            <div class="wgui-alert-dialog__title">',"                {title}","            </div>","        </div>",'        <div class="wgui-alert-dialog__body">','            <div class="wgui-alert-dialog__content {isLeftClass} {isSmallClass}" style="{appendStyle}" >',"                {content}","            </div>","        </div>",'        <div class="wgui-alert-dialog__footer">',"            \x3c!--底部按钮支持 1 & 2 个数量--\x3e","            \x3c!--添加 wgui-alert-dialog__btn_current 高亮--\x3e",'            <a href="javascript:;" class="wgui-alert-dialog__btn"  id="close_{gid}" style="display:{btnStyle}">{closeTxt}</a>','            <a href="javascript:;" class="wgui-alert-dialog__btn wgui-alert-dialog__btn_current" id="confirmTxt_{gid}">{confirmTxt}</a>',"        </div>","    </div>","</div>"],function(e){function t(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}var n=[],i=function(){var e=n.pop();e&&(a?(e.confirmObj.removeEventListener("click",e.confirmHander,!1),e.closeObj.removeEventListener("click",e.closeHander,!1)):(e.confirmObj.removeEventListener("touchend",e.confirmHander,!1),e.closeObj.removeEventListener("touchend",e.closeHander,!1)),e.confirmObj=null,e.closeObj=null,document.body.removeChild(document.getElementById(e.name)))};e.alert=function(e,r){r=r||{};var o={name:"name_"+(new Date).getTime(),icon:"",alertStr:"",title:"",content:"",noticeTxt:"",confirmTxt:"确定",isLeft:!1,confirmCb:function(){},closeTxt:"取消",closeCb:function(){},openCb:function(){},calller:window,closeAfterClick:!0,style:"oneBtn",zoom:!1,needScroll:!1,isSmallClass:!1,isContentDividedIntoUL:!1,isSingleLine:!0,customClass:""};for(var d in o)d in r||(r[d]=o[d]);if(0!=function(e){if(!document.getElementById("new_dialog_alert")){var t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id","new_dialog_alert"),t.innerHTML='\n    .pagination {\n        display: inline-block;\n        padding-left: 0;\n        margin: 20px 0;\n        border-radius: 4px;\n    }\n\n    .pagination li {\n        display: inline;\n    }\n\n    .wgui-alert-dialog__main {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        z-index: 100003;\n        min-width: 320px;\n        max-width: 330px;\n        background-color: #fafafc;\n        color: #000;\n        text-align: center;\n        font-size: 16px;\n        border-radius: 8px;\n        overflow: hidden;\n        background-clip: padding-box;\n        -webkit-transform: translate(-50%,-50%);\n        -ms-transform: translate(-50%,-50%);\n        transform: translate(-50%,-50%)\n    }\n    .wgui-alert-dialog__main.wgui-alert-dialog__border-radius {\n        border-radius: var(--wg_border_radius_modal);\n    }\n    .wg_dark_mode .wgui-alert-dialog__main {\n        background-color: #232323;\n        color: rgba(255,255,255,0.8);\n    }\n\n    .wgui-alert-dialog__mask {\n        position: fixed;\n        top: 0;\n        left: 0;\n        z-index: 100003;\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,.6)!important;\n        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="#99000000",endcolorstr="#99000000")\n    }\n\n    .wgui-alert-dialog__header {\n        padding: 32px 24px 16px;\n    }\n\n    .wgui-alert-dialog__title {\n        margin-bottom: 0;\n        font-size: 17px;\n        color: rgba(0,0,0,0.9);\n        font-family: PingFangSC-Medium;\n        line-height: 24px;\n        margin-top: 0;\n    }\n    .wg_dark_mode .wgui-alert-dialog__title {\n        color: rgba(255,255,255,0.8);\n    }\n\n    .wgui-alert-dialog__body {\n        overflow: hidden\n    }\n\n    .wgui-alert-dialog__content {\n        box-sizing: border-box;\n        margin-bottom: 20px;\n        padding: 0 24px 12px;\n        width: 100%;\n        line-height: 24px;\n        font-size: 17px;\n        letter-spacing: -0.22px;\n        text-align: center;\n        opacity: 0.5;\n        font-family: PingFangSC-Regular;\n        color: #000000;\n    }\n    .wg_dark_mode .wgui-alert-dialog__content {\n        opacity: 1;\n        color: rgba(255,255,255,0.5);\n    }\n\n    .wgui-alert-dialog__content_left {\n        text-align: left\n    }\n\n    .wgui-alert-dialog__footer {\n        position: relative;\n        display: -webkit-box\n    }\n\n    .wgui-alert-dialog__footer:after {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 1px;\n        border-top: 1px solid #d5d5d6;\n        content: " ";\n        -webkit-transform: scaleY(.5);\n        -ms-transform: scaleY(.5);\n        transform: scaleY(.5);\n        -webkit-transform-origin: 0 0;\n        -ms-transform-origin: 0 0;\n        transform-origin: 0 0\n    }\n    .wg_dark_mode .wgui-alert-dialog__footer:after {\n        border-top-color: rgba(255,255,255,0.05);\n    }\n\n    .wgui-alert-dialog__btn {\n        position: relative;\n        display: block;\n        width: 0;\n        height: 56px;\n        color: #353535;\n        text-decoration: none;\n        font-family: PingFangSC-Medium;\n        font-size: 17px;\n        // letter-spacing: 1px;\n        text-align: center;\n        -webkit-box-flex: 1;\n        display: flex;\n        align-items: center;\n        justify-content:center;\n    }\n    .wg_dark_mode .wgui-alert-dialog__btn {\n        color: rgba(255,255,255,0.8);\n    }\n\n    .wgui-alert-dialog__btn:after {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 1px;\n        height: 100%;\n        border-left: 1px solid #d5d5d6;\n        content: " ";\n        -webkit-transform: scaleX(.5);\n        -ms-transform: scaleX(.5);\n        transform: scaleX(.5);\n        -webkit-transform-origin: 0 0;\n        -ms-transform-origin: 0 0;\n        transform-origin: 0 0\n    }\n    .wg_dark_mode .wgui-alert-dialog__btn:after {\n        border-left-color: rgba(255,255,255,0.05);\n    }\n\n    .wgui-alert-dialog__btn:first-child:after {\n        display: none\n    }\n\n    .wgui-alert-dialog__btn:active {\n        background-color: #f2f2f2;\n    }\n    .wg_dark_mode .wgui-alert-dialog__btn:active {\n        background-color: #2f2f2f;\n    }\n\n    .wgui-alert-dialog__btn_current {\n        color: #576B95;\n    }\n    .wg_dark_mode .wgui-alert-dialog__btn_current {\n        color: #7d90a9;\n    }\n\n    .wgui-alert-dialog__captcha-box {\n        margin-bottom: 10px;\n        text-align: center\n    }\n\n    .wgui-alert-dialog__captcha-img {\n        display: block;\n        margin: 0 auto 15px;\n        width: 140px;\n        height: 40px\n    }\n\n    .wgui-alert-dialog__captcha-input {\n        margin-bottom: 10px;\n        height: 39px;\n        border: 1px solid #dfdfdd;\n        text-align: center;\n        line-height: 39px\n    }\n\n    .wgui-alert-dialog__captcha-tips {\n        padding: 0 10px;\n        color: #bb0b05;\n        font-size: 14px\n    }\n\n    .wgui-alert-dialog_without-title .wgui-alert-dialog__title {\n        display: none\n    }\n\n    .wgui-alert-dialog_without-title .wgui-alert-dialog__content {\n        color: #000;\n        opacity: 0.9;\n        font-family: PingFangSC-Medium;\n    }\n    .wg_dark_mode .wgui-alert-dialog_without-title .wgui-alert-dialog__content {\n        color: rgba(255,255,255,0.8);\n        opacity: 1;\n        font-family: PingFangSC-Medium;\n    }\n\n    .wgui-alert-dialog_single-line .wgui-alert-dialog__content {\n        color: #000;\n        opacity: 0.5;\n    }\n    .wg_dark_mode .wgui-alert-dialog_single-line .wgui-alert-dialog__content {\n        color: rgba(255,255,255,0.5);\n        opacity: 1;\n    }\n\n    .wgui-alert-dialog_captcha .wgui-alert-dialog__title {\n        font-size: 18px;\n        margin-bottom: 10px\n    }\n    ',document.getElementsByTagName("head")[0].appendChild(t)}return!0}()){if(r.alertStr=e||r.alertStr,r.isContentDividedIntoUL){var u=r.alertStr.replace(/(^|\n)\d\./g,"");r.content=u.replace(/[^\n]+/g,(function(e,t){return"\n"===e?"":"<li>"+e+"</li>"})),r.content="<ul>"+r.content+"</ul>"}else r.content=(r.alertStr+"").replace(/\n/g,"<br/>");if(r.singleLineClass="",r.code&&(r.content+='<span style="color: rgba(128,128,128,0.1);font-size: 0.6em;margin-top: -0.3em;display: block;position: absolute;bottom: 4.2em;right: 3px;">'+r.code+"</span>"),r.title=r.title||r.noticeTxt,r.titleClass=void 0!==r.title&&r.title.length>0?"":"wgui-alert-dialog_without-title",r.style in{oneBtn:1,twoBtn:1}){r.btnStyle="oneBtn"==r.style?"none":"",r.isLeftClass=!0===r.isLeft?"wgui-alert-dialog__content_left":"",r.isSmallClass=!0===r.isSmallClass?"wgui-alert-dialog__content_small":"",r.isContentDividedIntoUL=!0===r.isContentDividedIntoUL,r.appendStyle=r.needScroll?"max-height: 270px; overflow-y: scroll; text-align: left; word-break: break-word":"";var f,p,g=document.createElement("div"),_=(r.name,{});c.default.isDarkMode&&g.classList.add("wg_dark_mode"),p=s,f="__alert__"+(new Date).getTime()+"__"+parseInt(100*Math.random()),g.id=f,r.gid=f;var m=p.join("").replace(/\{(\w+)\}/g,(function(e,t){return void 0!==r[t]?r[t].toString():e}));r.zoom&&window.Bigger&&setTimeout((function(){Bigger(g,320,!0)}),30),l.insertHTMLFilterXss(m,g,!0),document.body.appendChild(g);var h={iconObj:document.getElementById("icon_"+f),alertObj:document.getElementById("alertStr_"+f),confirmObj:document.getElementById("confirmTxt_"+f),closeObj:document.getElementById("close_"+f)};0==r.showClose&&h.closeObj&&(h.closeObj.style.display="none"),0==r.showIcon&&h.iconObj&&(h.iconObj.style.display="none"),_.confirmHander=function(e){r.confirmCb.call(r.calller),r.closeAfterClick&&i(),e.preventDefault(),e.stopPropagation()},_.closeHander=function(e){r.closeCb.call(r.calller),r.closeAfterClick&&i(),e.preventDefault(),e.stopPropagation()},_.openHander=function(e){r.openCb.call(r.calller),e&&e.preventDefault(),e&&e.stopPropagation()},_.name=f,_.confirmObj=h.confirmObj,_.confirmCb=r.confirmCb,_.closeObj=h.closeObj,_.closeCb=r.closeCb,a?(t(h.confirmObj,"click",_.confirmHander),t(h.closeObj,"click",_.closeHander)):(t(h.confirmObj,"touchend",_.confirmHander),t(h.closeObj,"touchend",_.closeHander)),t(h.confirmObj,"click",_.confirmHander),t(h.closeObj,"click",_.closeHander),n.push(_),_.openHander.call(r.calller),g.firstElementChild;var w=document.querySelector(".wgui-alert-dialog__main");if(w){var v=document.documentElement.clientWidth;v<360&&(w.style.minWidth=v-40+"px",w.style.maxWidth=v-20+"px")}}else alert("style invalid")}},e.closeAlert=i,o=e}({}));var f=o;t.default=f},function(e,t,n){(function(t){var i=n(1),r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,d="object"==(void 0===t?"undefined":i(t))&&t&&t.Object===Object&&t,c="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,u=d||c||Function("return this")(),f=Object.prototype.toString,p=Math.max,g=Math.min,_=function(){return u.Date.now()};function m(e,t,n){var i,r,o,a,s,l,d=0,c=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=i,o=r;return i=r=void 0,d=t,a=e.apply(o,n)}function w(e){return d=e,s=setTimeout(b,t),c?m(e):a}function A(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-d>=o}function b(){var e=_();if(A(e))return y(e);s=setTimeout(b,function(e){var n=t-(e-l);return u?g(n,o-(e-d)):n}(e))}function y(e){return s=void 0,f&&i?m(e):(i=r=void 0,a)}function k(){var e=_(),n=A(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return w(l);if(u)return s=setTimeout(b,t),m(l)}return void 0===s&&(s=setTimeout(b,t)),a}return t=v(t)||0,h(n)&&(c=!!n.leading,o=(u="maxWait"in n)?p(v(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),k.cancel=function(){void 0!==s&&clearTimeout(s),d=0,i=l=r=s=void 0},k.flush=function(){return void 0===s?a:y(_())},k}function h(e){var t=i(e);return!!e&&("object"==t||"function"==t)}function w(e){return"symbol"==i(e)||function(e){return!!e&&"object"==i(e)}(e)&&"[object Symbol]"==f.call(e)}function v(e){if("number"==typeof e)return e;if(w(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return h(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),m(e,t,{leading:i,maxWait:t,trailing:r})}}).call(this,n(20))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.base64decode=void 0;var i=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];var r={base64decode:function(e){var t,n,r,o,a,s,l;for(s=e.length,a=0,l="";a<s;){do{t=i[255&e.charCodeAt(a++)]}while(a<s&&-1==t);if(-1==t)break;do{n=i[255&e.charCodeAt(a++)]}while(a<s&&-1==n);if(-1==n)break;l+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(r=255&e.charCodeAt(a++)))return l;r=i[r]}while(a<s&&-1==r);if(-1==r)break;l+=String.fromCharCode((15&n)<<4|(60&r)>>2);do{if(61==(o=255&e.charCodeAt(a++)))return l;o=i[o]}while(a<s&&-1==o);if(-1==o)break;l+=String.fromCharCode((3&r)<<6|o)}return l}},o=r;t.default=o;var a=r.base64decode;t.base64decode=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxRequest=_,t.base64_decode=O,t.clientInfo=void 0,t.debounce=k,t.default=void 0,t.extend=h,t.filterImg=v,t.filterParamByKey=P,t.filterUrlByKey=T,t.filterXSS=A,t.getInGameLoginByType=p,t.getLoginParamsStrByLoginType=g,t.getQueryStr=d,t.getUserLoginParams=u,t.getUserLoginParamsStr=c,t.isBigClientVersion=E,t.mapToStr=m,t.openWithWebView=I,t.setTitle=C,t.throttle=y,t.tmpl=void 0;var r=i(n(1)),o=i(n(2)),a=i(n(21)),s=i(n(28)),l=i(n(4));function d(e,t,n){try{t=t||(n?l.default.window.location.search:location.search)}catch(e){t=t||location.search}if(t.indexOf("wechat_pkgid=")>-1&&("uin"===e||"key"===e||"pass_ticket"===e))return window.wepkgLoginInfo&&window.wepkgLoginInfo[e]?window.wepkgLoginInfo[e]:"";var i=t.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return null==i||i.length<=1?"":i[1]}function c(){return"uin="+d("uin","",1)+"&key="+d("key","",1)+"&pass_ticket="+d("pass_ticket","",1)}function u(){return{uin:d("uin","",1),key:d("key","",1),pass_ticket:d("pass_ticket","",1)}}function f(){return m({auth_type:2,m_sig:d("sig")||"",m_timestamp:d("timestamp")||"",m_algorithm:d("algorithm")||"",m_version:d("version")||"",m_encode:d("encode")||"",appid:d("appid")||d("gamekey")||"",m_param:d("msdkEncodeParam")||""})}function p(){return d("msdkEncodeParam")&&d("appid")?f():m({appid:d("appid"),auth_type:2,algorithm:d("algorithm"),encode:d("encode"),channelid:d("channelid"),nickname:d("nickname"),gameid:d("gameid"),os:d("os"),ts:d("ts"),version:d("version"),seq:d("seq"),sig:d("sig"),itopencodeparam:d("itopencodeparam")})}function g(e){return"2"!==d("auth_type")||b().isWechat?c():e?f():m({auth_type:2,sig:d("sig")||"",timestamp:d("timestamp")||"",algorithm:d("algorithm")||"",version:d("version")||"",encode:d("encode")||"",msdkEncodeParam:d("msdkEncodeParam")||""})}function _(e,t,n,i,o){if("function"==typeof o)var s=o;else if("object"===(0,r.default)(o)){var l=h({method:"GET",timeout:15e3},o);s=arguments[5]}else l={};-1===e.indexOf("?")?e+="?":e+="&","POST"===l.method?e+="2"!==d("auth_type")||b().isWechat?c():f():e=e+m(t)+"&"+("2"!==d("auth_type")||b().isWechat?c():f()),this._QMAjax=new a.default(e,l.method,l.timeout);(new Date).getTime();return this._QMAjax.onComplete=function(e){var t={},i=(e.responseText||"").replace(/[\u0000-\u001f\u000B\u000C\u00A0\uFEFF\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u202E\u202D]/g,"");try{t=JSON.parse(i)}catch(e){try{t=new Function("return "+i)()}catch(e){t={}}}n&&n(t);(new Date).getTime()},this._QMAjax.onError=function(e,t){"ok"!==t&&i&&i(t);try{JSON.parse(e.responseText)}catch(t){({responseText:e.responseText})}(new Date).getTime()},this._QMAjax.onTimeout=s,"string"==typeof t?this._QMAjax.send(t):this._QMAjax.send(m(t)),this._QMAjax}function m(e,t,n){try{t=t||"&",n=n||"=";var i=[];for(var r in e)i.push(r+n+e[r]);return i.join(t)}catch(e){alert(e.message)}}function h(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}function w(e,t,n){return(e+="").replace(/\{(\w+)\}/g,(function(e,i){return void 0!==t[i]?n?t[i].toString():A(t[i].toString()):e}))}function v(e){return d("debug")?e:x()?e.replace(/^https?\:/i,""):(e=e.replace(/^\/\//i,"http://")).replace(/^https\:/i,"http:")}function A(e){return(e||"").toString().replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/\"/gm,"&quot;").replace(/\'/gm,"&#39;")}function b(){var e=!1;return o.default.isCSR||(e=-1!==location.search.indexOf("debug=1")),{isIOS:x(),isPad:o.default.isPad,isAndroid:o.default.isAndroid,isWechat:o.default.isWechat,isDebug:e,wxVersion:o.default.clientVersion(!0),isWPcWechat:o.default.isPcWechat,isPC:o.default.isPC}}function y(e,t,n){var i;return function(){var r=arguments;clearTimeout(i),i=setTimeout((function(){e.apply(n,r)}),t)}}function k(e,t,n){var i;return function(){var r=arguments;i||(i=setTimeout((function(){e.apply(n,r),i=null}),t))}}function x(){return o.default.isiOS}function S(e,t){var n="/pages/webview/webview?";if(t)for(var i in t)n+=i+"="+t[i]+"&";else n+="target=h5";"&"!=n.slice(-1)[0]&&(n+="&"),WeixinJSBridge.invoke("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:n+"url="+encodeURIComponent(e)}},(function(e){console.log(JSON.stringify(e))}))}function I(e,t){"miniprogram"===l.default.window.__wxjs_environment?window.WeixinJSBridge?S(e,t):window.addEventListener("WeixinJSBridgeReady",(function(){S(e,t)})):s.default.openUrl(e)}function C(e){var t=b();function n(){WeixinJSBridge.invoke("setPageTitle",{title:e},(function(e){}))}if(t.isWechat){if(E("6.0.2")&&(t.isAndroid||"yes"===window.__wxjs_is_wkwebview||window.__wxjs_is_wkwebview))return void(l.default.window.WeixinJSBridge?n():document.addEventListener("WeixinJSBridgeReady",(function(){n()})));if(document.title=e,t.isWPcWechat)return;var i=document.createElement("iframe");i.style.cssText="width:0px;height:0px;display:none;",i.src=location.protocol+"//wximg.gtimg.com/tmt/game/dist/img/wgui/placeholder/1x1.png",i.onload=function(){setTimeout((function(){i.onload=null,document.body.removeChild(i)}),0)},document.body.appendChild(i)}else document.title=e}function O(e){var t,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,d=0,c=[];if(!e)return e;e+="";do{t=(a=s.indexOf(e.charAt(l++))<<18|s.indexOf(e.charAt(l++))<<12|(r=s.indexOf(e.charAt(l++)))<<6|(o=s.indexOf(e.charAt(l++))))>>16&255,n=a>>8&255,i=255&a,c[d++]=64==r?String.fromCharCode(t):64==o?String.fromCharCode(t,n):String.fromCharCode(t,n,i)}while(l<e.length);return c.join("").replace(/\0+$/,"")}function E(e){var t=(navigator.userAgent||navigator.wxuserAgent||str).match(/MicroMessenger\/([\d\.]+)/i),n="";if(!(t&&t.length>1))return!1;n=(n=t[1]).split("."),e=e.split(".");for(var i=0;i<n.length&&i<e.length;i++){if((+n[i]||0)>(+e[i]||0))return!0;if((+n[i]||0)<(+e[i]||0))return!1}return!1}function T(e,t){return t.forEach((function(t,n){var i=new RegExp("[?&]("+t+"=([^&]*))","i"),r=e.match(i);r&&r.length>2&&(""==r[2]||"undefined"==r[2]||"0"==r[2])&&(e=e.replace(r[1],"").replace(/(\?|\&)\&/g,"$1"))})),e}function P(e,t){return t.forEach((function(t,n){if(e.hasOwnProperty(t)){var i=e[t];null!=i&&null!=i&&""!=i&&0!=i&&"0"!=i||delete e[t]}})),e}var M={getQueryStr:d,getUserLoginParamsStr:c,getUserLoginParams:u,mapToStr:m,ajaxRequest:_,extend:h,tmpl:w,filterXSS:A,clientInfo:b(),throttle:y,openWithWebView:I,setTitle:C,base64_decode:O,isBigClientVersion:E,getLoginParamsStrByLoginType:g,getInGameLoginByType:p,filterImg:v,filterParamByKey:P,filterUrlByKey:T,debounce:k};t.default=M;var D=w;t.tmpl=D;var B=b();t.clientInfo=B},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getUrlType=F,t.openUrl=void 0;var o=i(n(12)),a=i(n(19)),s=i(n(1)),l=i(n(13)),d=i(n(4)),c=y(n(3)),u=y(n(7)),f=i(n(8));n(65),n(66),n(67),n(68),n(69),n(73),n(74),n(75),n(76),n(77),n(78),n(79);var p=i(n(2)),g=i(n(23)),_=i(n(24)),m=i(n(25)),h=i(n(36)),w=i(n(24)),v=i(n(6)),A=i(n(17));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var x,S=u.mapToStr,I=(u.strToMap,{BLACK:"black",WHITE:"white"}),C=c.getQueryStr,O=function(e){return!!C("wechat_pkgid",e)},E=function(e){return new Promise((function(t){e?(0,v.default)("https://game.weixin.qq.com/cgi-bin/gamelivewap/getonlinelive",{method:"POST",finder_username:e},(function(e){var n;0===(null==e?void 0:e.errcode)?t(null==e||null===(n=e.data)||void 0===n?void 0:n.finder_export_id):t()}),t):t()}))},T={profile:{api:"openFinderView",params:{action:"openFinderProfile",finderUserName:"finderusername"},isSupport:function(){var e=p.default.getHexClientVersion();return!!(p.default.isiOS&&e>385879808)||!(!p.default.isAndroid||!(e>=654316344&&e<=654316383||e>=654316800))}},feed:{api:"openFinderView",params:{action:"openFinderFeed",feedID:"feedid",nonceID:"nonceid",sessionId:"sessionid"},isSupport:function(){var e=p.default.getHexClientVersion();return!!(p.default.isiOS&&e>385879808)||!(!p.default.isAndroid||!(e>=654316344&&e<=654316383||e>=654316800))}},live:{api:"openFinderView",params:{action:"autoOpenFinderLive",finderUserName:"finderusername"},isSupport:function(){var e=p.default.getHexClientVersion();return!!(p.default.isiOS&&e>=385880616)||!(!p.default.isAndroid||!(e>=654316604&&e<=654316639||e>=654316720&&e<=654316721||e>=654316800))},redirect:function(e){return(0,l.default)(o.default.mark((function t(){var n,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.finderUserName){t.next=2;break}return t.abrupt("return","");case 2:return n=decodeURIComponent(e.finderUserName),t.next=5,E(n);case 5:if(!(i=t.sent)){t.next=10;break}return t.abrupt("return","https://channels.weixin.qq.com/web/pages/live?eid=".concat(encodeURIComponent(i)));case 10:return t.abrupt("return","https://channels.weixin.qq.com/web/pages/profile?username=".concat(n));case 11:case"end":return t.stop()}}),t)})))()}},livelist:{api:"openFinderView",params:{action:"openFinderMultiMoreLive",selectTabId:"tab",selectSecondTabId:"subtab",byPass:"bypass",mpPath:"mp_path",envVersion:"env_version"},isSupport:function(){var e=p.default.getHexClientVersion();return!!(p.default.isiOS&&e>=402654976)||!!(p.default.isAndroid&&e>=671090234)}},topic:{api:"openFinderTopicView",params:{eventEncryptedTopicId:"topicid",topicType:"topictype",poiClassifyId:"poiclassifyid",longitude:"longitude",latitude:"latitude",title:"title"},isSupport:function(){var e=p.default.clientVersion(!0);return!!(p.default.isiOS&&p.default.versionCompare(e,"7.0.20")>=0)||!!(p.default.isAndroid&&p.default.versionCompare(e,"8.0.10")>=0)}}},P={chatpage:{api:"startGameLifeConversation",params:{fromUserName:"from_username",toUserName:"to_username",reportInfo:"report_info",extInfo:"ext_info"},isSupport:function(){var e=p.default.getHexClientVersion();return p.default.isiOS&&e<385880064||p.default.isAndroid&&e<654315776?Promise.resolve(!1):L.checkIsSupportNativeChat()}},chatroom:{api:"openGameLifeChatroom",params:{chatroom_name:"chatroom_name",sourceid:"source_id",ssid:"ssid",is_auto_join:"is_auto_join",targetChannelId:"target_channel_id",targetSeq:"target_seq",is_real_time:"is_real_time",extInfo:"ext_info"},isSupport:function(){var e=p.default.getHexClientVersion();return p.default.isiOS&&e<402655264||p.default.isAndroid&&e<671090176?Promise.resolve(!1):L.checkIsSupportNativeChat()}}},M={api:"openGameTabHome",params:{sourceid:"source_id",ssid:"ssid"},isSupport:function(){return!0}},D={home:M,gameindex:M,community:M,chat:M},B={release:0,dev:1,trial:2},j=["wechat_immersive","immersivePageBgIsDark","immersiveUIStyle"],L={filterOpenUrl:function(e){return-1==e.indexOf("http")?location.protocol+"//"+e.replace(/^\s*\/\//,""):L.checkIsGameHostInUrl(e)?e.replace(/https?:/,location.protocol):e},isPureMiniAppUrl:function(e){return e.match(/^weapp:\/\/\S+/)},isPureWeVideoUrl:function(e){return e.match(/^wevideo:\/\/\S+/)},isPureWeGamelifeUrl:function(e){return e.match(/^wegamelife:\/\/\S+/)},isPureWeGameTabUrl:function(e){return e.match(/^wegametab:\/\/\S+/)},safeJump:function(e){var t=e.JumpUrl;W.reportOpenRateA(e),e.openUrlQualityInstance.EndLogic({openUrl:{res:"goLocation"},err_msg:e.progress}),C("uin",t)||-1!=t.indexOf("#wechat_redirect")||(t+="#wechat_redirect"),setTimeout((function(){d.default.window.location.href=t}),200)},resGen:function(e){return{err_msg:{timeout:"openUrl:fail,getuinkey timeout",oldver:"openUrl:fail,too old to support jsapi",invalid:"openUrl:fail,url invalid"}[e]}},canOpenNext:function(e){var t=p.default.clientVersion(!0);p.default.versionCompare(t,"6.6.0")>=0?f.default.getGameCommInfo({cmd:10002},(function(t){t.webpageCount?parseInt(""+t.webpageCount)<5&&e():(c.log("getGameCommInfo cmd 10002 error"),e())})):e()},openWebview:function(e,t){var n=e.JumpUrl||"",i=function(t,n){e.progress="openUrlWithExtraWebview",f.default.openUrlWithExtraWebview({url:t,openType:"1",open_game_webview:"1"},(function(e){n&&n(e)}))};e.useGameOpen?1==e.extparam.fullscreen?(e.progress="enableGameView",e.jTimer&&p.default.isWechat&&clearTimeout(e.jTimer),f.default.enableGameView({url:n,Orientation:e.extparam.Orientation||1},(function(e){t&&t(e)}))):function(t,n){null==e.extparam.statusBarStyle||e.extparam.statusBarStyle in I||console.error("extparam.statusBarStyle illegal,must be oneof",I);var i=f.default.openGameUrlWithExtraWebView({url:t,openType:"1",open_game_webview:"1",statusBarColor:e.statusBarColor,statusBarStyle:e.statusBarStyle,useJscore:!!e.useJscore,preInjectData:e.preInjectData||"",popCurrentVc:!!e.extparam.redirect},(function(e){n&&n(e)}));e.progress=i?"jscore":"openGameUrlWithExtraWebView"}(n,(function(e){e.err_msg&&-1==e.err_msg.indexOf(":ok")?i(n,(function(e){t&&t(e)})):t&&t(e)})):i(n,(function(e){t&&t(e)}))},calWeichatPkgid:function(e){e=e.replace(/\?.+$, ''/);var t=/https?:\/\/game\.weixin\.qq.com\/cgi-bin\/[^/]+?\/static\//;if(t.test(e)){var n="";try{n=e.match(/\/cgi-bin\/([^/]+)/)[1]}catch(e){}var i=e.replace(t,"").replace(/\.html.*?$/,"").replace(/\//g,"_").replace(/\-/g,"_");return"h5"!==n&&(i="".concat(n,"__").concat(i)),i}if(/https?:\/\/game\.weixin\.qq.com\/cgi-bin\/actnew\/newportalact\//.test(e)){var r=/\/cgi-bin\/actnew\/newportalact\/([^/]+)\/[^/]+\/([^/?.#]+)/.exec(e);return r&&3===r.length?"newportalact__".concat(r[1],"_").concat(r[2]):""}return""},checkIsCloseWepkgInUrl:function(e){return!!C("nowepkg",e)},checkIsGameHostInUrl:function(e){return!!/\/\/game\.weixin\.qq\.com/.test(e)},getWeVideoActionFromUrl:function(e){var t=/^wevideo:\/\/([a-z]+)\?/.exec(e);if(t)return t[1]in T?t[1]:void 0},checkIsSuppportJumpWeVideo:function(e){return T[e].isSupport()},getWeVideoParamsFromUrl:function(e,t){var n=T[e].params,i={};return Object.keys(n).forEach((function(e){if("action"===e)i[e]=n[e];else{var r=C(n[e],t);r&&(i[e]=decodeURIComponent(r))}})),i},checkIsSupportNativeChatFromJSAPI:function(){return new Promise((function(e,t){f.default.verifyJsapi(["getGameCommInfo"],(function(){f.default.invoke("getGameCommInfo",{cmd:10010},(function(t){var n=!1!==(t="string"==typeof t?JSON.parse(t):t).disable_gamelife_api;try{localStorage.setItem("_is_support_native_chat_v3",n?"0":"1")}catch(e){}e(!n)}))}))}))},checkIsSupportNativeChat:function(){return new Promise((function(e,t){var n=localStorage.getItem("_is_support_native_chat_v31");if("1"===n)e(!0);else{if("0"!==n)return e(L.checkIsSupportNativeChatFromJSAPI());e(!1)}L.checkIsSupportNativeChatFromJSAPI()}))},checkIsSupportJumpNativeGamelife:function(e){return P[e].isSupport()},getWeGamelifeActionFromUrl:function(e){var t=/^wegamelife:\/\/([a-z]+)\?/.exec(e);if(t)return t[1]in P?t[1]:void 0},getWeGamelifeParamsFromUrl:function(e,t,n){var i=P[e].params,r={};return Object.keys(i).forEach((function(e){null!=n&&n.extparam&&i[e]in(null==n?void 0:n.extparam)?r[e]=n.extparam[i[e]]:r[e]=decodeURIComponent(C(i[e],t))})),r},checkIsOpenByGameWebview:function(e){return!L.checkIsGameHostInUrl(e.srcurl)&&/^https?:\/\//.test(e.srcurl)?(g.default.StartRuner("openUnsafeGameHostUrl",{}).EndLogic({err_msg:e.srcurl}),!1):(100*Math.random()<1&&g.default.StartRuner("OpenGameHostUrl",{}).EndLogic({err_msg:e.srcurl}),null!=e.extparam.useGameOpen?e.extparam.useGameOpen:!(p.default.isMinigame()||p.default.isAndroid&&!p.default.isLuggage))},getWeTabActionFromUrl:function(e){var t=/^wegametab:\/\/([a-z]+)\??/.exec(e);if(t)return t[1]in D?t[1]:void 0},getWeTabParamsFromUrl:function(e,t,n){var i=D[e].params,r={};return Object.keys(i).forEach((function(e){null!=n&&n.extparam&&i[e]in(null==n?void 0:n.extparam)?r[e]=n.extparam[i[e]]:r[e]=decodeURIComponent(C(i[e],t))})),r}},W={urlPretreatment:function(e){var t,n,i,r;e.JumpUrl=L.filterOpenUrl(e.srcurl),e.JumpUrl=e.JumpUrl.replace(/#wechat_redirect/g,"");var o=C("abt",null,top),a=C("abt",e.srcurl)||0;a&&(o=a),e.extparam.abt=e.extparam.abt||o;var l=e.extparam.noticeid||C("noticeid",e.srcurl);l&&(e.extparam.noticeid=l);var u=e.extparam.source_id||C("source_id",e.srcurl);u&&/^\d+$/.test(u)&&(e.extparam.source_id=u);var f=e.extparam;f.ssid=f.ssid||0,f.abt=f.abt||0,f.ssid||f.source_id||(f.source_id=999999);var g=f.extInfo||f.ext_info;if(g){if("string"==typeof g)try{g=JSON.parse(decodeURIComponent(g))}catch(e){g={}}f.ext_info=JSON.stringify(g),delete f.extInfo}f.preInjectData&&("object"!==(0,s.default)(f.preInjectData)?console.error("preInjectData is not a object"):(e.preInjectData=JSON.stringify(f.preInjectData),p.default.canPreInjectDataUse()||p.default.isCSR||(f.pij_d_k=c.unikey(),localStorage.setItem("pij_d_k_".concat(f.pij_d_k),e.preInjectData))),delete f.preInjectData);var _=[];C("rpt_allpath")&&_.push(C("rpt_allpath")),f.source_id?_.push(f.source_id):f.ssid&&_.push(f.ssid),_.length>0&&(f.rpt_allpath=_.join("_")),0===(""+f.ssid).indexOf("act")&&(f.ssid=f.ssid.replace("act","")),C("isFromWeappEntry")&&(f.isFromWeappEntry=C("isFromWeappEntry"));var m=-1!=e.JumpUrl.indexOf("?")?"&":"?",h=!!f.closeWepkg||L.checkIsCloseWepkgInUrl(e.JumpUrl)||L.checkIsCloseWepkgInUrl(location.href);for(var w in{closeWepkg:1,useGameOpen:1,statusBarStyle:1,statusBarColor:1,useJscore:1})delete f[w];var v=O(e.JumpUrl);if(!h&&!v){var A=L.calWeichatPkgid(e.JumpUrl);A&&(f.wechat_pkgid=encodeURIComponent(A))}f.from_wechat_pkgid=C("wechat_pkgid")||"",h&&(e.JumpUrl=c.removeQueryStringKey("nowepkg",e.JumpUrl),e.JumpUrl=c.removeQueryStringKey("wechat_pkgid",e.JumpUrl),delete f.wechat_pkgid,f.nowepkg=1),j.forEach((function(t){e.JumpUrl=c.removeQueryStringKey(t,e.JumpUrl)})),null!==(t=d.default.window)&&void 0!==t&&null!==(n=t.WXGAME)&&void 0!==n&&null!==(i=n.GlobalConfig)&&void 0!==i&&null!==(r=i.router)&&void 0!==r&&r.checkNeedImmersiveParamInUrl(e.JumpUrl)&&j.forEach((function(e){f[e]=1})),p.default.isMinigame()&&(f.AppServiceType=c.getQueryStr("AppServiceType")||void 0,f.menuButtonBoundingClientRect=c.getQueryStr("menuButtonBoundingClientRect")||void 0,f.versionType=c.getQueryStr("versionType")||void 0,f.is_real_name=p.default.isRealName()),"1"===c.getQueryStr("darkmode")&&(f.darkmode=1);var b=e.JumpUrl+m+S(f);return e.extparam=f,e.allPathTemp=_,O(b)||p.default.isPcWechat?e.JumpUrl=b:e.JumpUrl=b+("#"==b.slice(-1)[0]?"":"#")+"wechat_redirect",e},processMiniApp:function(e){var t=L.isPureMiniAppUrl(e.srcurl),n=t?e.srcurl:L.filterOpenUrl(e.srcurl),i=e.extparam,r=e.allPathTemp;if(-1!=n.indexOf(encodeURIComponent("weapp://"))||-1!=n.indexOf("weapp://")){if(p.default.isMinigame()&&!p.default.isRealName()&&p.default.onRealNameRequestFns.length>0)return p.default.onRealNameRequestFns.forEach((function(e){return e()})),!0;if(p.default.isMiniprogram())return w.default.alert("请前往「发现>游戏」中\n获取更多信息",{confirmTxt:"知道了"}),!0;var o="",a={};o=(o=t?e.srcurl:decodeURIComponent(C("weapp",n))).replace(/weapp:\/\/([\d\w]+)/g,(function(e,t){return a.targetAppId=t,""})),a.path=decodeURIComponent(C("path",o)),i.ssid&&(a.path+=(-1==a.path.indexOf("?")?"?":"&")+"ssid="+i.ssid+"&rpt_allpath="+r.join("_"));var s=location.href.replace(/\?{1,}(.*)/,""),l=p.default.getGameSessionId();l&&(a.path+=(-1==a.path.indexOf("?")?"?":"&")+(l?"x_wxgame_session="+encodeURIComponent(l):""),s=s+"?session_id="+encodeURIComponent(l)),n=n.replace(/weapp=[^&#]+/g,"");var d=C("env_version",o);return f.default.openWeApp({sourceAppId:"wx62d9035fd4fd2059",appId:a.targetAppId,relativeURL:a.path,openType:d in B?B[d]:0,scene:1055,sceneNote:s},(function(n){-1!=n.err_msg.indexOf(":ok")?e.callback({err_msg:"launchMiniProgram:ok"}):t?-1!=n.err_msg.indexOf("clientVersion")?e.callback(L.resGen("oldver")):e.callback(n):(W.reportNoWepkg(e),W.processSafeLogic(e).processIos(e).processAndroid(e))})),!0}return!1},processWeVideo:(0,m.default)((function(e){if(!L.isPureWeVideoUrl(e.srcurl))return!1;if(!p.default.isWechat)return!0;if(p.default.isMiniprogram())return w.default.alert("请前往「发现>视频号」中\n关注视频号动态",{confirmTxt:"知道了"}),!0;var t=L.getWeVideoActionFromUrl(e.srcurl);if(!t)return e.callback(L.resGen("invalid")),!0;if(L.checkIsSuppportJumpWeVideo(t)){var n=L.getWeVideoParamsFromUrl(t,e.srcurl),i=T[t].api;f.default[i](n,e.callback)}else _.default.alert("该内容由视频号提供，当前微信版本过低，无法打开，请更新微信",{confirmTxt:"更新微信",closeTxt:"取消",style:"twoBtn",confirmCb:function(){R("https://support.weixin.qq.com/update/")},closeCb:function(){}});return!0}),1e3,{trailing:!1,leading:!0}),processWeGamelife:(x=(0,l.default)(o.default.mark((function e(t){var n,i,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.isPureWeGamelifeUrl(t.srcurl)){e.next=3;break}return e.abrupt("return",!1);case 3:if(!p.default.isMiniprogram()){e.next=6;break}return w.default.alert("请前往「发现>游戏>聊天」\n加入小组",{confirmTxt:"知道了"}),e.abrupt("return",!0);case 6:if(n=L.getWeGamelifeActionFromUrl(t.srcurl)){e.next=10;break}return t.callback(L.resGen("invalid")),e.abrupt("return",!0);case 10:return e.next=12,L.checkIsSupportJumpNativeGamelife(n);case 12:return e.sent?(i=L.getWeGamelifeParamsFromUrl(n,t.srcurl,t),r=P[n].api,f.default[r]&&f.default[r](i,t.callback)):_.default.alert("该内容由微信游戏人生提供，当前微信版本过低，无法打开，请更新微信",{confirmTxt:"更新微信",closeTxt:"取消",style:"twoBtn",confirmCb:function(){R("https://support.weixin.qq.com/update/")},closeCb:function(){}}),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)}),processWeGameTab:(0,m.default)((function(e){if(!L.isPureWeGameTabUrl(e.srcurl))return!1;if(p.default.isMiniprogram())return w.default.alert("请前往「发现>游戏」\n查看详情",{confirmTxt:"知道了"}),!0;var t=L.getWeTabActionFromUrl(e.srcurl);if(!t)return e.callback(L.resGen("invalid")),!0;var n=L.getWeTabParamsFromUrl(t,e.srcurl,e),i=D[t].api;return f.default[i]&&f.default[i](function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tabKey:t},n),e.callback),!0})),processAndroid:(0,m.default)((function(e){var t=this;if(!p.default.isAndroid)return this;if(p.default.isMiniprogram()&&!p.default.isMinigame())return L.safeJump(e),this;function n(n){e.jTimer&&clearTimeout(e.jTimer),n.err_msg&&-1==n.err_msg.indexOf(":ok")?setTimeout((function(){e.callback(n),L.safeJump(e)}),200):(t.reportOpenRateA(e),e.callback(n))}var i=p.default.clientVersion(!0);if(p.default.isAndroid&&p.default.versionCompare(i,"6.5.9")>0&&!0===e.extparam.gameView)return e.progress="openGameWebView",f.default.openGameWebView({url:e.JumpUrl},n),this;if(1==e.extparam.fullscreen||e.extparam.redirect){e.progress="openCustomWebview";var r="vertical";2==e.extparam.Orientation&&(r="horizontal"),f.default.openCustomWebview({orientation:r,fullscreen:1==e.extparam.fullscreen,url:e.JumpUrl,open_game_webview:"1",finish_recent_webview:e.extparam.redirect?"1":"0"},n)}else e.progress="canOpenNext",L.canOpenNext((function(){L.openWebview(e,n)}));return this}),1e3,{trailing:!1,leading:!0}),processIos:function(e){var t=this;if(p.default.isiOS||p.default.isPcWechat){if(p.default.isMiniprogram()&&!p.default.isMinigame())return L.safeJump(e),this;L.openWebview(e,(function(n){e.jTimer&&clearTimeout(e.jTimer),-1==n.err_msg.indexOf(":ok")?setTimeout((function(){e.callback(n),L.safeJump(e)}),200):(t.reportOpenRateA(e),e.callback(n))}))}return this},processSafeLogic:function(e){return p.default.isMiniprogram()||(e.jTimer=setTimeout((function(){e.callback(L.resGen("timeout")),L.safeJump(e)}),p.default.isWechat?2e3:500)),this},processContext:function(e,t,n){var i={};return i.srcurl=e+"",i.extparam=t||{},i.callback="function"==typeof n?n:function(){},i.allPathTemp=[],i.JumpUrl="",i.useGameOpen=L.checkIsOpenByGameWebview(i),null!=i.extparam.statusBarStyle&&(i.statusBarStyle=i.extparam.statusBarStyle),null!=i.extparam.statusBarColor&&(i.statusBarColor=i.extparam.statusBarColor),null!=i.extparam.useJscore&&(i.useJscore=i.extparam.useJscore),i},processRedirection:function(e){return(0,l.default)(o.default.mark((function t(){var n,i,r,a,s;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=p.default.getHexClientVersion(),!L.isPureWeVideoUrl(e)){t.next=10;break}if(i=L.getWeVideoActionFromUrl(e),r=L.getWeVideoParamsFromUrl(i,e),"livelist"===i&&r.byPass&&(p.default.isiOS&&n>=385881088||p.default.isAndroid&&n>=671091514)&&(a="/pages/livecollection/index.html",s="",r.mpPath&&(a=decodeURIComponent(r.mpPath)),r.envVersion&&(s="&env_version=".concat(r.envVersion)),e="weapp://wx4bfd324d7e80de2e?path=".concat(encodeURIComponent("".concat(a,"?bypass=").concat(encodeURIComponent(r.byPass)))).concat(s)),!(p.default.isPcWechat&&T[i]&&T[i].redirect)){t.next=10;break}return t.next=9,T[i].redirect(r);case 9:e=t.sent;case 10:return t.abrupt("return",Promise.resolve(e));case 11:case"end":return t.stop()}}),t)})))()},processInfoProtect:function(e,t,n){var i,r,o,a;if(t.grantInfo&&void 0===t.grantInfo.biz_id)w.default.alert("系统出错了");else{var s=(null===(i=t.grantInfo)||void 0===i?void 0:i.appid)||"wx95a3a4d7c627e07d",l=null===(r=t.grantInfo)||void 0===r?void 0:r.biz_id,d=(null===(o=t.grantInfo)||void 0===o?void 0:o.is_auth)||!1,c=(null===(a=t.grantInfo)||void 0===a?void 0:a.type)||1;new h.default({grantInfo:{is_auth:d,appid:s,biz_id:l,type:c},success:function(i){delete t.grantInfo,R(e,t,n)}})}},getRandom:function(e){return!0},stipUrl:function(e){return e.replace(/\?{1,}(.*)/,"").replace(/^http(s)?:\/\//,"")},generateRateKey:function(e){var t=e.srcurl,n=Date.now(),i=this.stipUrl(t),r=this.stipUrl(d.default.window.location.href);try{var o="openRate_"+i,a=JSON.stringify({fromUrl:r,time:n});localStorage.setItem(o,a)}catch(t){e.openRateInstance.EndLogic({err_msg:"generateRateKey_localstorage error"})}return n},reportNoWepkg:function(e){var t=e.JumpUrl;O(t)||(t=u.getDomainPath(t),e.openUrlWepkgUrlQualityInstance&&e.openUrlWepkgUrlQualityInstance.EndLogic({err_msg:t}))},reportOpenRateA:function(e){e.canOpenRate&&e.openRateInstance.EndLogic({err_msg:JSON.stringify({targetUrl:e.srcurl})})},reportJumpInfo:function(e){var t=c.getQueryStr("wechat_pkgid")||"",n=L.calWeichatPkgid(e.JumpUrl);return(0,A.default)([{iActionId:30040,iOpType:2,sExternInfo:JSON.stringify({pkgid:t,next_pkgid:n})}]),this}};function R(e,t,n){return G.apply(this,arguments)}function G(){return(G=(0,l.default)(o.default.mark((function e(t,n,i){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this,r={},n=n||{},/:?\/\//g.test(t)){e.next=6;break}return i&&i(L.resGen("invalid")),e.abrupt("return");case 6:if(null==n.grantInfo){e.next=9;break}return W.processInfoProtect(t,n,i),e.abrupt("return");case 9:return e.next=11,W.processRedirection(t);case 11:if(t=e.sent,r=W.processContext(t,n,i),(r=W.urlPretreatment(r)).openUrlQualityInstance=g.default.StartRuner("openUrl",{url:t,extparam:n}),r.openUrlWepkgUrlQualityInstance=g.default.StartRuner("openUrlWepkg",{url:t,extparam:n}),r.openRateInstance=g.default.StartRuner("openRateStart",{url:t,extparam:n}),r.canOpenRate=W.getRandom(),r.canOpenRate&&W.generateRateKey(r),!W.processMiniApp(r)){e.next=22;break}return e.abrupt("return");case 22:if(!W.processWeVideo(r)){e.next=25;break}return e.abrupt("return");case 25:return e.next=27,W.processWeGamelife(r);case 27:if(!e.sent){e.next=30;break}return e.abrupt("return");case 30:return e.next=32,W.processWeGameTab(r);case 32:if(!e.sent){e.next=35;break}return e.abrupt("return");case 35:W.reportNoWepkg(r),W.reportJumpInfo(r),W.processSafeLogic(r).processIos(r).processAndroid(r);case 38:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}f.default.openUrl=f.default.openUrl||R;var N={WEAPP:"weapp",WEVIDEO:"wevideo",WEGAMELIFE:"wegamelife"};function F(e){return L.isPureMiniAppUrl(e)?N.WEAPP:L.isPureWeVideoUrl(e)?N.WEVIDEO:L.isPureWeGamelifeUrl(e)?N.WEGAMELIFE:void 0}F.enum=N,f.default.getUrlType=f.default.getUrlType||F;var U=f.default;t.default=U;var Q=f.default.openUrl;t.openUrl=Q},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(40),r=n.n(i),o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},s=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,d=0,c=!1,u=function(){},f=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,n,i){c=n,f=i||{};var o=r()(e,t);return _(o),function(t){for(var n=[],i=0;i<o.length;i++){var s=o[i];(l=a[s.id]).refs--,n.push(l)}t?_(o=r()(e,t)):o=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete a[l.id]}}}}function _(e){for(var t=0;t<e.length;t++){var n=e[t],i=a[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(h(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(h(n.parts[r]));a[n.id]={id:n.id,refs:1,parts:o}}}}function m(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function h(e){var t,n,i=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(p){var r=d++;i=l||(l=m()),t=A.bind(null,i,r,!1),n=A.bind(null,i,r,!0)}else i=m(),t=b.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var w,v=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function A(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function b(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),f.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.delKeyValue=g,t.getKeyValue=p,t.setKeyValue=f;var r=i(n(8));n(43),n(44);var o,a=i(n(11)),s=i(n(2)),l=i(n(4)),d=s.default.isWechat;if(!s.default.isCSR){var c=l.default.window.WXGAME||{};o=c.baseQualityReport||a.default}var u=Math.random()<.005;function f(e,t){var n=o.StartLogic(o.LOGIC_CONST.TypeTextEnum.CACHEKEY,"setKeyValue",{key:e},r.default);try{localStorage.setItem(e,t),u&&n.EndLogic({errcode:"set_ls_success",length:t.length})}catch(i){-1!=i.toString().indexOf("QuotaExceeded")?(localStorage.clear(),localStorage.setItem(e,t),u&&n.EndLogic({errcode:"set_ls_quota_exceeded",length:t.length})):u&&n.EndLogic({errcode:"set_ls_fail",err_msg:String(i),length:t.length})}d&&r.default.setGameData({key:e,value:t},(function(i){setTimeout((function(){try{logInfo("wxBridge.setGameData ".concat(e,":"),i),i.err_msg.indexOf(":ok")?u&&n.EndLogic({errcode:"set_native_success",length:t.length}):u&&n.EndLogic({errcode:"set_native_fail",err_msg:i.err_msg,length:t.length})}catch(e){console.error(e),Promise.reject(e)}}),100)}))}function p(e,t){var n=o.StartLogic(o.LOGIC_CONST.TypeTextEnum.CACHEKEY,"getKeyValue",{key:e},r.default),i=localStorage.getItem(e);null===i&&d?r.default.getGameData({key:e},(function(i){setTimeout((function(){try{logInfo("wxBridge.getGameData ".concat(e,":"),i)}catch(e){console.error(e),Promise.reject(e)}}),100),-1!==i.err_msg.indexOf(":ok")?(t(i.value,{from:"wxbridge"}),u&&(i.value?n.EndLogic({errcode:"get_native_success",length:i.value.length}):n.EndLogic({errcode:"no_cache",length:0}))):(t(null,{from:"wxbridge"}),u&&n.EndLogic({errcode:"get_native_fail",err_msg:i.err_msg,length:0}))})):(t(i,{from:"localstorage"}),u&&n.EndLogic({errcode:"get_ls_success",length:i.length}))}function g(e){localStorage.removeItem(e),r.default.invoke("clearGameData",{keys:[e]},(function(e){console.log(JSON.stringify(e))}))}var _={setKeyValue:f,getKeyValue:p,delKeyValue:g};t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.msgToKvString=t.KvReportProtocolConfig=void 0;t.KvReportProtocolConfig={quality:{cmdid:2,logid:16145,columns:[{key:"PageKey",index:21,type:1},{key:"Network",index:22,type:1},{key:"DeviceLevel",index:23,type:1},{key:"Url",index:24,type:1},{key:"IsWepkg",index:25,type:1},{key:"IsLuggage",index:26,type:1},{key:"IsPreload",index:27,type:1},{key:"WepkgVersion",index:28,type:1},{key:"CommJsVersion",index:29,type:1},{key:"Type",index:30,type:2,default:0},{key:"Target",index:31,type:2,default:""},{key:"Params",index:32,type:2,default:""},{key:"Result",index:33,type:2,default:""},{key:"CostTime",index:34,type:2,default:0},{key:"CurrentUrl",index:35,type:2,default:""},{key:"IsError",index:36,type:2,default:0},{key:"IsLiteApp",index:37,type:2,default:0},{key:"BuildVersion",index:38,type:2,default:0}]}};t.msgToKvString=function(e,t){return t.map((function(t){var n=t.index;if(!(n in e))return 0;var i=e[n];return void 0===i?0:i})).join(",")}},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=i(n(15)),s=f(n(3)),l=f(n(7)),d=i(n(2)),c=i(n(4));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var p,g=s.getQueryStr;c.default.window;!function(e,t,n){var i=e.reportObj;function r(e){var t=g("rpt_ssid_str")||"",n=e.sExternInfo;try{if(!t)return e;if(n)if("string"==typeof n){var i=JSON.parse(n);i=s.extend({rpt_ssid_str:t},i),n=JSON.stringify(i)}else"object"===(0,o.default)(n)&&(n=JSON.stringify(s.extend({rpt_ssid_str:t},n)));else n=JSON.stringify({rpt_ssid_str:t});return e.sExternInfo=n,e}catch(t){return e}}p=function(e,t,n){if(!d.default.isMSDK&&d.default.isWechat){var o=new XMLHttpRequest,a=[];o.onreadystatechange=function(){};for(var s=0,u=e.length;s<u;s++){var f=e[s],p="";p+="PageKey="+((f=r(f)).PageKey||i.PageKey||""),p+="&Network="+(f.sConnectType||i.networktype||""),p+="&DeviceLevel="+(f.DeviceLevel||""),p+="&Url="+encodeURIComponent(c.default.window.location.href),p+="&IsWepkg="+(f.IsWepkg||0),p+="&IsLuggage="+(f.IsLuggage||0),p+="&IsPreload="+(f.IsPreload||0),p+="&WepkgVersion="+(f.WepkgVersion||""),p+="&CommJsVersion="+(f.CommJsVersion||""),p+="&Type="+(f.Type||0),p+="&Target="+(f.Target||""),p+="&Params="+(f.Params||""),p+="&Result="+(f.Result||""),p+="&CostTime="+(f.CostTime||0),p+="&CurrentUrl="+encodeURIComponent(c.default.window.location.href),p+="&IsError="+(f.IsError||0),window.__KULP_BUILD_VERSION__&&(p+="&BuildVersion="+(window.__KULP_BUILD_VERSION__||""));var g=l.strToMap(p,"&","=");a.push(g)}var _=a.length>1?"POST":"GET",m="/cgi-bin/gamewxagcommwap/report?"+(a.length>1?"":""+l.mapToStr(a[0]))+"&QB&";o.open(_,m,!0),a.length>1&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(a.length>1?JSON.stringify({batchdata:a}):null)}}}(a.default,window,document);var _=p;t.default=_},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isOK=t.default=void 0;var r=i(n(2)),o={default:{isOK:function(e){return-1!=(e.err_msg+"").indexOf(":ok")||"0"==e.result+""}},getInstallState:{isOK:function(e){return-1!=(e.err_msg+"").indexOf(":yes")}},operateGameCenterMsg:{isOK:function(e){return null!=e.result||"err_msg"in e&&-1!=(e.err_msg+"").indexOf(":ok")}},webTransfer:{isOK:function(e){var t;return r.default.isAndroid?(null==e||null===(t=e.err_msg)||void 0===t?void 0:t.indexOf(":ok"))>-1:0===(null==e?void 0:e.errCode)}}},a={isOK:function(e,t){if(r.default.isMiniprogram()){var n=(null==t?void 0:t.err_msg)||"";if(n.indexOf("system:access_denied")>-1||n.indexOf("system:function_not_exist")>-1||n.indexOf("fail_no execute in current borwser")>-1)return!0}return e in o?o[e].isOK(t):o.default.isOK(t)}},s=a;t.default=s;var l=a.isOK;t.isOK=l},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3)),s=i(n(70));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(e){var t=function(e){return e.match(/(\w+):\/\/([^:|/]+)(:\d*)?(.*\/)([^#|?|\n]+)?(#.*)?(\?.*)?/i)}(e);return e=(t[2]||"")+(t[3]||"")+(t[4]||"")+(t[5]||"")}var c={};if(o.default.isCSR)c={};else{var u=window;u.WxGameJsCoreBridge=u.WxGameJsCoreBridge||{},u.WxGameJsCoreBridge.isInited||((0,s.default)(),u.WxGameJsCoreBridge.isInited=!0,u.WxGameJsCoreBridge.hadJscoreInited=function(){return o.default.isiOS?!!window.WxGameJsCoreNative&&window===top:"inited"===window.__jscore_state__&&window===top},u.WxGameJsCoreBridge.renderedUrls=[],u.WxGameJsCoreBridge.preRender=function(e){return u.WxGameJsCoreBridge.hadJscoreInited()?new Promise((function(t,n){var i,r,s,l;"string"==typeof e.htmlUrl&&e.htmlUrl.length>0?(e.htmlUrl=a.removeQueryStringKey("wechat_immersive",e.htmlUrl),e.htmlUrl=a.removeQueryStringKey("immersivePageBgIsDark",e.htmlUrl),e.htmlUrl=a.removeQueryStringKey("immersiveUIStyle",e.htmlUrl),null!==(i=window)&&void 0!==i&&null!==(r=i.WXGAME)&&void 0!==r&&null!==(s=r.GlobalConfig)&&void 0!==s&&null!==(l=s.router)&&void 0!==l&&l.checkNeedImmersiveParamInUrl(e.htmlUrl)&&(e.htmlUrl+="".concat(-1===e.htmlUrl.indexOf("?")?"?":"&","wechat_immersive=1&immersivePageBgIsDark=1&immersiveUIStyle=1&")),e.isDarkMode=void 0===e.isDarkMode?o.default.isDarkMode:e.isDarkMode,u.WxGameJsCoreBridge.postMessage("preRender",e,(function(n){u.WxGameJsCoreBridge.renderedUrls.push(e.htmlUrl),t(n)}))):(n(),console.error("preRender必须传htmlUrl"))})):(logError("预渲染 ".concat(window.__jscore_state__," ").concat(!!window.WxGameJsCoreNative," ").concat(JSON.stringify(e)," jscore 未ready")),Promise.reject())},u.WxGameJsCoreBridge.hadPrerendered=function(e){return e=d(e),u.WxGameJsCoreBridge.renderedUrls.some((function(t){if(e===d(t))return!0}))},u.WxGameJsCoreBridge.openUrl=function(e){return u.WxGameJsCoreBridge.hadJscoreInited()?new Promise((function(t,n){u.WxGameJsCoreBridge.postMessage("openUrl",e,(function(e){t(e)}))})):Promise.reject()}),c=u.WxGameJsCoreBridge}var f=c;t.default=f},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(12)),a=i(n(1)),s=i(n(13)),l=i(n(24)),d=i(n(2)),c=i(n(37)),u=i(n(6)),f=i(n(8)),p=i(n(17)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}var m=1,h=2,w=0,v=1,A=1,b=2,y=3,k=4,x=null,S=null,I=!1;function C(e){if(x)return x;x=this.initDom(),this.init(e)}C.prototype.hide=function(){this.destoryDom(),x&&(x=null),S&&(S=null),I||this.unlockScreen()},C.prototype.initDom=function(){var e=document.createElement("div");return e.classList.add("js-grant-wrapper"),e},C.prototype.destoryDom=function(){var e=document.querySelector("#js-grant-wrapper");e&&e.parentNode.removeChild(e)},C.prototype.init=function(){var e=(0,s.default)(o.default.mark((function e(t){var n,i,r,a,s,d,c,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this,this.url=(null==t?void 0:t.url)||"",this.successCbk=(null==t?void 0:t.success)||function(){},this.cancelCbk=(null==t?void 0:t.cancel)||function(){},this.appid=(null==t||null===(n=t.grantInfo)||void 0===n?void 0:n.appid)||"",this.bizid=+(null==t||null===(i=t.grantInfo)||void 0===i?void 0:i.biz_id),d=+(null==t||null===(r=t.grantInfo)||void 0===r?void 0:r.type)||1,null!=t&&null!==(a=t.grantInfo)&&void 0!==a&&a.appid){e.next=11;break}return this.successCbk({is_auth:!0}),this.hide(),e.abrupt("return");case 11:if(this.bizid){e.next=15;break}return this.successCbk({is_auth:!0}),this.hide(),e.abrupt("return");case 15:if(!(c=t.grantInfo||null)){e.next=26;break}if(f=!1,!("is_auth"in c)){e.next=22;break}f=c.is_auth,e.next=25;break;case 22:return e.next=24,this.getAuthStatus(this.bizid,this.appid);case 24:f=e.sent;case 25:f?(s.successCbk({is_auth:!0}),this.hide()):(this.lockScreen(),d===h?(this.showGrantPage({biz_id:this.bizid,appid:this.appid,url:window.location.href}),I=!0):(this.report({pid:0,aid:1,ext:JSON.stringify({BizId:this.bizid})}),(0,u.default)("/cgi-bin/gameusergrantwap/getusergrantinfo",JSON.stringify({method:"POST",biz_id:this.bizid,appid:this.appid}),(function(e){s._init(e.data)}),(function(){s.hide(),l.default.alert("系统出错了")}))));case 26:return e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),C.prototype.getAuthStatus=function(e,t){var n=this;return new Promise((function(i,r){(0,u.default)("/cgi-bin/gameusergrantwap/getusergrantbizcontrol",{biz_id:e,appid:t},(function(e){var t;0===(null==e?void 0:e.errcode)&&null!=e&&e.data&&i((null===(t=e.data)||void 0===t?void 0:t.is_auth)||!1)}),(function(){n.hide(),l.default.alert("系统出错了")}))}))},C.prototype._init=function(e){var t,n,i,r,o,a,s,l=this;(this.insertStyle(),this.title=(null===(t=e.interface_config)||void 0===t?void 0:t.title)||{},this.list=(null===(n=e.interface_config)||void 0===n||null===(i=n.body)||void 0===i?void 0:i.item_list)||[],this.category=e.category||w,this.category===v)?this.footer=(null===(r=e.interface_config)||void 0===r||null===(o=r.footer)||void 0===o?void 0:o.wxag_content)||"":this.footer=(null===(a=e.interface_config)||void 0===a||null===(s=a.footer)||void 0===s?void 0:s.content)||"";var d=e.user_grant_info_list||[];this.ruleList=[];for(var c=function(){var e=l.list[u],t=d.find((function(t){return t.item_id===e.item_id})),n=e.status_list.find((function(e){return e.item_status_value===t.item_status_value}));l.ruleList.push({item_id:e.item_id,item_status_value:n.item_status_value,item_status_name:n.item_status_name})},u=0,f=this.list.length;u<f;u++)c();this.showRangeSelect=!1,this.curentGrantId=0,this.currentRange={},this.currentRangeId=0,this.initGrant()},C.prototype.initGrant=function(){var e=this;this.halfScreenDialog=new c.default(e.getHtml(),[{label:"取消",type:"default",callback:function(){e.showRangeSelect?e.timer=setTimeout((function(){e.halfScreenDialog.update(e.getHtml()),e.showRangeSelect=!1}),200):(e.report({pid:2,aid:2,ext:JSON.stringify({BizId:e.bizid})}),e.timer&&(clearTimeout(e.timer),e.timer=null),e.hide(),e.cancelCbk(e.list))}},{label:"确认",type:"primary",callback:function(){if(e.showRangeSelect)e.ruleList=e.ruleList.map((function(t){return t.item_id===e.curentGrantId&&(t.item_status_value=e.currentRange.item_status_value,t.item_status_name=e.currentRange.item_status_name),t})),e.timer=setTimeout((function(){e.halfScreenDialog.update(e.getHtml()),e.showRangeSelect=!1}),200);else{if(1===e.category){var t=e.ruleList.find((function(e){return e.item_id===y})),n=e.ruleList.find((function(e){return e.item_id===k}));e.report({pid:3,aid:2,ext:JSON.stringify({WxagGameLoginStatus:+t.item_status_value,WxagGameAccountStatus:+n.item_status_value,BizId:e.bizid})})}else{var i=e.ruleList.find((function(e){return e.item_id===A})),r=e.ruleList.find((function(e){return e.item_id===b}));e.report({pid:3,aid:2,ext:JSON.stringify({GameAccountStatus:+i.item_status_value,GameRelateStatus:+r.item_status_value,BizId:e.bizid})})}e.hide(),e.timer&&(clearTimeout(e.timer),e.timer=null);var o=e.ruleList.map((function(e){return{item_id:e.item_id,item_status_value:e.item_status_value}}));(0,u.default)("/cgi-bin/gameusergrantwap/setusergrantinfo",JSON.stringify({method:"POST",user_grant_info_list:o,submit_value:m,appid:e.appid,biz_id:e.bizid}),(function(t){var n;e.url&&f.default.openUrl(e.url);var i={is_auth:(null===(n=t.data)||void 0===n?void 0:n.is_auth)||!1};e.successCbk(i)}),(function(){e.hide(),l.default.alert("系统出错了")}))}}}])},C.prototype.insertStyle=function(){if(!document.getElementById("global_subscribe_style")){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id","global_subscribe_style");e.innerHTML="\n            @font-face {\n                font-family: \"WeChatGameIcon\";\n                src: url('data:font/truetype;charset=utf-8;base64,AAEAAAAQAQAABAAARkZUTYraAE0AAAz0AAAAHEdERUYASQBBAAALpAAAACxHUE9TK8kiAAAADJAAAABiR1NVQiJDJwkAAAvQAAAAwE9TLzJYkGSOAAABiAAAAGBjbWFwF8kq1wAAAiwAAAGCY3Z0IAAhAnkAAAOwAAAABGdhc3D//wADAAALnAAAAAhnbHlmoC55BgAAA+AAAAUQaGVhZBgJHMoAAAEMAAAANmhoZWEG7QORAAABRAAAACRobXR4JdIIrAAAAegAAABCbG9jYQrSDDYAAAO0AAAALG1heHAAWgBKAAABaAAAACBuYW1lpEOrAwAACPAAAAJAcG9zdB+qAPcAAAswAAAAbAABAAAAAQAAwxipzV8PPPUAHwPoAAAAANqNVm8AAAAA2qiC1QAU/5wDjAMFAAAACAACAAAAAAAAAAEAAAMF/5wAWgPoAAAAAAOMAAEAAAAAAAAAAAAAAAAAAAAMAAEAAAAVABkAAwAAAAAAAgAAAAEAAQAAAEAALgAAAAAABAOjAZAABQAAAooCvAAAAIwCigK8AAAB4AAxAQIAAAIABQMAAAAAAAAAAAADAAAAAAAAAAAAAAAAUGZFZACAAEQA/wMg/zgAWgMFAGQAAAABAAAAAAJ6AmsAAAAgAAIBbAAhAAAAAAFNAAAD6ACcAzwAFAM8AYsD6ACcA+gAnAPoAJwDPAAUAzwBiwPoAJwAYACcAJwAnACcAJEAkQB4AHgAAAAAAAMAAAADAAAAHAABAAAAAAB8AAMAAQAAABwABABgAAAAFAAQAAMABABEAEwAUgBWAGQAbAByAHUA////AAAARABMAFIAVQBkAGwAcgB1AP////+//7j/s/+x/6T/nf+Y/5b/DQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEGAAABAAAAAAAAAAECAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABAAAAAAABQAABgcAAAAAAAAAAAAAAAAACAAAAAAAAAAJAAAAAAAKAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIQJ5AAAAKgAqACoAQgBcAHQAjACkALwA1gDuAQYBNAFeAYgBsgHcAgYCMAJcAogAAgAhAAABKgKaAAMABwAusQEALzyyBwQA7TKxBgXcPLIDAgDtMgCxAwAvPLIFBADtMrIHBgH8PLIBAgDtMjMRIREnMxEjIQEJ6MfHApr9ZiECWAAAAQCcAHEDTAHoAAgAABM3CQEXAQYiJ5w4ASABHzn+zRArDwGwOP7jAR04/tEQEAAAAQAU/9UBuALRAAgAAAUBJjQ3ARcJAQF6/qsREQFVPv7AAUArAVUQMRIBVD/+wf7BAAAAAAEBi//XAzAC0wAIAAAFJwkBNwEWFAcByj8BQP7APwFUEhIpPwE/AT8//qwSMRAAAAEAnACrA0wCIgAIAAAlBwkBJwE2MhcDTDj+4P7hOQEzECsP4zgBHf7jOAEvEBAAAAEAnABxA0wB6AAIAAATNwkBFwEGIiecOAEgAR85/s0QKw8BsDj+4wEdOP7REBAAAAEAnABxA0wB6AAIAAATNwkBFwEGIiecOAEgAR85/s0QKw8BsDj+4wEdOP7REBAAAAEAFP/VAbgC0QAIAAAFASY0NwEXCQEBev6rEREBVT7+wAFAKwFVEDESAVQ//sH+wQAAAAABAYv/1wMwAtMACAAABScJATcBFhQHAco/AUD+wD8BVBISKT8BPwE/P/6sEjEQAAABAJwAqwNMAiIACAAAJQcJAScBNjIXA0w4/uD+4TkBMxArD+M4AR3+4zgBLxAQAAADAGD/nAOIAwUADAAUABgAAAEGByckETMUBxYXByYTESM1IRUjERMhESEB8U22JwEYRRyocjRh+0r9bEpKApT9bAFquGc+lQFpc2eWljOIAi/8mCwtA2n9BgK4AAIAnP/4A0wCtQAIABEAACUHCQEnATYyFyUHCQEnATYyFwNMOP7g/uE5ATMQKw8BMzj+4f7hOQEyECwPMDgBHf7jOAEvEBAXOAEd/uM4AS8QEAAAAAIAnP/iA00CmQAIABEAABM3CQEXAQYiJwE3CQEXAQYiJ5w4ASABHzn+zRArD/7POAEfAR85/s4QLA8BITj+4wEdOP7REBACbzj+4wEdOP7REBAAAAIAnP/4A0wCtQAIABEAACUHCQEnATYyFyUHCQEnATYyFwNMOP7g/uE5ATMQKw8BMzj+4f7hOQEyECwPMDgBHf7jOAEvEBAXOAEd/uM4AS8QEAAAAAIAnP/iA00CmQAIABEAABM3CQEXAQYiJwE3CQEXAQYiJ5w4ASABHzn+zRArD/7POAEfAR85/s4QLA8BITj+4wEdOP7REBACbzj+4wEdOP7REBAAAAIAkf/XA4wC0wAIABEAABcnCQE3ARYUBxMnCQE3ARYUB9A/AUD+wD8BVBISAj8BQP7APwFUEhIpPwE/AT8//qwSMRD+qz8BPwE/P/6sEjEQAAAAAAIAkf/XA4wC0wAIABEAABcnCQE3ARYUBxMnCQE3ARYUB9A/AUD+wD8BVBISAj8BQP7APwFUEhIpPwE/AT8//qwSMRD+qz8BPwE/P/6sEjEQAAAAAAIAeP/VA3IC0QAIABEAAAUBJjQ3ARcJAQUBJjQ3ARcJAQHe/qsREQFVPv7AAUABGP6rEREBVT7+wAFAKwFVEDESAVQ//sH+wT8BVRAxEgFUP/7B/sEAAAACAHj/1QNyAtEACAARAAAFASY0NwEXCQEFASY0NwEXCQEB3v6rEREBVT7+wAFAARj+qxERAVU+/sABQCsBVRAxEgFUP/7B/sE/AVUQMRIBVD/+wf7BAAAAAAAOAK4AAQAAAAAAAAAUACoAAQAAAAAAAQAOAF0AAQAAAAAAAgAHAHwAAQAAAAAAAwAqANoAAQAAAAAABAAOASMAAQAAAAAABQAQAVQAAQAAAAAABgAOAYMAAwABBAkAAAAoAAAAAwABBAkAAQAcAD8AAwABBAkAAgAOAGwAAwABBAkAAwBUAIQAAwABBAkABAAcAQUAAwABBAkABQAgATIAAwABBAkABgAcAWUAQwBvAHAAeQByAGkAZwBoAHQAIAAoAGMAKQAgADIAMAAyADAALAAgAABDb3B5cmlnaHQgKGMpIDIwMjAsIAAAVwBlAEMAaABhAHQARwBhAG0AZQBJAGMAbwBuAABXZUNoYXRHYW1lSWNvbgAAUgBlAGcAdQBsAGEAcgAAUmVndWxhcgAARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIABXAGUAQwBoAGEAdABHAGEAbQBlAEkAYwBvAG4AIAA6ACAAMwAxAC0AMwAtADIAMAAyADAAAEZvbnRGb3JnZSAyLjAgOiBXZUNoYXRHYW1lSWNvbiA6IDMxLTMtMjAyMAAAVwBlAEMAaABhAHQARwBhAG0AZQBJAGMAbwBuAABXZUNoYXRHYW1lSWNvbgAAVgBlAHIAcwBpAG8AbgAgADAAMAAxAC4AMAAwADAAIAAAVmVyc2lvbiAwMDEuMDAwIAAAVwBlAEMAaABhAHQARwBhAG0AZQBJAGMAbwBuAABXZUNoYXRHYW1lSWNvbgAAAgAAAAAAAP9RADIAAAAAAAAAAAAAAAAAAAAAAAAAAAAVAAAAAQACACcALwA1ADgAOQBHAE8AVQBYALoBAgEDAQQBBQEGAQcBCAEJA3VfdQNkX2QDVV9VA0RfRANyX3IDUl9SA2xfbANMX0wAAAAB//8AAgABAAAADAAAABwAJAACAAIAAQAMAAEADQAUAAIABAAAAAIAAAABAAAAAQAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAA//8AAQAAAAQAAAAA//8AAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQBmAAgAFgAgACoANAA+AEgAUgBcAAEABAAQAAIAAwABAAQAFAACAAQAAQAEABIAAgAFAAEABAAPAAIABgABAAQADgACAAgAAQAEABMAAgAJAAEABAARAAIACgABAAQADQACAAsAAgACAAMABgAAAAgACwAEAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAA//8AAQAAAAQAAAAA//8AAQAAAAFrZXJuAAgAAAABAAAAAQAEAAIAAAABAAgAAQASAAQAAAABAAwAAQAL/YcAAQABAAsAAAAAAAEAAAAA1aQnCAAAAADajVZvAAAAANqogtU=') format('truetype');\n                /* iOS 4.1- */\n                font-style: normal;\n                font-weight: normal; \n            }\n \n            .arrow-container {\n                align-items: center;\n                justify-content: center;\n                padding: 0 2PX;\n                width: 24PX;\n                height: 24PX;\n                border-radius: 12PX;\n                background-color: #F7F7F7;\n            }\n            .wxgamelib-grant .popup { position: fixed;top: 0;left: 0;width: 100vw;height: 100vh;background-color: rgba(0, 0, 0, 0.5); }\n            .wxgamelib-grant .popup__content {bottom: 0;background-color: #FFFFFF;border-radius: 12PX 12PX 0PX 0PX;width: 100%;padding: 20PX 24PX;font-family: PingFang SC;font-style: normal;font-weight: normal; box-sizing: border-box;}\n            .wxgamelib-grant .icon-font_family { font-family: WeChatGameIcon; }\n            .wxgamelib-grant .popup__content-flex { display: flex;align-items: center; }\n            .wxgamelib-grant .popup__content-game_info-icon { width: 24PX;height: 24PX;vertical-align: middle; }\n            .wxgamelib-grant .popup__content-game_info-game_name { margin-left: 8PX;color: rgba(0, 0, 0, 0.9);font-weight: 500;font-size: 15PX;line-height: 21PX;vertical-align: middle; }\n            .wxgamelib-grant .popup__content-item { position: relative;color: rgba(0, 0, 0, 0.9);font-size: 17PX;line-height: 24PX;padding: 16PX 0; }\n            .wxgamelib-grant .popup__content-item:after { content: '';position: absolute;left: 0;right: 0;bottom: 0;transform: scaleY(.5);border-top: 1PX solid rgba(0, 0, 0, 0.1) }\n            .wxgamelib-grant .popup__content-title { margin-top: 12PX;font-weight: 500; }\n            .wxgamelib-grant .popup__content-item-account { justify-content: space-between;align-items: center; }\n            .wxgamelib-grant .popup__content-item-left { color: rgba(0, 0, 0, 0.5);font-size: 14PX;display: flex;align-items: center;flex-shrink: 0;max-width: 50%; }\n            .wxgamelib-grant .popup__content-item-tips { font-size: 14PX;color: rgba(0, 0, 0, 0.3);line-height: 20PX;flex-shrink: 1; }\n            .wxgamelib-grant .popup__content-item-friend { padding: 10PX 0;display: flex;justify-content: space-between;align-items: center; }\n            .wxgamelib-grant .popup__content_tips { color: rgba(0, 0, 0, 0.3);font-size: 14PX;line-height: 20PX;padding: 16PX 0; }\n            .wxgamelib-grant .popup__content_tips_link { color: #576b95; }\n            .wxgamelib-grant .popup__content-overflow{ overflow: auto; height: 100%; }\n            .wxgamelib-grant .popup__content-overflow::-webkit-scrollbar{ width: 0; }\n            .wxgamelib-grant .line_clamp-single{ overflow:hidden;text-overflow:ellipsis;white-space:nowrap; }\n            .wxgamelib-grant .lineClamp_many{ overflow:hidden; text-overflow:ellipsis;display:-webkit-box; -webkit-box-orient:vertical;-webkit-line-clamp:2; }\n            /* 授权范围弹窗样式 */\n            .wxgamelib-grant .select_popup { position: fixed;bottom: 0;background-color: #FFFFFF;border-radius: 12PX 12PX 0PX 0PX;width: 100%;height: 427.5PX;font-family: PingFang SC;font-style: normal;font-weight: normal; }\n            .wxgamelib-grant .select_popup__top-title { display: flex;align-items: center;justify-content: space-between;padding: 20PX 16PX;color: rgba(0, 0, 0, 0.9);font-weight: 500;font-size: 15px;line-height: 21px; }\n            .wxgamelib-grant .select_popup__top-title-icon { display: flex;align-items: center;font-size: 16px;flex-shrink: 0;margin-right: 30PX; line-height: 24px; padding-left: 2px; }\n            .wxgamelib-grant .select_popup__content { padding: 0 24PX; }\n            .wxgamelib-grant .select_popup__content—item { display: flex;align-items: center;justify-content: space-between;padding: 16PX 0;position: relative;font-size: 17px;line-height: 24px;color: rgba(0, 0, 0, 0.9); }\n            .wxgamelib-grant .select_popup__content—item:after { content: '';position: absolute;left: 0;right: 0;bottom: 0;transform: scaleY(.5);border-top: 1PX solid rgba(0, 0, 0, 0.1) }\n            .wxgamelib-grant .select_popup__content—item-icon { width: 24PX;height: 24PX;flex-shrink: 0;margin-left: 5PX; }\n            .wxgamelib-grant .select_popup__content—item-icon-img { width: 100%;height: 100%; }\n            .wxgamelib-grant .select_popup-icon_selected { display: inline-block; }\n            .wxgamelib-grant .select_popup-icon_hide { display: none;}\n            .wg_dark_mode .wxgamelib-grant .popup__content-game_info-game_name { color: rgba(255, 255, 255, 0.8);}\n            .wg_dark_mode .wxgamelib-grant .popup__content-item { color: rgba(255, 255, 255, 0.8); }\n            .wg_dark_mode .wxgamelib-grant .popup__content-item-left { color: rgba(255, 255, 255, 0.5); }\n            .wg_dark_mode .wxgamelib-grant .popup__content-item-tips { color: rgba(255, 255, 255, 0.3); }\n            .wg_dark_mode .wxgamelib-grant .popup__content_tips { color: rgba(255, 255, 255, 0.3); }\n            .wg_dark_mode .wxgamelib-grant .popup__content_tips_link { color: #7d90a9; }\n            .wg_dark_mode .wxgamelib-grant .popup__content-item:after { border-top: 1PX solid rgba(255, 255, 255, 0.05); }\n            .wg_dark_mode .wxgamelib-grant .popup__content { background-color: #232323; }\n            .wg_dark_mode .wxgamelib-grant .select_popup { background-color: #232323; }\n            .wg_dark_mode .wxgamelib-grant .select_popup__top-title { color: rgba(255, 255, 255, 0.8); }\n            .wg_dark_mode .wxgamelib-grant .select_popup__content—item { color: rgba(255, 255, 255, 0.8); }\n            .wg_dark_mode .wxgamelib-grant .select_popup__content—item:after { border-top: 1PX solid rgba(255, 255, 255, 0.05); }\n            .wg_dark_mode .wxgamelib-grant .arrow-container {background-color: #1e1e1e;}\n            #Eevee_grant_page {\n                position: fixed;\n                z-index: 100001;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background-color: #ffffff;\n              }\n              \n            .grant {\n                width: 100vw;\n                height: 100vh;\n                overflow: hidden;\n                padding-bottom: 34PX;\n            }\n            .grant__content {\n                height: calc(100% - 88PX);\n                align-items: center;\n                justify-content: space-between;\n            }\n            .grant__content-title {\n                font-size: 22PX;\n                color: rgba(0, 0, 0, 0.9);\n                margin: 32PX 32PX 8PX 32PX;\n                font-weight: 500;\n                text-align: center;\n            }\n            .grant__content-description {\n                font-size: 15PX;\n                color: rgba(0, 0, 0, 0.3);\n                margin: 0 32PX 0 32PX;\n                text-align: center;\n            }\n            .grant__content-bottom {\n                position: fixed;\n                bottom: 128PX;\n                left: 0;\n                right: 0;\n            }\n            .grant__content-button {\n                width: 184PX;\n                height: 40PX;\n                font-size: 17PX;\n                background-color: #07c160;\n                color: #ffffff;\n                margin:0 auto;\n                text-align: center;\n                justify-content: center;\n                line-height: 40PX;\n            }\n            .grant__content-imagebox {\n                max-width: 430PX;\n                margin: 32PX 67PX 0;\n                \n            }\n            .grant__content-image {\n                width: 100%;\n            }\n              \n            .wg_dark_mode #Eevee_grant_page {\n                background-color: #191919;\n            }\n              \n            .wg_dark_mode .grant__content-title {\n                color: rgba(255, 255, 255, 0.8);\n            }\n              \n            .wg_dark_mode .grant__content-description {\n                color: rgba(255, 255, 255, 0.3);\n            }\n              \n            .wg_dark_mode .grant__content-button {\n                background-color: #018942;\n            }\n        ",document.getElementsByTagName("head")[0].appendChild(e)}},C.prototype.getHtml=function(){for(var e=this,t=this,n=this.list,i=this.title,r=[{html:'\n        <div class="wxgamelib-grant">\n        <div class="popup__content">\n        <div class="popup__content-flex popup__content-game_info">\n                    <img class="popup__content-game_info-icon"\n                        src="'.concat(i.game_icon_url||"",'">\n                    <span class="popup__content-game_info-game_name">').concat(i.game_name||"",'</span>\n                </div>\n                <div>  \n                <div class="popup__content-flex popup__content-item popup__content-title">').concat(i.title||"","\n                </div>\n    ")}],o=function(){var i=n[a],o=e.removeHideStatus(i.status_list);e.ruleList=e.ruleList.map((function(e){if(e.item_id===i.item_id&&o&&-1===o.findIndex((function(t){return t.item_status_value===e.item_status_value}))){var t=o[0];e.item_status_value=t.item_status_value,e.item_status_name=t.item_status_name}return e}));var s=e.ruleList.find((function(e){return e.item_id===i.item_id}));e.getHideCondition(i.hide_if_list)?t.ruleList=t.ruleList.map((function(e){var t=i.status_list.length;return e.item_id===i.item_id&&(e.item_status_value=i.status_list[t-1].item_status_value,e.item_status_name=i.status_list[t-1].item_status_name),e})):r.push({target:".item-"+i.item_id,callback:function(e){t.showRangeSelect=!0,t.curentGrantId=i.item_id,t.currentRange={item_status_value:s.item_status_value,item_status_name:s.item_status_name},t.currentRangeId=s.item_status_value,t.halfScreenDialog.update(t.getRangeSelectHtml(i.status_list),!0)},html:'\n                <div class="popup__content-item">\n                                <div class="'.concat("popup__content-flex "+(void 0===i.item_desc?"popup__content-item-friend":"popup__content-item-account"),'">\n                                    <div class="line_clamp-single">').concat(i.item_name,'</div>\n                                    <div class="').concat("popup__content-item-left item-"+i.item_id,' " >\n                                        <span class="line_clamp-single">').concat(s.item_status_name,'</span>\n                                        <span class="icon-font_family">R</span>\n                                    </div>\n                                </div>\n                                <div class="popup__content-item-tips line_clamp-single">').concat(i.item_desc||"","</div>\n                            </div>\n            ")})},a=0,s=n.length;a<s;a++)o();return r.push({html:'\n        <div class="popup__content_tips">'.concat(this.footer,"\n                    </div>\n                </div>\n            </div>\n            </div>\n    ")}),r},C.prototype.getRangeSelectHtml=function(e){for(var t=this,n=[{target:".select_popup__top-back",callback:function(e){t.halfScreenDialog.update(t.getHtml(),!1)},html:'\n        <div class="wxgamelib-grant">\n        <div class="select_popup__top-title">\n            <span class="icon-font_family select_popup__top-title-icon select_popup__top-back">L</span>\n            <div class="line_clamp-single">选择授权范围</div>\n            <span class="icon-font_family select_popup__top-title-icon"></span>\n        </div>\n        <div class="select_popup__content"> \n    '}],i=function(){var i=e[r];n.push({target:".range_item-"+i.item_status_value,callback:function(n){t.currentRange=i,t.currentRangeId=i.item_status_value,t.halfScreenDialog.update(t.getRangeSelectHtml(e),!0)},html:'\n            <div class="'.concat("select_popup__content—item range_item-"+i.item_status_value,'">\n                <div class="line_clamp-single">').concat(i.item_status_name,'</div>\n                <div class="select_popup__content—item-icon">\n                    <img class="').concat("select_popup__content—item-icon-img "+(t.currentRangeId===i.item_status_value?"select_popup-icon_selected":"select_popup-icon_hide"),' "\n                        src="https://mmgame.qpic.cn/image/59c2bf71f9d4300400f644f202b825d6418203f70ab7e1418b2686099c6a65a1/0">\n                </div>\n            </div>\n        ')})},r=0,o=e.length;r<o;r++)i();return n.push({html:"</div> </div>"}),n},C.prototype.removeHideStatus=function(e){for(var t=this,n=[],i=function(e){for(var n=function(){var n=e[i];if(t.ruleList.find((function(e){return e.item_id===n.item_id})).item_status_value===n.item_status_value)return{v:!0}},i=0,r=e.length;i<r;i++){var o=n();if("object"===(0,a.default)(o))return o.v}return!1},r=0,o=e.length;r<o;r++){var s=e[r];i(s.item_status_hide_if_list||[])||n.push(s)}return n},C.prototype.getHideCondition=function(e){for(var t=this,n=function(){var n=e[i];if(t.ruleList.find((function(e){return e.item_id===n.item_id})).item_status_value===n.item_status_value)return{v:!0}},i=0,r=e.length;i<r;i++){var o=n();if("object"===(0,a.default)(o))return o.v}return!1},C.prototype.showGrantPage=function(e){this.pageInstance||(this.pageInstance=this.initGrantPage(e))},C.prototype.initGrantPage=function(){var e=(0,s.default)(o.default.mark((function e(t){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.biz_id){e.next=3;break}return this.pageInstance=null,e.abrupt("return",null);case 3:return this.report({scene:145,uia:14502,pid:0,aid:1,ext:JSON.stringify({BizId:t.biz_id})}),e.next=6,this.getPageGrantInfo({biz_id:t.biz_id,appid:t.appid,dark_mode:d.default.isDarkMode});case 6:return n=e.sent,f.default.verifyJsapi(["setNavigationBarColor"],(function(){f.default.invoke("setNavigationBarColor",{color:d.default.isDarkMode?"#191919":"#ffffff"})})),f.default.verifyJsapi(["setPageTitle"],(function(){f.default.invoke("setPageTitle",{title:" "})})),i=d.default.isDarkMode?n.screenshot_url_dark:n.screenshot_url,this.pageInstance=this.initGrantPageInstance({title:n.title||"",description:n.description||"",screenshot_url:i||""}),this.insertStyle(),this.pageBindEvents(t),this.proccessDarkModeChange(n),e.abrupt("return",this.pageInstance);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),C.prototype.getPageGrantInfo=function(e){var t=this,n=function(){t.hideGrantPage(),l.default.alert("系统出错了")};return new Promise((function(t,i){(0,u.default)("/cgi-bin/gameusergrantwap/getusergrantbizinfo",e,(function(e){var i;0===(null==e?void 0:e.errcode)&&null!=e&&e.data?t((null==e||null===(i=e.data)||void 0===i?void 0:i.biz_interface_config)||{}):n()}),(function(){n()}))}))},C.prototype.proccessDarkModeChange=function(e){var t=this;d.default.onDarkModeChange((function(){var n;n=d.default.isDarkMode?e.screenshot_url_dark:e.screenshot_url,t.pageInstance&&t.pageInstance.$update(n),f.default.verifyJsapi(["setNavigationBarColor"],(function(){f.default.invoke("setNavigationBarColor",{color:d.default.isDarkMode?"#191919":"#ffffff"})}))}))},C.prototype.pageBindEvents=function(e){var t=this,n=function(){null!=e&&e.url&&(d.default.isiOS?f.default.openUrl(e.url,{},(function(){!function e(){f.default.invoke("closeWindow",{},(function(t){var n,i;(null==t||null===(n=(i=t.err_msg).indexOf)||void 0===n?void 0:n.call(i,"ok"))<0&&setTimeout((function(){e()}),200)}))}()})):window.location.replace(null==e?void 0:e.url)),t.hide(),t.unlockScreen(),S=null},i=document.querySelector(".grant__content-bottom");i&&i.addEventListener("click",(function(){I=!0,S||(t.report({scene:145,uia:14502,pid:1,aid:40,ext:JSON.stringify({BizId:e.biz_id})}),S=t.initDom(),t.init({grantInfo:{biz_id:e.biz_id,appid:e.appid},success:function(e){e.is_auth&&n()},cancel:function(){t.destoryDom()}}))}),!1)},C.prototype.hideGrantPage=function(){this.pageInstance&&(this.pageInstance.$destroy(),document.body.removeChild(this.pageInstance.$el),this.pageInstance=null),this.unlockScreen()},C.prototype.initGrantPageInstance=function(e){var t=document.querySelector(".Eevee_grant_page");t&&t.parentNode.removeChild(t);var n=document.createElement("div");n.id="Eevee_grant_page",document.body.appendChild(n);var i='\n        <div class="wxgamelib-grant">\n        <div class="grant">\n            <div class="grant__content">\n                <div class="grant__content-title" > '.concat(e.title,' </div>\n                <div class="grant__content-description"> ').concat(e.description,' </div>\n                <div class="grant__content-imagebox">\n                <img\n                    src="').concat(e.screenshot_url,'"\n                    class="grant__content-image"\n                ></img>\n                </div>\n                <div class="grant__content-bottom">\n                    <div class="grant__content-button">去授权</div>\n                </div>\n                \n                \n            </div>\n        </div>\n        </div>\n        ');return n.innerHTML=i,{$destroy:function(){},$update:function(e){var t=document.querySelector(".grant__content-image");t&&t.setAttribute("src",e)},$el:n}};var O="";C.prototype.lockScreen=function(){O||"hidden"===document.body.style.overflow||(O=document.body.style.overflow),document.body.style.overflow="hidden"},C.prototype.unlockScreen=function(){document.body.style.overflow=O||"auto"},C.prototype.report=function(e){var t={scene:"iSceneId",uia:"iUIArea",pid:"iPositionId",ext:"sExternInfo",aid:"iActionId",op:"iOpType",gid:"sGameId",ssid:"iSourceSceneId",astsuts:"sActionStatus"},n={scene:145,uia:14501,gid:this.appid},i=g.extend(n,e);for(var r in i)t[r]&&(i[t[r]]=i[r],delete i[r]);(0,p.default)([i])};var E=C;t.default=E},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(8));function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.init(e,t,n),r.default&&r.default.invoke("setGameTab",{isShowTab:0})}o.prototype.init=function(e,t,n){var i=this;this.insertStyle(),this.insertDom(),this.insertData(e),Array.isArray(t)&&0===t.length||this.insertButton(t),n&&this.insertBottom(n),this.retainDialog=!1,this.dialogDom=document.querySelector(".wg-basic-half-screen-dialog"),this.maskDom=document.querySelector(".wg-basic-half-screen-dialog__mask"),this.panelDom=document.querySelector(".wg-basic-half-screen-dialog__wraper"),this.bottomDom=document.querySelector(".wg-basic-half-screen-dialog__bottom"),setTimeout((function(){i.dialogDom.style.bottom=0,i.maskDom.style.opacity=1,i.panelDom.style.bottom=0}),50),this.bindEvent(t)},o.prototype.insertStyle=function(){if(!document.getElementById("wg-half-screen-common-dialog__style")){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id","wg-half-screen-common-dialog__style");e.innerHTML="\n.wg_accessibility_mode .wg-basic-half-screen-dialog__button {\n    line-height: normal;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.wg-basic-half-screen-dialog {\n\tposition: fixed;\n\tleft: 0;\n\tbottom: -100%;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 100001;\n}\n\n.wg-basic-half-screen-dialog__mask {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\topacity: 0;\n\tbackground-color: rgba(0, 0, 0, 0.6);\n\ttransition: opacity .1s linear\n}\n\n.wg-basic-half-screen-dialog__wraper {\n\tposition: absolute;\n\tleft: 0;\n\tbottom: -100%;\n\twidth: 100%;\n    min-height: 300px;\n    max-height: 75%;\n\tbackground: #ffffff;\n\tborder-top-left-radius: 12PX;\n\tborder-top-right-radius: 12PX;\n    transition: bottom .4s ease-in-out;\n    color: rgba(0,0,0,0.9);\n    display: flex;\n    flex-direction: column;\n}\n\n.wg-basic-half-screen-dialog__wraper::-webkit-scrollbar {\n    display: none;\n}\n\n.wg_dark_mode .wg-basic-half-screen-dialog__wraper {\n    background: #232323;\n    color: rgba(255,255,255,0.8);\n}\n\n.wg-basic-half-screen-dialog__content {\n    flex-grow: 1;\n    padding-top: 12px;\n    overflow-y: scroll;\n}\n\n.wg-basic-half-screen-dialog__content::-webkit-scrollbar {\n    display: none;\n}\n\n.wg-basic-half-screen-dialog__bottom {\n\twidth: 100%;\n\tdisplay: flex;\n    padding-top: 32px;\n    padding-bottom: 32px;\n\tjustify-content: center;\n    margin: 0 auto;\n}\n\n.wg-basic-half-screen-dialog__button {\n\twidth: 5.5rem;\n\theight: 2rem;\n    background: rgba(0, 0, 0, 0.05);\n\tcolor: #06ae56;\n\tborder-radius: 4px;\n\tfont-family: PingFangSC-Medium;\n\tfont-size: 17PX;\n\tvarter-spacing: 1px;\n    text-align: center;\n    line-height: 2rem;\n    margin-right: 16px;\n}\n\n.wg-basic-half-screen-dialog__button:last-child {\n    margin-right: 0;\n} \n\n.wg_dark_mode .wg-basic-half-screen-dialog__button {\n    background: rgba(255, 255, 255, 0.08);\n\tcolor: rgba(255, 255, 255, 0.8);\n}\n\n.wg-basic-half-screen-dialog__button-danger {\n\tbackground-color: #d9534f;\n\tcolor: #FFFFFF;\n}\n\n.wg_dark_mode .wg-basic-half-screen-dialog__button-danger {\n\tbackground-color: #d9534f;\n\tcolor: #FFFFFF;\n}\n\n.wg-basic-half-screen-dialog__button-single {\n    width: 9rem;\n}\n\n.wg-basic-half-screen-dialog__button-primary {\n\tbackground: #07C160;\n\tcolor: #FFFFFF;\n}\n.wg_dark_mode .wg-basic-half-screen-dialog__button-primary {\n\tbackground: #07C160;\n\tcolor: #FFFFFF;\n}\n@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) {\n  .wg-basic-half-screen-dialog__wraper {\n      padding-bottom: 34px;\n  }\n}\n@media only screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) {\n  .wg-basic-half-screen-dialog__wraper {\n      padding-bottom: 31px;\n  }\n}\n@media only screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) {\n  .wg-basic-half-screen-dialog__wraper {\n      padding-bottom: 31px;\n  }\n}\n",document.getElementsByTagName("head")[0].appendChild(e)}},o.prototype.insertDom=function(){if(!document.getElementById("wg-basic-half-screen-dialog-dom")){var e=document.createElement("div");e.setAttribute("id","wg-basic-half-screen-dialog-dom");var t=document.querySelector(".wg_dark_mode");e.classList.add("wg-basic-half-screen-dialog"),t&&e.classList.add("wg_dark_mode");e.innerHTML=['<div class="wg-basic-half-screen-dialog__mask"></div>','<div class="wg-basic-half-screen-dialog__wraper">','<div class="wg-basic-half-screen-dialog__content">',"</div>",'<div class="wg-basic-half-screen-dialog__bottom"></div>','<div class="wg-basic-half-screen-dialog__extra"></div>',"</div>"].join(""),document.body.appendChild(e)}},o.prototype.insertBottom=function(e){document.querySelector(".wg-basic-half-screen-dialog__extra").innerHTML+=e},o.prototype.insertData=function(e){var t=document.querySelector(".wg-basic-half-screen-dialog__content");if(t)if("string"==typeof e)t.innerHTML=e;else if(Array.isArray(e)&&e.length>0){var n="";e.forEach((function(e){n+=e.html})),t.innerHTML+=n,this.bindItemEvent(e)}},o.prototype.bindItemEvent=function(e){Array.isArray(e)&&e.length>0&&e.forEach((function(e){var t=e.eventType||"click";e.target&&e.callback&&document.querySelector(e.target).addEventListener(t,e.callback)}))},o.prototype.insertButton=function(e){var t=this,n=document.querySelector(".wg-basic-half-screen-dialog__bottom"),i=Array.isArray(e),r=[];if(i)for(var o="",a=0;a<e.length;a++){var s=e[a].label||"",l=e[a].type,d="default",c="wg-basic-half-screen-dialog__button-";l&&"default"!==l&&(d=l),c+=d,1===e.length&&(c+=" wg-basic-half-screen-dialog__button-single"),o='<div class="wg-basic-half-screen-dialog__button '+c+" wg-basic-half-screen-dialog__button_"+a+'">'+s+"</div>",r.push(o)}else r=['<div class="wg-basic-half-screen-dialog__button wg-basic-half-screen-dialog__button-left">取消</div>','<div class="wg-basic-half-screen-dialog__button wg-basic-half-screen-dialog__button-primary">确定</div>'];n.innerHTML=r.join(""),i?setTimeout((function(){for(var n=function(){var n=i;r=".wg-basic-half-screen-dialog__button_"+n,(o=document.querySelector(r))&&o.addEventListener("click",(function(){t.retainDialog||t.closeEvent(),e[n].callback()}))},i=0;i<e.length;i++){var r,o;n()}}),0):this.buttonDom&&this.bottomDom.addEventListener("click",(function(){t.closeEvent()}))},o.prototype.bindEvent=function(e){var t=this,n=Array.isArray(e);this.maskDom.addEventListener("click",(function(){if(t.retainDialog||t.closeEvent(),n){var i=e.find((function(e){return"取消"===e.label}));null!=i&&i.callback&&i.callback()}})),this.dialogDom.addEventListener("touchmove",(function(e){e.preventDefault()}))},o.prototype.closeEvent=function(){var e=this;e.panelDom.style.bottom="-100%",setTimeout((function(){e.maskDom.style.opacity=0,r.default&&r.default.invoke("setGameTab",{isShowTab:1})}),200),setTimeout((function(){e.dialogDom.style.bottom="-100%",e.dialogDom.parentNode&&e.dialogDom.parentNode.removeChild(e.dialogDom)}),350)},o.prototype.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.retainDialog=t;var n=document.querySelector(".wg-basic-half-screen-dialog__content");if(n)if(n.innerHTML="","string"==typeof e)n.innerHTML=e;else if(Array.isArray(e)&&e.length>0){var i="";e.forEach((function(e){i+=e.html})),n.innerHTML+=i,this.bindItemEvent(e)}};var a=o;t.default=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(2)),a=i(n(6));o.default.isCSR?r={}:function(e,t){var n=[],i=!1;window.logInfo&&window.logInfo.bind(window);function o(e,t){var n=parseInt(e||0),i=e+"";if(t.range){if(parseInt(t.range[0])>n&&parseInt(t.range[1])<n)return!1}else if(t.list){if(-1===t.list.indexOf(i))return!1}else if(t!==i)return!1;return!0}function s(e,t){for(var n in t)if("GameID"===t[n]&&!e.sGameId)return!1;return!0}r=function(e){try{return e.iSceneId=(e.iSceneId||0)+"",e.iUIArea=(e.iUIArea||0)+"",e.iPositionId=(e.iPositionId||0)+"",e.iActionId=(e.iActionId||0)+"",e.iOpType=(e.iOpType||0)+"",!i&&e.iActionId&&1===e.iActionId&&(setTimeout((function(){!function(){var e=window.RPT_DATA_TO_CHECK||[],t=[];for(var i in e)if(e[i][5]+""=="1"){var r=!1;for(var o in n)if(n[i][0]===e[i].iSceneId&&n[i][1]===e[i].iUIArea&&n[i][2]===e[i].iPositionId&&n[i][3]===e[i].iActionId&&n[i][4]===e[i].iOpType){r=!0;break}r||t.push(e[i])}if(t.length>0)return function(e){var t=[];for(var n in e)t.push({scene_id:parseInt(e[n][0]),ui_area:parseInt(e[n][1]),position_id:parseInt(e[n][2]),action_id_list:[parseInt(e[n][3])],op_type_list:[parseInt(e[n][4])],uniq:!0,is_need:!0});var i={method:"POST",leak:{scene_id:24,url:encodeURIComponent(location.href.split("#")[0].replace(/(&|\?)(uin|pass_ticket|key)=[^&]+/g,"")),item_list:t}};(0,a.default)("/cgi-bin/comm/reportlogerror",JSON.stringify(i),(function(e){}))}(t),!1}()}),5e3),i=!0),function(e){var t=window.RPT_DATA_TO_CHECK||[];if(0===t.length)return!0;for(var n=0,i=t.length;n<i;n++){if(parseInt(e.iActionId)>=1e3)return!0;if(t[n][0]===e.iUIArea+""){if(!o(e.iPositionId,t[n][1]))continue;if(-1===[2,22,23,40,44,45,47,54,55,58,59,71,74,75,76,77,78,79].indexOf(parseInt(e.iActionId))&&!o(e.iActionId,t[n][2]))continue;if(!s(e,t[n][6]))continue;return e.uniq="1"===t[n][4],e.isNeed="1"===t[n][5],!0}}return!1}(e)?function(e){for(var t=0,i=n.length;t<i;t++)if(e.uniq+""=="1"&&n[t][0]===e.iSceneId&&n[t][1]===e.iUIArea&&n[t][2]===e.iPositionId&&n[t][3]===e.iActionId&&n[t][4]===e.iOpType)return!0;return!1}(e)?(console.log("11332 checkRepeat fail: ",e),2):(function(e){var t=[e.iSceneId,e.iUIArea,e.iPositionId,e.iActionId,e.iOpType,e.uniq,e.isNeed];n.push(t)}(e),0):(console.log("11332 checkIllegal fail: ",e),1)}catch(e){return 99}}}(window,document);var s=r;t.default=s},function(e,t,n){"use strict";var i=n(1);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o}(n(3)).getQueryStr;var a={getMsdkLogin:function(){for(var e=["sig","timestamp","algorithm","version","encode","msdkEncodeParam","appid"],t={},n=0,i=e.length;n<i;n++){var r=o(e[n]);t[e[n]]=r||""}return t}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=o[0],s=o[1],l=o[2],d=o[3],c={id:e+":"+r,css:s,media:l,sourceMap:d};i[a]?i[a].parts.push(c):n.push(i[a]={id:a,parts:[c]})}return n}},function(e,t,n){var i=n(1).default,r=n(59);e.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.beforeInvoke=function(e,t,n){return m.apply(this,arguments)};var r,o=i(n(12)),a=i(n(19)),s=i(n(13)),l=n(3),d=n(3),c=n(61),u=i(n(22));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){var e=(0,s.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:if(null===(t=WXGAME)||void 0===t||!t.xhrCallCgi){e.next=4;break}return e.abrupt("return",new Promise((function(e,t){WXGAME.xhrCallCgi("https://game.weixin.qq.com/cgi-bin/gamecenterwap/getshareid",{},(function(t){var n;0===t.errcode&&null!==(n=t.data)&&void 0!==n&&n.share_id?(r={share_id:t.data.share_id,origin_share_id:(0,l.getQueryStr)("origin_share_id")||(0,l.getQueryStr)("share_id")||""},e(r)):e({share_id:"",origin_share_id:""})}),(function(){e({share_id:"",origin_share_id:""})}))})));case 4:return e.abrupt("return",{share_id:"",origin_share_id:""});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e,t){var n,i={},r=t?(0,u.default)(t):{};(r.ext||r.sExternInfo)&&(i=(0,l.extend)({},JSON.parse(decodeURIComponent(r.ext||r.sExternInfo)),i),delete r.ext,delete r.sExternInfo),e.share_id&&(i.share_id=e.share_id),e.origin_share_id&&(i.origin_share_id=e.origin_share_id),(r.uia||r.iUIArea)&&(i.uiarea=r.uia||r.iUIArea,delete r.uia,delete r.iUIArea),(r.pid||r.iPositionId)&&(i.positionid=r.pid||r.iPositionId,delete r.pid,delete r.iPositionId),delete r.scene,delete r.iSceneId,null===(n=WXGAME)||void 0===n||n.Report11332.report(p(p({},r),{},{iSceneId:34,iUIArea:3443,iPositionId:e.pid,iActionId:e.aid,sExternInfo:i}))};function m(){return(m=(0,s.default)(o.default.mark((function e(t,n,i){var r,a,s,u,f,m,h,w,v,A,b,y,k,x,S;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sendAppMessage"!==t&&"shareTimeline"!==t){e.next=10;break}return e.next=3,g();case 3:r=e.sent,_(p({pid:c.SharePositionID.PAGE,aid:"sendAppMessage"===t?c.ShareActionID.SENDAPPMESSAGE:c.ShareActionID.SENDTIMELINE},r),n.reportConfig),null!=n&&n.link&&!(0,l.getQueryStr)("from_id",n.link)&&(n.link=(0,l.appendQueryStr)(n.link,"from_id",c.FromIdMap[t])),r.share_id&&n.link&&!(0,l.getQueryStr)("share_id",n.link)&&(n.link=(0,l.appendQueryStr)(n.link,"share_id",r.share_id)),r.origin_share_id&&n.link&&!(0,l.getQueryStr)("origin_share_id",n.link)&&(n.link=(0,l.appendQueryStr)(n.link,"origin_share_id",r.origin_share_id)),e.next=37;break;case 10:if("shareCustomContent"!==t){e.next=15;break}null!=n&&null!==(a=n.friend)&&void 0!==a&&a.link&&!(0,l.getQueryStr)("from_id",n.friend.link)&&(n.friend.link=(0,l.appendQueryStr)(n.friend.link,"from_id",c.FromIdMap.sendAppMessage)),null!=n&&null!==(s=n.timeline)&&void 0!==s&&s.link&&!(0,l.getQueryStr)("from_id",n.timeline.link)&&(n.timeline.link=(0,l.appendQueryStr)(n.timeline.link,"from_id",c.FromIdMap.shareTimeline)),e.next=37;break;case 15:if("sendGameNameCard"!==t){e.next=26;break}return e.next=18,g();case 18:u=e.sent,_(p({pid:c.SharePositionID.PAGE,aid:c.ShareActionID.SENDAPPMESSAGE},u)),null!=n&&n.link&&!(0,l.getQueryStr)("from_id",n.link)&&(n.link=(0,l.appendQueryStr)(n.link,"from_id",c.FromIdMap[t])),null!=n&&n.card_link&&!(0,l.getQueryStr)("from_id",n.card_link)&&(n.card_link=(0,l.appendQueryStr)(n.card_link,"from_id",c.FromIdMap[t])),u.share_id&&(null!=n&&n.link&&!(0,l.getQueryStr)("share_id",n.link)&&(n.link=(0,l.appendQueryStr)(n.link,"share_id",u.share_id)),null!=n&&n.card_link&&!(0,l.getQueryStr)("share_id",n.card_link)&&(n.card_link=(0,l.appendQueryStr)(n.card_link,"share_id",u.share_id))),u.origin_share_id&&n.link&&(null!=n&&n.link&&!(0,l.getQueryStr)("origin_share_id",n.link)&&(n.link=(0,l.appendQueryStr)(n.link,"origin_share_id",u.origin_share_id)),null!=n&&n.card_link&&!(0,l.getQueryStr)("origin_share_id",n.card_link)&&(n.card_link=(0,l.appendQueryStr)(n.card_link,"origin_share_id",u.origin_share_id))),e.next=37;break;case 26:if("setNavigationBarColor"!==t){e.next=31;break}null!==(f=WXGAME.GlobalConfig.ui)&&void 0!==f&&null!==(m=f.isFilterGray)&&void 0!==m&&m.call(f)&&n&&n.color&&(n.color=(0,d.hexColor2GrayColor)(n.color)),null===(h=WXGAME)||void 0===h||null===(w=h.setCustomNavigation)||void 0===w||w.setColor(n),e.next=37;break;case 31:if("getGameData"!==t){e.next=36;break}if(null===(v=window)||void 0===v||null===(A=v.WXGAME)||void 0===A||null===(b=A.GlobalConfig.cache)||void 0===b||!b.needRemoveCache(n.key)){e.next=34;break}return e.abrupt("return",{mock:!0,response:{value:"",err_msg:"getData:ok"}});case 34:e.next=37;break;case 36:"setGameData"===t&&null!=(S=null===(y=window)||void 0===y||null===(k=y.WXGAME)||void 0===k||null===(x=k.GlobalConfig.cache)||void 0===x?void 0:x.getExpireCacheConfig(n.key))&&S.expire_time&&(n.expireTime=String(S.expire_time));case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getGameData=t.default=void 0;var r=i(n(5));r.default.getGameData=r.default.getGameData||function(e,t){r.default.invoke("getGameData",e,t)};var o=r.default;t.default=o;var a=r.default.getGameData;t.getGameData=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.setGameData=t.default=void 0;var r=i(n(5));r.default.setGameData=r.default.setGameData||function(e,t){e.expireTime&&(e.expireTime+=""),r.default.invoke("setGameData",e,t)};var o=r.default;t.default=o;var a=r.default.setGameData;t.setGameData=a},function(e,t,n){"use strict";var i,r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(n(2)).default.isCSR?i={}:(window,document,i=function(e){try{if(!window._expRptList_||0===window._expRptList_.length)return{exp_id:0,reason_id:0};for(var t,n=window._expRptList_,i=0,r=n.length;i<r;i++)if(!((t=n[i]).scene_id&&t.scene_id+""&&t.scene_id+""!=e.iSceneId+""||t.game_id&&t.game_id+""&&t.game_id+""!=e.sGameId+""||t.ui_area&&t.ui_area+""&&t.ui_area+""!=e.iUIArea+""||t.position_id&&t.position_id+""&&t.position_id+""!=e.iPositionId+""))return{exp_id:t.exp_id||0,reason_id:t.reason_id||0};return{exp_id:0,reason_id:0}}catch(e){return{exp_id:0,reason_id:0}}});var o=i;t.default=o},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(8)),o=i(n(18)),a=i(n(14)),s=i(n(2)),l=i(n(11));function d(){return Date.now()}function c(){this.collectJsbridgeReadyTime(),this.collectGetUinKeyTime(),this.collectVerifyTime()}n(100),window.Collector={35:0,36:0,37:0,46:"",47:0,38:0,39:0,40:0,41:0,43:0,44:0},c.prototype.collectJsbridgeReadyTime=function(){var e=this,t=d();r.default.callAfterReady((function(){var n=d();e.reportSingle(35,n-t)}))},c.prototype.collectGetUinKeyTime=function(){var e=this,t=d();r.default.getUinKey((function(n){var i=d();e.reportSingle(37,i-t)}))},c.prototype.collectVerifyTime=function(){var e=this,t=d();r.default.verifyJsapi(r.default.apis,(function(){var n=d();e.reportSingle(36,n-t)}))},c.prototype.report=function(){s.default.canIReport()&&(s.default.isMiniprogram()||r.default.reportGameWeb({type:"1",isReportNow:"1",data:window.Collector},(function(e){var t=!1;s.default.isiOS?t="0"!=e.result:s.default.isAndroid&&(t=-1==e.err_msg.indexOf(":ok")),t&&a.default.logError("doReport","jsapi reportGameWeb call fail",e)})))},c.prototype.reportSingle=function(e,t){t>0&&t<3e4&&(window.Collector[e]=t,this.report())},c.prototype.reportWhiteScreen=function(){var e=this,t=window.Collector[47]||d(),n=function(){e.reportQueue=new o.default,e.reportQueue.setSync(),e.reportQueue.run((function(){var t,n,i=this;t=function(t){e.reportQueue.collected=t,i.done()},(n=new o.default).setSync(),n.run((function(){var e=this;setTimeout((function(){if(window.performance||window.msPerformance||window.webkitPerformance){try{window.Collector[46]=JSON.stringify({trueUrl:encodeURIComponent(window.location.href.replace(location.search,"").replace(location.hash,""))}),window.Collector[38]=timing.domainLookupEnd-timing.domainLookupStart,window.Collector[39]=timing.connectEnd-timing.connectStart,window.Collector[40]=timing.responseEnd-timing.requestStart,window.Collector[41]=timing.domInteractive-timing.domLoading,window.Collector[43]=timing.domContentLoadedEventEnd-timing.responseEnd,window.Collector[44]=timing.domComplete-timing.responseEnd}catch(e){}e.done(!0)}else e.done(!1)}),1)})),n.run((function(e){e||a.default.logError("collectMoreData","did not get full quality data"),t(e)}))})),e.reportQueue.run((function(){var n=l.default.StartRunner("reportWhiteScreen",{},null);try{e.reportQueue.collected?(window.Collector[47]=t,e.report()):n.EndLogic({err_msg:"other data is not full"})}catch(e){n.EndLogic({err_msg:"try catch error"})}}))};"complete"===document.readyState?n():window.addEventListener("load",(function(){n()}),!1)};var u=new c;t.default=u},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(7)),s=i(n(2));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}s.default.isCSR?o={showLoading:function(){},hideLoading:function(){},showTips:function(){}}:(window,document,o={showLoading:function(e,t){var n=this;if(0!=function(e){if(!document.getElementById("uiutil_custom_style")){var t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id","uiutil_custom_style"),t.innerHTML=".wgui-message{position:fixed;top:45%;left:50%;z-index:100003;box-sizing:border-box;padding:10px;min-height:136px;height:136px;width:136px;background-color:#404040;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-radius:12px;background-clip:padding-box}.wgui-message.wgui-message__border-radius{border-radius:var(--wg_border_radius_toast);}.wgui-message_loading .wgui-message__icon{width:40px;height:40px;margin-bottom:12px;background-image:url(https://res.wx.qq.com/wechatgame/product/webpack/userupload/20210708/201442/done.png);background-size:40px;-webkit-animation:loading 1s steps(24,end) infinite}.wgui-message_success .wgui-message__icon{background-size:40px;width:40px;height:40px;margin-bottom:12px;}.wgui-message_fail .wgui-message__icon{background-size:40px;width:40px;height:40px;margin-bottom:12px;}.wgui-message_open{overflow:hidden;min-height:80px;width:190px;height:80px}.wgui-message_open .wgui-message__content{min-height:60px}.wgui-message_open .wgui-message__text{font-size:17px;margin-top:-10px;}.wgui-message__content{display:-webkit-box;min-height:116px;width:100%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.wgui-message__inner{text-align:center}.wgui-message__icon{display:inline-block;width:40px;height:40px}.wgui-message__text{color:#fff;font-size:17px;line-height:24px;word-break:break-all;word-wrap:break-word;color:rgba(255,255,255,0.9);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:116px;font-family:PingFangSC-Regular;}.wgui-message__line-wrap{position:absolute;bottom:20px;left:0;width:100%;height:1px;background-color:hsla(0,0%,100%,.1)}.wgui-message__line{position:absolute;top:-2px;left:-66px;width:67.5px;height:5px;background-image:url(https://wximg.qq.com/tmt/game/dist/img/modules/wui-message/message-line.png);background-size:67.5px 5px;-webkit-animation:move 1.5s linear infinite;animation:move 1.5s linear infinite}@keyframes loading{0%{-webkit-transform:rotate3d(0,0,1,0deg);transform:rotate3d(0,0,1,0deg)}to{-webkit-transform:rotate3d(0,0,1,1turn);transform:rotate3d(0,0,1,1turn)}}@-webkit-keyframes move{0%{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(250px);transform:translateX(250px)}}@keyframes move{0%{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(250px);transform:translateX(250px)}}.wgui-loadmore{display:-webkit-box;width:100%;height:56px;background-color:#f2f2f2;color:#b2b2b2;font-size:14px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.wgui-loadmore__inner{padding:0 10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important;max-width:100%}.wgui-loadmore__icon-loading{display:inline-block;margin-top:-2px;margin-right:5px;width:16px;height:16px;background-image:url(https://wximg.qq.com/tmt/game/dist/img/modules/wui-loadmore/loadmore-icon-loading@2x.png);background-size:16px;vertical-align:middle;-webkit-animation:loading 1s steps(60,end) infinite;animation:loading 1s steps(60,end) infinite}@-webkit-keyframes loading{0%{-webkit-transform:rotate3d(0,0,1,0deg)}to{-webkit-transform:rotate3d(0,0,1,1turn)}}@keyframes loading{0%{-webkit-transform:rotate3d(0,0,1,0deg)}to{-webkit-transform:rotate3d(0,0,1,1turn)}}.wg_dark_mode .wgui-message__text{color:rgba(255,255,255,0.8);}.icon_size{background-size:40px !important;background-repeat:no-repeat;background-position:center !important}.wgui-message_success .wgui-message__icon{background-size:40px !important;opacity:.9;background-image:url(https://res.wx.qq.com/wechatgame/product/webpack/userupload/20210708/202904/done.png) !important;}.wgui-message_fail .wgui-message__icon{background-size:40px !important;opacity:.9;background-image:url(https://res.wx.qq.com/wechatgame/product/webpack/userupload/20210708/203132/warning.png) !important;}.wgui-message_info .wgui-message__icon{background-image:url(https://res.wx.qq.com/wechatgame/product/cdn/moment/deb44b05.svg) !important;}",document.getElementsByTagName("head")[0].appendChild(t)}var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=".wgui-message_none{overflow:hidden;min-height:48px;max-width:246px;height:auto;}.wgui-message_none .wgui-message__text{font-size:14px;max-width:205px;white-space:normal;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;}.wgui-message_none{width: auto; padding: 12px;}.wgui-message_none .wgui-message__content{min-height: 24px;box-sizing:content-box;}",document.getElementsByTagName("head")[0].appendChild(n),location.protocol;for(var i=document.getElementsByTagName("link"),r=!1,o=0,a=i.length;o<a;o++){var s=i[o].getAttribute("href");if(-1!=s.indexOf("wgui")||-1!=s.indexOf("wui")){r=!0;break}}return!1===r&&(r=!0),r}()){(t=t||{timeout:0,txt:"请稍候",needIcon:!0,type:"loading",times:1,seconds:1,moreTip:""}).txt=e||t.txt,t.needIconStyle=void 0===t.needIcon||1==t.needIcon?"":"none",t.type=t.type||"loading",t.showBar=t.showBar||!1,t.moreTip=t.moreTip||"",t.times=t.times||1,t.seconds=(t.timeout||1e3)/1e3,t.progressBarClass="open"==t.type?"":"none","open"==t.type&&(t.needIconStyle="none"),"none"==t.type&&(t.needIconStyle="none"),""==t.moreTip?t.moreTipClass="wgui-d-n":t.moreTipClass="";var i=['<div class="wgui-message wgui-message_{type} wgui-message__border-radius">','    <div class="wgui-message__content">','        <div class="wgui-message__inner">','            <div class="icon_size wgui-message__icon " style="display:{needIconStyle}"></div>',t.txt?'            <div class="wgui-message__text">{txt}</div>':"",'            <div class="{moreTipClass}" style="font-size: 10px;color: #fff;line-height: 15px; margin: 3px 0;transform: scale(0.9)">{moreTip}</div>',"        </div>","    </div>",'    <div class="wgui-message__line-wrap" style="display:{progressBarClass}">','        <div class="wgui-message__line" style="-webkit-animation: move {seconds}s linear {times};animation: move {seconds}s linear {times};"></div>',"    </div>","</div>"],r="spinner_"+parseInt((new Date).getTime()/864e5);n.spinnerDiv=document.getElementById(r),n.spinnerDiv||(n.spinnerDiv=document.createElement("div"),n.spinnerDiv.id=r,s.default.isDarkMode&&n.spinnerDiv.classList.add("wg_dark_mode"),document.body.appendChild(n.spinnerDiv)),n.spinnerDiv.style.display="block",a.insertHTMLFilterXss(i.join("").replace(/\{(\w+)\}/g,(function(e,n){return void 0!==t[n]?t[n].toString():e})),n.spinnerDiv,!0),t.timeout&&parseInt(t.timeout)>0&&setTimeout((function(){n.hideLoading(),t.hideCb&&t.hideCb.call(window)}),t.timeout),document.body.offsetHeight}},hideLoading:function(){this.spinnerDiv&&(this.spinnerDiv.style.display="none")},showTips:function(e,t){var n=t||{timeout:1e3};this.showLoading(e,n)}});var d=o;t.default=d},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(2)),a=i(n(4)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(27)),l=i(n(15)),d=i(n(47)),c=i(n(24));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var f,p=s.extend(d.default,c.default);o.default.isCSR?f={alert:function(){},closeAlert:function(){},showLoading:function(){},hideLoading:function(){},showTips:function(){}}:function(e){var t=function(){if(top!=window&&l.default.isiOS)return!0;return!1}(),n=!1,i="",r=0;function o(e){i+=e;try{r=a.default.window.document.body.scrollTop||document.body.scrollTop,n=!0}catch(e){}var t=a.default.window.document.documentElement.clientHeight;document.body.firstElementChild.style.height=t+"px",document.body.firstElementChild.style.overflow="hidden"}function d(e){t&&""===(i="loading"===e?i.replace(/loading/g,""):i.replace(e,""))&&(document.body.firstElementChild.style.height="",r>0&&!0===n&&a.default.window.scrollTo(0,r),document.body.firstElementChild.style.overflow="",n=!1)}e.alert=function(e,n){n=n||{};var i=s.extend(n,{});t&&(o("alert"),i.confirmCb=function(){d("alert"),n.confirmCb&&n.confirmCb()},i.closeCb=function(){d("alert"),n.closeCb&&n.closeCb()}),p.alert(e,i)},e.closeAlert=function(){d("alert"),p.closeAlert()},e.showLoading=function(e,n){n=n||{};var i=s.extend(n,{});t&&(o("loading"),i.hideCb=function(){d("loading"),n.hideCb()}),p.showLoading(e,i)},e.hideLoading=function(){t&&d("loading"),p.hideLoading()},e.showTips=function(e,n){n=n||{};var i=s.extend(n,{});t&&(o("loading"),i.hideCb=function(){d("loading"),n.hideCb&&n.hideCb()}),p.showLoading(e,i)},f=e}({});var g=f;t.default=g},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(2)),a=i(n(50)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(7));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n(121);var d,c,u=s.format;o.default.isCSR?d={show:function(){},bindEvent:function(){}}:(window,c=document,d={show:function(e){if(!e||!e.actionList)throw"params.actionList is empty";var t=!e.noFilterXSS;e.actionCfgList=e.actionCfgList||[];for(var n,i="",r=0,a=e.actionList.length;r<a;r++){var s=e.actionCfgList[r]||{},l={};s.isTitle&&(l["weui-actionsheet__title"]=!0),s.isDanger&&(l["weui-actionsheet__danger"]=!0),i+=u('<div class="weui-actionsheet__cell js_action_sheet_item {classStyle}" data-index="{index}">{actionText}</div>',{classStyle:Object.keys(l).join(" "),index:r,actionText:e.actionList[r]},t)}n=function(e){var t="as_"+parseInt(1e6*Math.random()),n=document.createElement("div");return n.id=t,n.innerHTML=e,n.addEventListener("touchmove",(function(e){e.stopPropagation(),e.preventDefault()})),c.body.appendChild(n),setTimeout((function(){var e=document.getElementsByClassName("weui-actionsheet");if(e.length>0&&(e=e[e.length-1]).classList.add("weui-actionsheet_toggle"),o.default.isIosLiuhai){var t=document.getElementById("weui-actionsheet__action_btn");t&&t.classList.add("iosx")}}),50),n}(u('\n            <div class="weui-mask js_action_sheet_cancel" style="opacity: 1;"></div>\n            <div class="weui-actionsheet wg-actionsheet__border-radius">\n                <div class="weui-actionsheet__menu">\n                    {list_html}\n                </div>\n                <div class="weui-actionsheet__action js_action_sheet_cancel" id="weui-actionsheet__action_btn">\n                    <div class="weui-actionsheet__cell">{cancelText}</div>\n                </div>\n            </div>\n        ',{list_html:i,cancelText:e.cancelText||"取消"},!1)),this.bindEvent(n,e.clickCbk,e.cancelCbk,e.autoSetGameTab),!1!==e.autoSetGameTab&&WXGAME&&WXGAME.WxBridge.invoke("setGameTab",{isShowTab:0})},bindEvent:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e){if(t)for(var r=0,o=(s=e.getElementsByClassName("js_action_sheet_item")).length;r<o;r++)s[r].classList.contains("weui-actionsheet__title")||a.default.click(s[r],(function(n,r){for(var o=0;r&&-1===r.className.indexOf("js_action_sheet_item")&&o<5;)r=r.parentNode,o++;var a=parseInt(r.getAttribute("data-index"));e.parentNode.removeChild(e),t(a),i&&WXGAME&&WXGAME.WxBridge.invoke("setGameTab",{isShowTab:1})}));var s;for(r=0,o=(s=e.getElementsByClassName("js_action_sheet_cancel")).length;r<o;r++)a.default.click(s[r],(function(t,r){n(),e.parentNode.removeChild(e),i&&WXGAME&&WXGAME.WxBridge.invoke("setGameTab",{isShowTab:1})}))}}});var f=d;t.default=f},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.tap=t.on=t.default=t.click=t.addEvent=void 0;var o,a,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(27)),l=i(n(2)),d=i(n(4));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function f(e){try{if(d.default.window.hackIFrameEvent&&!0===d.default.window.hackIFrameEvent&&d.default.window!=window&&/(iPhone|iPad|iPod|iOS)/i.test(d.default.window.navigator.userAgent)&&e.changedTouches[0].clientY-d.default.document.body.scrollTop>d.default.window.innerHeight-d.default.window.document.getElementById("tab_box").clientHeight)return d.default.window.dealIosIFrameClickBug&&d.default.window.dealIosIFrameClickBug(e),!0}catch(e){}return!1}function p(){clearTimeout(o),o=null}function g(e,t){var n=this,i=0,r=0,l=0,d=0,c=0,u=0;if(e){var g=t instanceof Function&&t;!(t.useTouch&&!0===t.useTouch)&&a||!s.clientInfo.isIOS&&!s.clientInfo.isAndroid?A(e,"click",(function(e){var i=e.target||e.srcElement;!0!==f(e)&&(t.isCurrentlyCbk?(_(e),g?g.call(n,e,i):t&&t.touchend&&t.touchend.call(n,e,i)):setTimeout((function(){_(e),g?g.call(n,e,i):t&&t.touchend&&t.touchend.call(n,e,i)}),0))})):(A(e,"touchstart",(function(e){var o=e.target||e.srcElement;i=0,r=0,l=e.touches[0].pageY,c=e.touches[0].pageX,t&&t.touchstart&&t.touchstart.call(n,e,o)})),A(e,"touchmove",(function(e){var o=e.target||e.srcElement;d=e.touches[0].pageY,u=e.touches[0].pageX,i+=Math.abs(d-l),r+=Math.abs(u-c),l=d,c=u,t&&t.touchmove&&t.touchmove.call(n,e,o)})),A(e,"touchend",(function(e){if(0==Math.abs(i)&&0==Math.abs(r)){var s=e.target||e.srcElement;p(),o=setTimeout((function(){_(e),!0!==f(e)&&(g?g.call(n,e,s):t.touchend&&t.touchend.call(n,e,s))}),a?0:10)}e.stopPropagation()})))}function _(e){e.preventDefault(),e.stopPropagation()}}l.default.isCSR?a=!1:(a="yes"===window.__wxjs_is_wkwebview||window.__wxjs_is_wkwebview||"yes"===d.default.window.__wxjs_is_wkwebview||d.default.window.__wxjs_is_wkwebview,window.addEventListener("scroll",p));var _={on:u,tap:g,click:g,addEvent:u},m=_;t.default=m;var h=_.on,w=_.tap,v=_.click,A=_.addEvent;t.addEvent=A,t.click=v,t.tap=w,t.on=h},function(e,t,n){!function(){n(52),n(54),n(56);var e={version:"1.1.0",desc:"浏览器特性检测"};e.GlobalConfig=n(57).default;var t=n(4).default;window.WXGAME=e,n(91),n(93),e.Mbase=n(3).default,e.UrlConfig={GameWidgetEnable:e.Mbase.getQueryStr("gamewidgetenable"),ScrollReport:e.Mbase.getQueryStr("scrollreport"),DisableExperimentAutoPrefetch:e.Mbase.getQueryStr("disableexperimentautoprefetch"),DisableCheckUserSecStatus:e.Mbase.getQueryStr("disablecheckusersecstatus")};var i=t.window.location.href,r="";i.replace(/cgi\-bin\/(.*)\//,(function(e,t){r=t}));for(var o=[],a=!1,s=0;s<o.length;s++)if(-1!=r.indexOf(o[s])){a=!0;break}a&&(e.UrlConfig.GameWidgetEnable=!1,e.UrlConfig.ScrollReport=!1);["event/static/shake-festival","gamestore/static/gamestore","gamestore/static/eevee-gamestore"].find((function(t){r.indexOf(t)>-1&&(e.UrlConfig.DisableExperimentAutoPrefetch=!0)}));["event/static/shake-festival","gamestore/static/gamestore","gamestore/static/eevee-gamestore"].find((function(t){r.indexOf(t)>-1&&(e.UrlConfig.DisableCheckUserSecStatus=!0)})),e.Env=n(2).default,e.performanceReport=n(46).default,n(101).fastAndroidJsapi(e),n(102).addOpenRateB(),e.WxBridge=n(8).default,e.baseQualityReport=n(11).default,e.monitorReport=n(103).MonitorReport,e.baseQualityReport.StartRunner("commlib.context",{}).EndLogic({err_msg:{version:e.version}}),e.WxBridge.getUinKey((function(e){})),e.WxBridge.verifyJsapi(e.WxBridge.apis,(function(){})),e.AppBtn=n(104).default,e.Badjs=n(123).default;var l=n(14).default;for(var d in l)window[d]=l[d];e.xhrCallCgi=n(6).default,e.Report11332={report:n(124).default.report,reportBatch:n(17).default},e.Report10861={report:n(125).default.report},e.Report17117={report:n(126).default.report},e.String=n(7).default,e.UniReport=n(127).default,e.Share=n(128).default,e.GameWidget=function(){},e.LocalStorage=n(16).default,e.Event=n(50).default,e.MDom=n(4).default,e.getById=e.MDom.S,e.getByCName=e.MDom.SCN,e.getByTName=e.MDom.STN,n(28),e.openUrl=e.WxBridge.openUrl,e.WxGameJsCoreBridge=n(35).default,0===e.UrlConfig.ScrollReport.length||e.UrlConfig.ScrollReport+""!="false"?e.scrollReport=n(129):(console.log("you ban it by url scrollReport"),e.scrollReport={}),e.screenSaver=n(130).default,e.WxBridge.initMpInfo();var c=n(36).default;e.grant={show:function(e){new c(e)}};var u=n(131).default;e.Experiment=u(),e.Media=n(132).default,e.Location=n(133).default;var f=n(134);e.setCustomNavigation=f,(0,n(135).default)(),(0,n(136).default)(),n(137)}()},function(e,t,n){var i=n(53);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(30).default)("23994693",i,!0,{})},function(e,t,n){(e.exports=n(29)(!1)).push([e.i,"/*\n全局样式控制。\n一定要写好注释，css以后想删不好删，别让文件越来越大。临时的就写清楚是临时的。\n*/\n",""])},function(e,t,n){var i=n(55);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(30).default)("2d17b0da",i,!0,{})},function(e,t,n){(e.exports=n(29)(!1)).push([e.i,"body {\n  --wg_background_color_7: #2e2e2e;\n  --wg_background_color_6: #ffffff;\n  --wg_background_color_5: #FFFFFF;\n  --wg_background_color_4: #4C4C4C;\n  --wg_background_color_3: #F7F7F7;\n  --wg_background_color_2: #FFFFFF;\n  --wg_background_color_1: #F7F7F7;\n  --wg_background_color_0: #EDEDED;\n  --wg_foreground_color_0: rgba(0, 0, 0, 0.9);\n  --wg_foreground_color_0_5: rgba(0, 0, 0, 0.9);\n  --wg_foreground_color_1: rgba(0, 0, 0, 0.55);\n  --wg_foreground_color_2: rgba(0, 0, 0, 0.3);\n  --wg_foreground_color_3: rgba(0, 0, 0, 0.1);\n  --wg_foreground_color_4: rgba(0, 0, 0, 0.15);\n  --wg_foreground_color_5: rgba(0, 0, 0, 0.05);\n  --wg_text_1: #161616;\n  --wg_text_2: #9e9e9e;\n  --wg_weak_btn_text: rgba(0, 0, 0, 0.7);\n  --wg_text_green: #00A6A6;\n  --wg_new_text_green: #00A6A6;\n  --wg_link: #576b95;\n  --wg_new_link: #576b95;\n  --wg_text_golden: #CC9C00;\n  --wg_red: #FA5151;\n  --wg_red_rgb: 250, 81, 81;\n  --wg_live_red: #FF6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #F06B1F;\n  --wg_orange_rgb: 240, 107, 31;\n  --wg_clear_orange: #FA9D3B;\n  --wg_clear_orange_rgb: 250, 157, 59;\n  --wg_yellow: #FFC300;\n  --wg_yellow_rgb: 255, 195, 0;\n  --wg_blue: #10AEEF;\n  --wg_blue_rgb: 16, 174, 239;\n  --wg_indigo: #1485EE;\n  --wg_indigo_rgb: 20, 133, 238;\n  --wg_purple: #6467F0;\n  --wg_purple_rgb: 100, 103, 240;\n  --wg_gold: #E6AF00;\n  --wg_gold_rgb: 230, 175, 0;\n  --wg_silver: #98A7BB;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #AF8B77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #00BFBF;\n  --wg_brand_rgb: 0, 191, 191;\n  --wg_new_brand: #00BFBF;\n  --wg_new_brand_rgb: 0, 191, 191;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #8CE97F;\n  --wg_light_orange: #ffaf00;\n  --wg_black: #000000;\n  --wg_white: #ffffff;\n  --wg_button_background_color: rgba(0, 0, 0, 0.05);\n  --wg_tag_background_color: rgba(0, 0, 0, 0.03);\n  --wg_button_background_color_white: #ffffff;\n  --wg_button_text: #06ae56;\n  --wg_button_text_disabled: rgba(0, 0, 0, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_font_size_h1: 20px;\n  --wg_font_size_h2: 15px;\n  --wg_font_size_h3: 14px;\n  --wg_font_size_b1: 13px;\n  --wg_font_size_b2: 13px;\n  --wg_font_size_b3: 10px;\n  --wg_font_family_default: PingFang SC, Helvetica Neue, Helvetica, Arial, Microsoft Yahei, sans-serif;\n  --wg_border_radius_button: 999px;\n  --wg_border_radius_0_5_a: 4px;\n  --wg_border_radius_1_a: 8px;\n  --wg_border_radius_1_5_a: 12px;\n  --wg_border_radius_2_a: 16px;\n  --wg_border_radius_3_a: 24px;\n  --wg_border_radius_tips_bar: 8px;\n  --wg_border_radius_toast: 12px;\n  --wg_border_radius_message: 20px;\n  --wg_border_radius_notification: 8px;\n  --wg_border_radius_modal: 8px;\n  --wg_border_radius_action_sheet: 12px;\n  --wg_border_radius_half_screen: 12px;\n  --wg_border_radius_avatar: 50%;\n  --wg_border_radius_game: 25%;\n  --wg_border_radius_minigame: 50%;\n  --wg_border_radius_gift: 12.5%;\n  --wg_light_mode_background_color_7: #2e2e2e;\n  --wg_light_mode_background_color_6: #ffffff;\n  --wg_light_mode_background_color_5: #FFFFFF;\n  --wg_light_mode_background_color_4: #4C4C4C;\n  --wg_light_mode_background_color_3: #F7F7F7;\n  --wg_light_mode_background_color_2: #FFFFFF;\n  --wg_light_mode_background_color_1: #F7F7F7;\n  --wg_light_mode_background_color_0: #EDEDED;\n  --wg_light_mode_foreground_color_0: rgba(0, 0, 0, 0.9);\n  --wg_light_mode_foreground_color_0_5: rgba(0, 0, 0, 0.9);\n  --wg_light_mode_foreground_color_1: rgba(0, 0, 0, 0.55);\n  --wg_light_mode_foreground_color_2: rgba(0, 0, 0, 0.3);\n  --wg_light_mode_foreground_color_3: rgba(0, 0, 0, 0.1);\n  --wg_light_mode_foreground_color_4: rgba(0, 0, 0, 0.15);\n  --wg_light_mode_foreground_color_5: rgba(0, 0, 0, 0.05);\n  --wg_light_mode_text_1: #161616;\n  --wg_light_mode_text_2: #9e9e9e;\n  --wg_light_weak_btn_text: rgba(0, 0, 0, 0.7);\n  --wg_light_mode_text_green: #06AE56;\n  --wg_light_mode_new_text_green: #00A6A6;\n  --wg_light_mode_link: #576b95;\n  --wg_light_mode_new_link: #576b95;\n  --wg_light_mode_text_golden: #CC9C00;\n  --wg_light_mode_red: #FA5151;\n  --wg_light_mode_live_red: #FF6146;\n  --wg_light_mode_orange: #F06B1F;\n  --wg_light_mode_clear_orange: #FA9D3B;\n  --wg_light_mode_yellow: #FFC300;\n  --wg_light_mode_blue: #10AEEF;\n  --wg_light_mode_indigo: #1485EE;\n  --wg_light_mode_purple: #6467F0;\n  --wg_light_mode_gold: #E6AF00;\n  --wg_light_mode_silver: #98A7BB;\n  --wg_light_mode_bronze: #AF8B77;\n  --wg_light_mode_brand: #07C160;\n  --wg_light_mode_new_brand: #00BFBF;\n  --wg_light_mode_brand_active: #04793c;\n  --wg_light_mode_light_green: #161a16;\n  --wg_light_mode_light_orange: #ffaf00;\n  --wg_light_mode_black: #000000;\n  --wg_light_mode_white: #ffffff;\n  --wg_light_mode_button_background_color: rgba(0, 0, 0, 0.05);\n  --wg_light_mode_tag_background_color: rgba(0, 0, 0, 0.03);\n  --wg_light_mode_button_background_color_white: #ffffff;\n  --wg_light_mode_button_text: #06ae56;\n  --wg_light_mode_button_text_disabled: rgba(0, 0, 0, 0.2);\n  --wg_light_mode_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_dark_mode_background_color_7: #2c2c2c;\n  --wg_dark_mode_background_color_6: #202020;\n  --wg_dark_mode_background_color_5: #2C2C2C;\n  --wg_dark_mode_background_color_4: #404040;\n  --wg_dark_mode_background_color_3: #202020;\n  --wg_dark_mode_background_color_2: #191919;\n  --wg_dark_mode_background_color_1: #1E1E1E;\n  --wg_dark_mode_background_color_0: #111111;\n  --wg_dark_mode_foreground_color_0: rgba(255, 255, 255, 0.8);\n  --wg_dark_mode_foreground_color_0_5: rgba(255, 255, 255, 0.6);\n  --wg_dark_mode_foreground_color_1: rgba(255, 255, 255, 0.5);\n  --wg_dark_mode_foreground_color_2: rgba(255, 255, 255, 0.3);\n  --wg_dark_mode_foreground_color_3: rgba(255, 255, 255, 0.1);\n  --wg_dark_mode_foreground_color_4: rgba(255, 255, 255, 0.05);\n  --wg_dark_mode_foreground_color_5: rgba(255, 255, 255, 0.08);\n  --wg_dark_mode_text_1: #f7f7f7;\n  --wg_dark_mode_text_2: #9f9f9f;\n  --wg_dark_weak_btn_text: rgba(255, 255, 255, 0.8);\n  --wg_dark_mode_text_green: #259C5C;\n  --wg_dark_mode_new_text_green: #6DD9D9;\n  --wg_dark_mode_link: #7d90a9;\n  --wg_dark_mode_new_link: #7d90a9;\n  --wg_dark_mode_text_golden: #CC9C00;\n  --wg_dark_mode_red: #FA5151;\n  --wg_dark_mode_live_red: #FF6146;\n  --wg_dark_mode_orange: #F06B1F;\n  --wg_dark_mode_clear_orange: #C87D2F;\n  --wg_dark_mode_yellow: #CC9C00;\n  --wg_dark_mode_blue: #10AEEF;\n  --wg_dark_mode_indigo: #1196FF;\n  --wg_dark_mode_purple: #8183FF;\n  --wg_dark_mode_gold: #CC9C00;\n  --wg_dark_mode_silver: #98A7BB;\n  --wg_dark_mode_bronze: #AF8B77;\n  --wg_dark_mode_brand: #07C160;\n  --wg_dark_mode_new_brand: #6DD9D9;\n  --wg_dark_mode_brand_active: #04793c;\n  --wg_dark_mode_light_green: #07c160;\n  --wg_dark_mode_light_orange: #ffaf00;\n  --wg_dark_mode_black: #000000;\n  --wg_dark_mode_white: #ffffff;\n  --wg_dark_mode_button_background_color: rgba(255, 255, 255, 0.08);\n  --wg_dark_mode_tag_background_color: rgba(255, 255, 255, 0.03);\n  --wg_dark_mode_button_background_color_white: rgba(255, 255, 255, 0.08);\n  --wg_dark_mode_button_text: rgba(255, 255, 255, 0.8);\n  --wg_dark_mode_button_text_disabled: rgba(255, 255, 255, 0.2);\n  --wg_dark_mode_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  font-family: var(--wg_font_family_default);\n}\nbody .wg_force_light_mode {\n  --wg_background_color_7: #2e2e2e;\n  --wg_background_color_6: #ffffff;\n  --wg_background_color_5: #FFFFFF;\n  --wg_background_color_4: #4C4C4C;\n  --wg_background_color_3: #F7F7F7;\n  --wg_background_color_2: #FFFFFF;\n  --wg_background_color_1: #F7F7F7;\n  --wg_background_color_0: #EDEDED;\n  --wg_foreground_color_0: rgba(0, 0, 0, 0.9);\n  --wg_foreground_color_0_5: rgba(0, 0, 0, 0.9);\n  --wg_foreground_color_1: rgba(0, 0, 0, 0.55);\n  --wg_foreground_color_2: rgba(0, 0, 0, 0.3);\n  --wg_foreground_color_3: rgba(0, 0, 0, 0.1);\n  --wg_foreground_color_4: rgba(0, 0, 0, 0.15);\n  --wg_foreground_color_5: rgba(0, 0, 0, 0.05);\n  --wg_text_1: #161616;\n  --wg_text_2: #9e9e9e;\n  --wg_weak_btn_text: rgba(0, 0, 0, 0.7);\n  --wg_text_green: #00A6A6;\n  --wg_new_text_green: #00A6A6;\n  --wg_link: #576b95;\n  --wg_new_link: #576b95;\n  --wg_text_golden: #CC9C00;\n  --wg_red: #FA5151;\n  --wg_red_rgb: 250, 81, 81;\n  --wg_live_red: #FF6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #F06B1F;\n  --wg_orange_rgb: 240, 107, 31;\n  --wg_clear_orange: #FA9D3B;\n  --wg_clear_orange_rgb: 250, 157, 59;\n  --wg_yellow: #FFC300;\n  --wg_yellow_rgb: 255, 195, 0;\n  --wg_blue: #10AEEF;\n  --wg_blue_rgb: 16, 174, 239;\n  --wg_indigo: #1485EE;\n  --wg_indigo_rgb: 20, 133, 238;\n  --wg_purple: #6467F0;\n  --wg_purple_rgb: 100, 103, 240;\n  --wg_gold: #E6AF00;\n  --wg_gold_rgb: 230, 175, 0;\n  --wg_silver: #98A7BB;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #AF8B77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #00BFBF;\n  --wg_brand_rgb: 0, 191, 191;\n  --wg_new_brand: #00BFBF;\n  --wg_new_brand_rgb: 0, 191, 191;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #8CE97F;\n  --wg_light_orange: #ffaf00;\n  --wg_black: #000000;\n  --wg_white: #ffffff;\n  --wg_button_background_color: rgba(0, 0, 0, 0.05);\n  --wg_tag_background_color: rgba(0, 0, 0, 0.03);\n  --wg_button_background_color_white: #ffffff;\n  --wg_button_text: #06ae56;\n  --wg_button_text_disabled: rgba(0, 0, 0, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n}\nbody .wg_force_accessibility_mode {\n  --wg_background_color_7: #2e2e2e;\n  --wg_background_color_6: #ffffff;\n  --wg_background_color_5: #ffffff;\n  --wg_background_color_4: #4c4c4c;\n  --wg_background_color_3: #f7f7f7;\n  --wg_background_color_2: #ffffff;\n  --wg_background_color_1: #f7f7f7;\n  --wg_background_color_0: #ededed;\n  --wg_foreground_color_0: #000000;\n  --wg_foreground_color_0_5: #000000;\n  --wg_foreground_color_1: rgba(0, 0, 0, 0.6);\n  --wg_foreground_color_2: rgba(0, 0, 0, 0.42);\n  --wg_foreground_color_3: rgba(0, 0, 0, 0.1);\n  --wg_foreground_color_4: rgba(0, 0, 0, 0.15);\n  --wg_foreground_color_5: rgba(0, 0, 0, 0.05);\n  --wg_text_1: #161616;\n  --wg_text_2: #9e9e9e;\n  --wg_btn_text: rgba(0, 0, 0, 0.7);\n  --wg_text_green: #00A6A6;\n  --wg_new_text_green: #00A6A6;\n  --wg_link: #576b95;\n  --wg_new_link: #576b95;\n  --wg_text_golden: #cc9c00;\n  --wg_red: #dc3636;\n  --wg_red_rgb: 220, 54, 54;\n  --wg_live_red: #FF6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #f06b1f;\n  --wg_orange_rgb: 240, 107, 31;\n  --wg_clear_orange: #e17719;\n  --wg_clear_orange_rgb: 225, 119, 25;\n  --wg_yellow: #bb8e00;\n  --wg_yellow_rgb: 187, 142, 0;\n  --wg_blue: #0075e2;\n  --wg_blue_rgb: 0, 117, 226;\n  --wg_indigo: #1485ee;\n  --wg_indigo_rgb: 20, 133, 238;\n  --wg_purple: #6366E1;\n  --wg_purple_rgb: 99, 102, 225;\n  --wg_gold: #bb8e00;\n  --wg_gold_rgb: 187, 142, 0;\n  --wg_silver: #98a7bb;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #af8b77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #00BFBF;\n  --wg_brand_rgb: 0, 191, 191;\n  --wg_new_brand: #00BFBF;\n  --wg_new_brand_rgb: 0, 191, 191;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #2e8800;\n  --wg_light_orange: #e17719;\n  --wg_button_background_color: rgba(0, 0, 0, 0.05);\n  --wg_tag_background_color: rgba(0, 0, 0, 0.03);\n  --wg_button_background_color_white: #ffffff;\n  --wg_button_text: #018942;\n  --wg_button_text_disabled: rgba(0, 0, 0, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n}\nbody .wg_force_dark_mode {\n  --wg_background_color_7: #2c2c2c;\n  --wg_background_color_6: #202020;\n  --wg_background_color_5: #2C2C2C;\n  --wg_background_color_4: #404040;\n  --wg_background_color_3: #202020;\n  --wg_background_color_2: #191919;\n  --wg_background_color_1: #1E1E1E;\n  --wg_background_color_0: #111111;\n  --wg_foreground_color_0: rgba(255, 255, 255, 0.8);\n  --wg_foreground_color_0_5: rgba(255, 255, 255, 0.6);\n  --wg_foreground_color_1: rgba(255, 255, 255, 0.5);\n  --wg_foreground_color_2: rgba(255, 255, 255, 0.3);\n  --wg_foreground_color_3: rgba(255, 255, 255, 0.1);\n  --wg_foreground_color_4: rgba(255, 255, 255, 0.05);\n  --wg_foreground_color_5: rgba(255, 255, 255, 0.08);\n  --wg_text_1: #f7f7f7;\n  --wg_text_2: #9f9f9f;\n  --wg_weak_btn_text: rgba(255, 255, 255, 0.8);\n  --wg_text_green: #6DD9D9;\n  --wg_new_text_green: #6DD9D9;\n  --wg_link: #7d90a9;\n  --wg_new_link: #7d90a9;\n  --wg_text_golden: #CC9C00;\n  --wg_red: #FA5151;\n  --wg_red_rgb: 250, 81, 81;\n  --wg_live_red: #FF6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #F06B1F;\n  --wg_orange_rgb: 240, 107, 31;\n  --wg_clear_orange: #C87D2F;\n  --wg_clear_orange_rgb: 200, 125, 47;\n  --wg_yellow: #CC9C00;\n  --wg_yellow_rgb: 204, 156, 0;\n  --wg_blue: #10AEEF;\n  --wg_blue_rgb: 16, 174, 239;\n  --wg_indigo: #1196FF;\n  --wg_indigo_rgb: 17, 150, 255;\n  --wg_purple: #8183FF;\n  --wg_purple_rgb: 129, 131, 255;\n  --wg_gold: #CC9C00;\n  --wg_gold_rgb: 204, 156, 0;\n  --wg_silver: #98A7BB;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #AF8B77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #6DD9D9;\n  --wg_brand_rgb: 109, 217, 217;\n  --wg_new_brand: #6DD9D9;\n  --wg_new_brand_rgb: 109, 217, 217;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #07c160;\n  --wg_light_orange: #ffaf00;\n  --wg_button_background_color: rgba(255, 255, 255, 0.08);\n  --wg_tag_background_color: rgba(255, 255, 255, 0.03);\n  --wg_button_background_color_white: rgba(255, 255, 255, 0.08);\n  --wg_button_text: rgba(255, 255, 255, 0.8);\n  --wg_button_text_disabled: rgba(255, 255, 255, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n}\nbody .wg_force_pc_light_mode {\n  --wg_background_color_7: #2e2e2e;\n  --wg_background_color_6: #ffffff;\n  --wg_background_color_5: #ffffff;\n  --wg_background_color_4: #ffffff;\n  --wg_background_color_3: #f7f7f7;\n  --wg_background_color_2: #ffffff;\n  --wg_background_color_1: #f7f7f7;\n  --wg_background_color_0: #ededed;\n  --wg_foreground_color_0: rgba(0, 0, 0, 0.9);\n  --wg_foreground_color_0_5: rgba(0, 0, 0, 0.7);\n  --wg_foreground_color_1: rgba(0, 0, 0, 0.5);\n  --wg_foreground_color_2: rgba(0, 0, 0, 0.3);\n  --wg_foreground_color_3: rgba(0, 0, 0, 0.15);\n  --wg_foreground_color_4: rgba(0, 0, 0, 0.08);\n  --wg_foreground_color_5: rgba(0, 0, 0, 0.05);\n  --wg_text_1: #161616;\n  --wg_text_2: #9e9e9e;\n  --wg_weak_btn_text: rgba(0, 0, 0, 0.7);\n  --wg_text_green: #00a6a6;\n  --wg_new_text_green: #00a6a6;\n  --wg_link: #576B95;\n  --wg_new_link: #576B95;\n  --wg_text_golden: #cc9c00;\n  --wg_red: #fa5151;\n  --wg_red_rgb: 250, 81, 81;\n  --wg_live_red: #ff6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #fa9d38;\n  --wg_orange_rgb: 250, 157, 56;\n  --wg_clear_orange: #fa9d3b;\n  --wg_clear_orange_rgb: 250, 157, 59;\n  --wg_yellow: #ffc300;\n  --wg_yellow_rgb: 255, 195, 0;\n  --wg_blue: #10aeff;\n  --wg_blue_rgb: 16, 174, 239;\n  --wg_indigo: #1485ee;\n  --wg_indigo_rgb: 20, 133, 238;\n  --wg_purple: #6467f0;\n  --wg_purple_rgb: 100, 103, 240;\n  --wg_gold: #e6af00;\n  --wg_gold_rgb: 230, 175, 0;\n  --wg_silver: #98a7bb;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #af8b77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #00bfbf;\n  --wg_brand_rgb: 0, 191, 191;\n  --wg_new_brand: #00bfbf;\n  --wg_new_brand_rgb: 0, 191, 191;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #95ec69;\n  --wg_light_orange: #ffaf00;\n  --wg_button_background_color: rgba(0, 0, 0, 0.05);\n  --wg_tag_background_color: rgba(0, 0, 0, 0.03);\n  --wg_button_background_color_white: #ffffff;\n  --wg_button_text: #06ae56;\n  --wg_button_text_disabled: rgba(0, 0, 0, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00bfbf 50%, #99b3ff 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00bfbf 50%, #99b3ff 99.97%);\n}\nbody .wg_force_pc_dark_mode {\n  --wg_background_color_7: #2c2c2c;\n  --wg_background_color_6: #202020;\n  --wg_background_color_5: #2c2c2c;\n  --wg_background_color_4: #404040;\n  --wg_background_color_3: #202020;\n  --wg_background_color_2: #191919;\n  --wg_background_color_1: #1e1e1e;\n  --wg_background_color_0: #111111;\n  --wg_foreground_color_0: rgba(255, 255, 255, 0.8);\n  --wg_foreground_color_0_5: rgba(255, 255, 255, 0.6);\n  --wg_foreground_color_1: rgba(255, 255, 255, 0.5);\n  --wg_foreground_color_2: rgba(255, 255, 255, 0.3);\n  --wg_foreground_color_3: rgba(255, 255, 255, 0.15);\n  --wg_foreground_color_4: rgba(255, 255, 255, 0.08);\n  --wg_foreground_color_5: rgba(255, 255, 255, 0.05);\n  --wg_text_1: #f7f7f7;\n  --wg_text_2: #9f9f9f;\n  --wg_weak_btn_text: rgba(255, 255, 255, 0.8);\n  --wg_text_green: #6dd9d9;\n  --wg_new_text_green: #6dd9d9;\n  --wg_link: #7D90A9;\n  --wg_new_link: #7D90A9;\n  --wg_text_golden: #cc9c00;\n  --wg_red: #fa5151;\n  --wg_red_rgb: 250, 81, 81;\n  --wg_live_red: #ff6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #c87d2f;\n  --wg_orange_rgb: 200, 125, 47;\n  --wg_clear_orange: #c87d2f;\n  --wg_clear_orange_rgb: 200, 125, 47;\n  --wg_yellow: #cc9c00;\n  --wg_yellow_rgb: 204, 156, 0;\n  --wg_blue: #10aeff;\n  --wg_blue_rgb: 16, 174, 239;\n  --wg_indigo: #1196ff;\n  --wg_indigo_rgb: 17, 150, 255;\n  --wg_purple: #8183ff;\n  --wg_purple_rgb: 129, 131, 255;\n  --wg_gold: #cc9c00;\n  --wg_gold_rgb: 204, 156, 0;\n  --wg_silver: #98a7bb;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #af8b77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #6dd9d9;\n  --wg_brand_rgb: 109, 217, 217;\n  --wg_new_brand: #6dd9d9;\n  --wg_new_brand_rgb: 109, 217, 217;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #3eb575;\n  --wg_light_orange: #ffaf00;\n  --wg_button_background_color: rgba(255, 255, 255, 0.08);\n  --wg_tag_background_color: rgba(255, 255, 255, 0.03);\n  --wg_button_background_color_white: rgba(255, 255, 255, 0.08);\n  --wg_button_text: rgba(255, 255, 255, 0.8);\n  --wg_button_text_disabled: rgba(255, 255, 255, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n}\nbody.wg_accessibility_mode {\n  --wg_background_color_7: #2e2e2e;\n  --wg_background_color_6: #ffffff;\n  --wg_background_color_5: #ffffff;\n  --wg_background_color_4: #4c4c4c;\n  --wg_background_color_3: #f7f7f7;\n  --wg_background_color_2: #ffffff;\n  --wg_background_color_1: #f7f7f7;\n  --wg_background_color_0: #ededed;\n  --wg_foreground_color_0: #000000;\n  --wg_foreground_color_0_5: #000000;\n  --wg_foreground_color_1: rgba(0, 0, 0, 0.6);\n  --wg_foreground_color_2: rgba(0, 0, 0, 0.42);\n  --wg_foreground_color_3: rgba(0, 0, 0, 0.1);\n  --wg_foreground_color_4: rgba(0, 0, 0, 0.15);\n  --wg_foreground_color_5: rgba(0, 0, 0, 0.05);\n  --wg_text_1: #161616;\n  --wg_text_2: #9e9e9e;\n  --wg_btn_text: rgba(0, 0, 0, 0.7);\n  --wg_text_green: #00A6A6;\n  --wg_new_text_green: #00A6A6;\n  --wg_link: #576b95;\n  --wg_new_link: #576b95;\n  --wg_text_golden: #cc9c00;\n  --wg_red: #dc3636;\n  --wg_red_rgb: 220, 54, 54;\n  --wg_live_red: #FF6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #f06b1f;\n  --wg_orange_rgb: 240, 107, 31;\n  --wg_clear_orange: #e17719;\n  --wg_clear_orange_rgb: 225, 119, 25;\n  --wg_yellow: #bb8e00;\n  --wg_yellow_rgb: 187, 142, 0;\n  --wg_blue: #0075e2;\n  --wg_blue_rgb: 0, 117, 226;\n  --wg_indigo: #1485ee;\n  --wg_indigo_rgb: 20, 133, 238;\n  --wg_purple: #6366E1;\n  --wg_purple_rgb: 99, 102, 225;\n  --wg_gold: #bb8e00;\n  --wg_gold_rgb: 187, 142, 0;\n  --wg_silver: #98a7bb;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #af8b77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #00BFBF;\n  --wg_brand_rgb: 0, 191, 191;\n  --wg_new_brand: #00BFBF;\n  --wg_new_brand_rgb: 0, 191, 191;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #2e8800;\n  --wg_light_orange: #e17719;\n  --wg_button_background_color: rgba(0, 0, 0, 0.05);\n  --wg_tag_background_color: rgba(0, 0, 0, 0.03);\n  --wg_button_background_color_white: #ffffff;\n  --wg_button_text: #018942;\n  --wg_button_text_disabled: rgba(0, 0, 0, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n}\nbody.wg_dark_mode {\n  --wg_background_color_7: #2c2c2c;\n  --wg_background_color_6: #202020;\n  --wg_background_color_5: #2C2C2C;\n  --wg_background_color_4: #404040;\n  --wg_background_color_3: #202020;\n  --wg_background_color_2: #191919;\n  --wg_background_color_1: #1E1E1E;\n  --wg_background_color_0: #111111;\n  --wg_foreground_color_0: rgba(255, 255, 255, 0.8);\n  --wg_foreground_color_0_5: rgba(255, 255, 255, 0.6);\n  --wg_foreground_color_1: rgba(255, 255, 255, 0.5);\n  --wg_foreground_color_2: rgba(255, 255, 255, 0.3);\n  --wg_foreground_color_3: rgba(255, 255, 255, 0.1);\n  --wg_foreground_color_4: rgba(255, 255, 255, 0.05);\n  --wg_foreground_color_5: rgba(255, 255, 255, 0.08);\n  --wg_text_1: #f7f7f7;\n  --wg_text_2: #9f9f9f;\n  --wg_weak_btn_text: rgba(255, 255, 255, 0.8);\n  --wg_text_green: #6DD9D9;\n  --wg_new_text_green: #6DD9D9;\n  --wg_link: #7d90a9;\n  --wg_new_link: #7d90a9;\n  --wg_text_golden: #CC9C00;\n  --wg_red: #FA5151;\n  --wg_red_rgb: 250, 81, 81;\n  --wg_live_red: #FF6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #F06B1F;\n  --wg_orange_rgb: 240, 107, 31;\n  --wg_clear_orange: #C87D2F;\n  --wg_clear_orange_rgb: 200, 125, 47;\n  --wg_yellow: #CC9C00;\n  --wg_yellow_rgb: 204, 156, 0;\n  --wg_blue: #10AEEF;\n  --wg_blue_rgb: 16, 174, 239;\n  --wg_indigo: #1196FF;\n  --wg_indigo_rgb: 17, 150, 255;\n  --wg_purple: #8183FF;\n  --wg_purple_rgb: 129, 131, 255;\n  --wg_gold: #CC9C00;\n  --wg_gold_rgb: 204, 156, 0;\n  --wg_silver: #98A7BB;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #AF8B77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #6DD9D9;\n  --wg_brand_rgb: 109, 217, 217;\n  --wg_new_brand: #6DD9D9;\n  --wg_new_brand_rgb: 109, 217, 217;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #07c160;\n  --wg_light_orange: #ffaf00;\n  --wg_button_background_color: rgba(255, 255, 255, 0.08);\n  --wg_tag_background_color: rgba(255, 255, 255, 0.03);\n  --wg_button_background_color_white: rgba(255, 255, 255, 0.08);\n  --wg_button_text: rgba(255, 255, 255, 0.8);\n  --wg_button_text_disabled: rgba(255, 255, 255, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n}\nbody.wg_pc_mode {\n  --wg_background_color_7: #2e2e2e;\n  --wg_background_color_6: #ffffff;\n  --wg_background_color_5: #ffffff;\n  --wg_background_color_4: #ffffff;\n  --wg_background_color_3: #f7f7f7;\n  --wg_background_color_2: #ffffff;\n  --wg_background_color_1: #f7f7f7;\n  --wg_background_color_0: #ededed;\n  --wg_foreground_color_0: rgba(0, 0, 0, 0.9);\n  --wg_foreground_color_0_5: rgba(0, 0, 0, 0.7);\n  --wg_foreground_color_1: rgba(0, 0, 0, 0.5);\n  --wg_foreground_color_2: rgba(0, 0, 0, 0.3);\n  --wg_foreground_color_3: rgba(0, 0, 0, 0.15);\n  --wg_foreground_color_4: rgba(0, 0, 0, 0.08);\n  --wg_foreground_color_5: rgba(0, 0, 0, 0.05);\n  --wg_text_1: #161616;\n  --wg_text_2: #9e9e9e;\n  --wg_weak_btn_text: rgba(0, 0, 0, 0.7);\n  --wg_text_green: #00a6a6;\n  --wg_new_text_green: #00a6a6;\n  --wg_link: #576B95;\n  --wg_new_link: #576B95;\n  --wg_text_golden: #cc9c00;\n  --wg_red: #fa5151;\n  --wg_red_rgb: 250, 81, 81;\n  --wg_live_red: #ff6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #fa9d38;\n  --wg_orange_rgb: 250, 157, 56;\n  --wg_clear_orange: #fa9d3b;\n  --wg_clear_orange_rgb: 250, 157, 59;\n  --wg_yellow: #ffc300;\n  --wg_yellow_rgb: 255, 195, 0;\n  --wg_blue: #10aeff;\n  --wg_blue_rgb: 16, 174, 239;\n  --wg_indigo: #1485ee;\n  --wg_indigo_rgb: 20, 133, 238;\n  --wg_purple: #6467f0;\n  --wg_purple_rgb: 100, 103, 240;\n  --wg_gold: #e6af00;\n  --wg_gold_rgb: 230, 175, 0;\n  --wg_silver: #98a7bb;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #af8b77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #00bfbf;\n  --wg_brand_rgb: 0, 191, 191;\n  --wg_new_brand: #00bfbf;\n  --wg_new_brand_rgb: 0, 191, 191;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #95ec69;\n  --wg_light_orange: #ffaf00;\n  --wg_button_background_color: rgba(0, 0, 0, 0.05);\n  --wg_tag_background_color: rgba(0, 0, 0, 0.03);\n  --wg_button_background_color_white: #ffffff;\n  --wg_button_text: #06ae56;\n  --wg_button_text_disabled: rgba(0, 0, 0, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00bfbf 50%, #99b3ff 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00bfbf 50%, #99b3ff 99.97%);\n  --wg_font_size_h1: 20px;\n  --wg_font_size_h2: 15px;\n  --wg_font_size_h3: 14px;\n  --wg_font_size_b1: 14px;\n  --wg_font_size_b2: 12px;\n  --wg_font_size_b3: 10px;\n  --wg_font_family_default: Microsoft Sans Serif, PingFang SC;\n}\nbody.wg_pc_mode.wg_dark_mode {\n  --wg_background_color_7: #2c2c2c;\n  --wg_background_color_6: #202020;\n  --wg_background_color_5: #2c2c2c;\n  --wg_background_color_4: #404040;\n  --wg_background_color_3: #202020;\n  --wg_background_color_2: #191919;\n  --wg_background_color_1: #1e1e1e;\n  --wg_background_color_0: #111111;\n  --wg_foreground_color_0: rgba(255, 255, 255, 0.8);\n  --wg_foreground_color_0_5: rgba(255, 255, 255, 0.6);\n  --wg_foreground_color_1: rgba(255, 255, 255, 0.5);\n  --wg_foreground_color_2: rgba(255, 255, 255, 0.3);\n  --wg_foreground_color_3: rgba(255, 255, 255, 0.15);\n  --wg_foreground_color_4: rgba(255, 255, 255, 0.08);\n  --wg_foreground_color_5: rgba(255, 255, 255, 0.05);\n  --wg_text_1: #f7f7f7;\n  --wg_text_2: #9f9f9f;\n  --wg_weak_btn_text: rgba(255, 255, 255, 0.8);\n  --wg_text_green: #6dd9d9;\n  --wg_new_text_green: #6dd9d9;\n  --wg_link: #7D90A9;\n  --wg_new_link: #7D90A9;\n  --wg_text_golden: #cc9c00;\n  --wg_red: #fa5151;\n  --wg_red_rgb: 250, 81, 81;\n  --wg_live_red: #ff6146;\n  --wg_live_red_rgb: 255, 97, 70;\n  --wg_orange: #c87d2f;\n  --wg_orange_rgb: 200, 125, 47;\n  --wg_clear_orange: #c87d2f;\n  --wg_clear_orange_rgb: 200, 125, 47;\n  --wg_yellow: #cc9c00;\n  --wg_yellow_rgb: 204, 156, 0;\n  --wg_blue: #10aeff;\n  --wg_blue_rgb: 16, 174, 239;\n  --wg_indigo: #1196ff;\n  --wg_indigo_rgb: 17, 150, 255;\n  --wg_purple: #8183ff;\n  --wg_purple_rgb: 129, 131, 255;\n  --wg_gold: #cc9c00;\n  --wg_gold_rgb: 204, 156, 0;\n  --wg_silver: #98a7bb;\n  --wg_silver_rgb: 152, 167, 187;\n  --wg_bronze: #af8b77;\n  --wg_bronze_rgb: 175, 139, 119;\n  --wg_wx_brand: #07C160;\n  --wg_wx_brand_rgb: 7, 193, 96;\n  --wg_brand: #6dd9d9;\n  --wg_brand_rgb: 109, 217, 217;\n  --wg_new_brand: #6dd9d9;\n  --wg_new_brand_rgb: 109, 217, 217;\n  --wg_brand_active: #04793c;\n  --wg_light_green: #3eb575;\n  --wg_light_orange: #ffaf00;\n  --wg_button_background_color: rgba(255, 255, 255, 0.08);\n  --wg_tag_background_color: rgba(255, 255, 255, 0.03);\n  --wg_button_background_color_white: rgba(255, 255, 255, 0.08);\n  --wg_button_text: rgba(255, 255, 255, 0.8);\n  --wg_button_text_disabled: rgba(255, 255, 255, 0.2);\n  --wg_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n  --wg_new_button_strong: linear-gradient(89.97deg, #00BFBF 50%, #99B3FF 99.97%);\n}\n",""])},function(e,t){(function(){try{return window.self!==window.top}catch(e){return!0}})()||Math.random()<.001&&window.addEventListener("load",(function(e){setTimeout((function(){var e=document.createElement("iframe");e.style.display="none",e.src="https://game.weixin.qq.com/cgi-bin/h5/static/feature_detect/index.html",document.body.appendChild(e)}),5e3)}))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(12)),o=i(n(13)),a=i(n(9)),s=i(n(10)),l=n(31),d=n(6).default,c=n(23).default,u=n(3),f=n(2).default,p=n(80).default,g=n(81).default,_=n(82).default,m=n(83).default,h=n(84).default,w=n(85).default,v=n(86).default,A=n(88).default,b=n(89).default,y=n(90).default;function k(){return Math.floor(Date.now()/1e3)}var x=new(function(){function e(){(0,a.default)(this,e),this.ui=new v,this.preloader=new p,this.reporter=new g,this.router=new _(this),this.grant=new m,this.share=new h,this.ban=new w,this.webtransfer=new A,this.cache=new b,this.app=new y,(f.isWechat||u.getQueryStr("globalconfig"))&&this.init()}var t,n,i;return(0,s.default)(e,[{key:"init",value:(i=(0,o.default)(r.default.mark((function e(){var t,n,i=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLocalGlobalConfig();case 2:if(t=e.sent,(n=u.getValue(t,"config"))&&!this.isExpire(t)){e.next=11;break}return e.next=7,this.fetchGlobalConfig();case 7:n=e.sent,this.useConfig(n),e.next=13;break;case 11:this.useConfig(n),setTimeout((function(){i.fetchGlobalConfig()}),6e4);case 13:setTimeout((function(){if(!window.envswitcher&&"1"===localStorage.getItem("_envswitcher_enable_")){var e=document.createElement("script");e.src="https://res.wx.qq.com/wechatgame/product/envswitcher/js/c-h5/app.js?t=".concat(Date.now()),document.body.appendChild(e)}}),2e3);case 14:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"refresh",value:(n=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchGlobalConfig();case 2:t=e.sent,this.useConfig(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getCancellationInfo",value:function(){return this.cancellationInfo}},{key:"useConfig",value:function(e){if(e.data){var t=e.data;this.reportConfigVerison(t),this.preloader.use(u.getValue(t,"preloader")),this.reporter.use(u.getValue(t,"reporter")),this.router.use(u.getValue(t,"router")),this.grant.use(u.getValue(t,"grant")),this.share.use(u.getValue(t,"share")),this.ban.use(u.getValue(t,"ban")),this.ui.use(u.getValue(t,"ui")),this.webtransfer.use(u.getValue(t,"webtransfer_v1")),this.cache.use(u.getValue(t,"cache")),this.app.use(u.getValue(t,"app")),this.version=u.getValue(t,"version")}this.cancellationInfo=e.cancellation_info}},{key:"getLocalGlobalConfig",value:function(){return new Promise((function(e){l.getKeyValue("WgCommlibGlobalConfig_V1",(function(t){var n={};try{n=JSON.parse(t)}catch(e){n={}}e(n)}))}))}},{key:"fetchGlobalConfig",value:(t=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchGlobalConfig();case 2:return t=e.sent,this.saveLocalGlobalConfig(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_fetchGlobalConfig",value:function(){return new Promise((function(e){var t,n="/cgi-bin/gameconfigcenterwap/getcompliancesettingbyuser",i={};null!==(t=WXGAME.UrlConfig)&&void 0!==t&&t.DisableCheckUserSecStatus&&(n="/cgi-bin/gameconfigcenterwap/getsetting",i=JSON.stringify({method:"POST",setting_key:"gamecenter_commlib_globalconfig"})),d(n,i,(function(t){0===t.errcode&&t.data&&e({data:t.data,cancellation_info:t.cancellation_info})}))}))}},{key:"saveLocalGlobalConfig",value:function(e){l.setKeyValue("WgCommlibGlobalConfig_V1",JSON.stringify({config:e,expire_time:k()+7200}))}},{key:"isExpire",value:function(e){return!e||e.expire_time<k()}},{key:"reportConfigVerison",value:function(e){Math.random()<.001&&c.StartRuner("GlobalConfig",{}).EndLogic({err_msg:"version:"+e.version})}}]),e}());t.default=x},function(e,t,n){var i=n(1).default;function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var r=t&&t.prototype instanceof _?t:_,o=Object.create(r.prototype),s=new O(i||[]);return a(o,"_invoke",{value:x(e,n,s)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var g={};function _(){}function m(){}function h(){}var w={};u(w,l,(function(){return this}));var v=Object.getPrototypeOf,A=v&&v(v(E([])));A&&A!==n&&o.call(A,l)&&(w=A);var b=h.prototype=_.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){var n;a(this,"_invoke",{value:function(r,a){function s(){return new t((function(n,s){!function n(r,a,s,l){var d=p(e[r],e,a);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==i(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(d.arg)}(r,a,n,s)}))}return n=n?n.then(s,s):s()}})}function x(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return T()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=p(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var r=p(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function E(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=h,a(b,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:m,configurable:!0}),m.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},y(k.prototype),u(k.prototype,d,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new k(f(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(b),u(b,c,"Generator"),u(b,l,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),g}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(1).default;e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(4)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3)),s=i(n(21)),l=i(n(5));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var c,u=a.getQueryStr;!function(e){var t="",n={loaded:!1},i=e.location;function r(e,n,r){n.uin=u("uin",e),n.key=u("key",e),n.pass_ticket=u("pass_ticket",e),t="uin="+n.uin+"&key="+n.key+"&pass_ticket="+n.pass_ticket,n.loginStr=t,n.Referer="Referer="+encodeURIComponent(i.href.split("#")[0]),n.method=null!=n.Referer?"POST":"GET",n.url="/cgi-bin/comm/genfun?"+t+"&_="+Math.random(),r.loginCbk&&"function"==typeof r.loginCbk&&r.loginCbk({uin:n.uin,key:n.key,from:n.from,pass_ticket:n.pass_ticket,loginStr:n.loginStr})}l.default.asynVerifyCall=function(e,t,o){var a=new s.default;a.onComplete=function(t){if(-1!=t.responseText.indexOf("{")){var i=JSON.parse(t.responseText);0==i.ret?(n.sign=i.data.jsapi_sign,n.sign.loginStr=a.loginStr,n.sign.uin=a.uin,n.sign.key=a.key,n.sign.pass_ticket=a.pass_ticket,n.sign.from=a.from,n.loaded=!0,l.default.verifyCall(e,n.sign,o)):o&&o(!1,{err_code:1,loginStr:a.loginStr,uin:a.uin,key:a.key,from:a.from,pass_ticket:a.pass_ticket,err_msg:"async signature load error"})}a=null},a.onError=function(e,t){o&&o(!1,{err_code:-1,xhr:e,loginStr:a.loginStr,uin:a.uin,key:a.key,pass_ticket:a.pass_ticket,err_msg:t}),a=null},/uin=[^&]+/i.test(i.search)?(a.from="url",r(i.search,a,t),a.send(a.Referer?a.Referer:null)):l.default.getA8key((function(e,n){a.from=n,r(e.full_url||e.url,a,t),a.send(a.Referer?a.Referer:null)}))},c=l.default}(o.default.window);var f=c;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharePositionID=t.ShareActionID=t.FromIdMap=void 0;t.FromIdMap={sendAppMessage:3,shareTimeline:4,sendGameNameCard:5};t.SharePositionID={PAGE:12,CUSTOM:13};t.ShareActionID={CLICK:2,SENDAPPMESSAGE:30,SENDTIMELINE:31}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iosCookieVersion=t.default=t.AndroidcookieVersion=t.AndroidHexCookieVersion=void 0;var i={AndroidcookieVersion:"7.0.14",AndroidHexCookieVersion:654315060,iosCookieVersion:"7.0.17"},r=i;t.default=r;var o=i.AndroidcookieVersion,a=i.AndroidHexCookieVersion,s=i.iosCookieVersion;t.iosCookieVersion=s,t.AndroidHexCookieVersion=a,t.AndroidcookieVersion=o},function(e,t,n){"use strict";function i(e,t,n,i,r){var o=n||30,a=new Date,s=i||"game.weixin.qq.com",l=r||"/";a.setTime(a.getTime()+24*o*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()+";domain="+s+";path="+l}function r(e){if(new RegExp(["(^|;|\\s+)",e.replace(/([\^\.\[\$\(\)\|\*\+\?\{\\])/gi,"\\$1"),"=([^;]*);?"].join("")).test(document.cookie))try{return decodeURIComponent(RegExp.$2)}catch(e){return RegExp.$2}}Object.defineProperty(t,"__esModule",{value:!0}),t.cookie_get=r,t.cookie_set=i,t.default=void 0;var o={cookie_set:i,cookie_get:r};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i,r,o,a;return n=n||{},arguments.length>1&&"[object Object]"!==String(t)?(null==t&&(n.expires=-1),"number"==typeof n.expires&&(i=24*n.expires*60*60*1e3,(r=n.expires=new Date).setTime(r.getTime()+i)),t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")):(a=(n=t||{}).raw?function(e){return e}:decodeURIComponent,(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(o[1]):null)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openUrlWithExtraWebview=t.default=void 0;var r=i(n(5));r.default.openUrlWithExtraWebview=r.default.openUrlWithExtraWebview||function(e,t){r.default.invoke("openUrlWithExtraWebview",e,t)};var o=r.default;t.default=o;var a=r.default.openUrlWithExtraWebview;t.openUrlWithExtraWebview=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openGameWebView=t.default=void 0;var r=i(n(5));r.default.openGameWebView=r.default.openGameWebView||function(e,t){r.default.invoke("openGameWebView",e,t)};var o=r.default;t.default=o;var a=r.default.openGameWebView;t.openGameWebView=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openWeApp=t.default=void 0;var r=i(n(5));r.default.openWeApp=r.default.openWeApp||function(e,t){r.default.invoke("openWeApp",e,t)};var o=r.default;t.default=o;var a=r.default.openWeApp;t.openWeApp=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getGameCommInfo=t.default=void 0;var r=i(n(5));r.default.getGameCommInfo=r.default.getGameCommInfo||function(e,t){r.default.invoke("getGameCommInfo",e,t)};var o=r.default;t.default=o;var a=r.default.getGameCommInfo;t.getGameCommInfo=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openGameUrlWithExtraWebView=t.default=void 0;var r=i(n(5)),o=i(n(35)),a=n(3),s=i(n(2)),l=i(n(4));function d(e,t){var n,i,o,d,c,u,f=null===(n=l.default.window)||void 0===n||null===(i=n.WXGAME)||void 0===i||null===(o=i.GlobalConfig)||void 0===o||null===(d=o.router)||void 0===d||null===(c=d.getLiteAppPathConfig)||void 0===c?void 0:c.call(d,e.url),p=(0,a.getURLObject)(e.url).searchParams.get("liteapp");if(p){var g=(0,a.getURLObject)(p).searchParams.get("path"),_=/liteapp:\/\/([\d\w]+)/g.exec(p),m=_?_[1]:null;m&&g&&(f={liteapp_info:{appid:m,path:g}})}if(f){var h=(0,a.getAllQueryStr)(e.url);if(e.liteAppInfo={appId:f.liteapp_info.appid,path:f.liteapp_info.path,query:h},s.default.isiOS)return r.default.invoke("openGameUrlWithExtraWebView",e),void Promise.resolve().then((function(){t({err_msg:"openGameUrlWithExtraWebView:ok"})}))}if(e.popCurrentVc)if(s.default.isiOS)null!==(u=window.wgclient)&&void 0!==u&&u.isChildWebViewMode&&delete e.popCurrentVc;else if(s.default.isAndroid){var w=t;t=function(e){var t;w(e),(null===(t=e.err_msg)||void 0===t?void 0:t.indexOf(":ok"))>-1&&setTimeout((function(){r.default.invoke("closeWindow")}),3e3)}}r.default.invoke("openGameUrlWithExtraWebView",e,t)}r.default.openGameUrlWithExtraWebView=r.default.openGameUrlWithExtraWebView||function(e,t){var n=!1;if(o.default.hadJscoreInited()&&o.default.hadPrerendered(e.url))try{n=!0,o.default.openUrl(e).then((function(e){console.log("jscore-then",e),e&&e.data&&e.data.jsapiRes?t(e.data.jsapiRes):t({})}))}catch(n){d(e,t)}else d(e,t);return n};var c=r.default;t.default=c;var u=r.default.openGameUrlWithExtraWebView;t.openGameUrlWithExtraWebView=u},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){WxGameJsCoreBridge.invokeEvent=function(e){if("string"==typeof e&&(e=JSON.parse(e)),console.log("webview-invokeEvent",e),e.wvCbkId&&o.CallbackMap[e.wvCbkId])o.CallbackMap[e.wvCbkId](e.data),e.isListen||delete o.CallbackMap[e.wvCbkId];else if(a)return a(e)},WxGameJsCoreBridge.postMessage=function(e,t,n){(0,o.postMessageToJscore)(e,t,n)},WxGameJsCoreBridge.on=function(e,t){(0,o.listenEventToJscore)(e,t)},WxGameJsCoreBridge.off=function(e,t){(0,o.unListenEventToJscore)(e,t)}};var r=i(n(71)),o=n(72),a=function(e){if(r.default[e.apiName]){var t=r.default[e.apiName](e);e.jcCbkId&&(0,o.postMessageToJscoreCbk)(e.apiName,e,t,null)}else r.default.notFound(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={notFound:function(e){console.error("webview - jscoreEvent - notFoundEvent",e)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackMap=void 0,t.listenEventToJscore=function(e,t){t&&(t.apiName=e);o(e,{},t,!0)},t.postMessageToJscore=function(e,t,n){n&&(n.apiName=e);o(e,t,n,!1)},t.postMessageToJscoreCbk=function(e,t,n){if("undefined"==typeof WxGameJsCoreNative)return;var i={params:{apiName:e,params:t,data:n}};return WxGameJsCoreNative.postMessage(JSON.stringify(i))},t.unListenEventToJscore=function(e,t){if(t)for(var n in r)r[n]===t&&(delete r[n],o(e,{},n,!0,!0));else{var i=!1;for(var a in r)r[a].apiName===e&&(delete r[a],i=!0);i&&o(e,{},null,!0,!0)}};var i=1;var r={};function o(e,t,n,o,a){if("undefined"!=typeof WxGameJsCoreNative){var s=0;"function"==typeof n?(s=i++,r[s]=n):"number"==typeof n&&(s=n);var l={params:{apiName:e,wvCbkId:s,isListen:o,isOffListen:a,params:t}};return WxGameJsCoreNative.postMessage(JSON.stringify(l))}}t.CallbackMap=r},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openGameTabHome=t.default=void 0;var r=i(n(5)),o=i(n(2));r.default.openGameTabHome=r.default.openGameTabHome||function(e,t){var n;if(null!==(n=window.wgclient)&&void 0!==n&&n.__gameTabHeight__)if(o.default.isAndroid)r.default.invoke("switchToGameTab",e,t);else{var i="switchToGameTab-"+Date.now();r.default.invoke("gameCenterFacade",{gamecenter_methodname:"switchToGameTab",gamecenter_identifier:i,gamecenter_params:e},(function(e){e&&e.gamecenter_identifier===i&&t(e)}))}else r.default.invoke("openGameTabHome",e,t)};var a=r.default;t.default=a;var s=r.default.openGameTabHome;t.openGameTabHome=s},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.enableGameView=t.default=void 0;var r=i(n(5));r.default.enableGameView=r.default.enableGameView||function(e,t){r.default.invoke("enableGameView",e,t)};var o=r.default;t.default=o;var a=r.default.enableGameView;t.enableGameView=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openCustomWebview=t.default=void 0;var r=i(n(5));r.default.openCustomWebview=r.default.openCustomWebview||function(e,t){r.default.invoke("openCustomWebview",e,t)};var o=r.default;t.default=o;var a=r.default.openCustomWebview;t.openCustomWebview=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openFinderView=t.default=void 0;var r=i(n(2)),o=i(n(5));o.default.openFinderView=o.default.openFinderView||function(e,t){"openFinderProfile"===e.action?e.commentScene=9:"openFinderFeed"===e.action?(e.shareScene=16,e.requestScene=18):"autoOpenFinderLive"===e.action?e.commentScene=9:"openFinderMultiMoreLive"===e.action&&(e.requestScene=1,e.useDarkStyle=!!r.default.isDarkMode,e.entryScene=9),o.default.invoke("openFinderView",{extInfo:JSON.stringify(e)},t)};var a=o.default;t.default=a;var s=o.default.openFinderView;t.openFinderView=s},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openFinderTopicView=t.default=void 0;var r=i(n(5));r.default.openFinderTopicView=r.default.openFinderTopicView||function(e,t){e.entryScene=9,e.topicType&&(e.topicType=Number(e.topicType)),r.default.invoke("openFinderTopicView",{extInfo:JSON.stringify(e)},t)};var o=r.default;t.default=o;var a=r.default.openFinderTopicView;t.openFinderTopicView=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.startGameLifeConversation=t.default=void 0;var r=i(n(5));r.default.startGameLifeConversation=r.default.startGameLifeConversation||function(e,t){r.default.invoke("startGameLifeConversation",e,t)};var o=r.default;t.default=o;var a=r.default.startGameLifeConversation;t.startGameLifeConversation=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openGameLifeChatroom=t.default=void 0;var r=i(n(5)),o=i(n(2));r.default.openGameLifeChatroom=r.default.openGameLifeChatroom||function(e,t){if(o.default.isAndroid)r.default.invoke("openGameLifeChatroom",e,t);else{var n="openGameLifeChatroom-"+Date.now();r.default.invoke("gameCenterFacade",{gamecenter_methodname:"openGameLifeChatroom",gamecenter_identifier:n,gamecenter_params:e},(function(e){e&&e.gamecenter_identifier===n&&t(e)}))}};var a=r.default;t.default=a;var s=r.default.openGameLifeChatroom;t.openGameLifeChatroom=s},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(12)),o=i(n(13)),a=i(n(9)),s=i(n(10)),l=n(31),d=n(2).default,c=n(4).default,u=n(3),f="https://game.weixin.qq.com/cgi-bin/h5/static/preloader/index.html";function p(){try{return window.self!==window.top}catch(e){return!0}}var g=function(){function e(){(0,a.default)(this,e)}var t,n;return(0,s.default)(e,[{key:"use",value:(n=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.config=t,e.next=3,this.isEnable(t);case 3:e.sent&&setTimeout((function(){n.preload(t)}),1e4);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getLocalPreloaderConfig",value:function(){return new Promise((function(e){l.getKeyValue("WgCommlibPreloadGlobalConfig",(function(t){var n={};try{n=JSON.parse(t)}catch(e){n={}}e(n)}))}))}},{key:"isEnable",value:(t=(0,o.default)(r.default.mark((function e(t){var n,i,o,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p()){e.next=2;break}return e.abrupt("return",!1);case 2:if((n=u.getValue(t,"static_resources"))&&n.resources_key){e.next=5;break}return e.abrupt("return",!1);case 5:if(i=Math.floor(Date.now()/1e3),o=c.window.navigator.userAgent,!(n.start_time&&n.start_time>i)){e.next=9;break}return e.abrupt("return",!1);case 9:if(!(n.end_time&&n.end_time<i)){e.next=11;break}return e.abrupt("return",!1);case 11:if(!d.isWepkg()&&d.isiOS&&n.os_version&&-1!==o.indexOf("OS ".concat(n.os_version))){e.next=13;break}return e.abrupt("return",!1);case 13:if(n.full_site_enable||n.include_short_url&&n.include_short_url.find((function(e){return location.pathname.indexOf(e)>-1}))){e.next=15;break}return e.abrupt("return",!1);case 15:return e.next=17,this.getLocalPreloaderConfig();case 17:if(!(a=e.sent)||a.loaded_resources_key!==n.resources_key){e.next=20;break}return e.abrupt("return",!1);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"preload",value:function(e){var t=document.createElement("iframe");t.style.display="none",t.src=f,t.addEventListener("load",(function(){t.contentWindow.postMessage({type:"StartPreload",resources:{images:u.getValue(e,"static_resources.images"),videos:u.getValue(e,"static_resources.videos"),scripts:u.getValue(e,"static_resources.scripts"),styles:u.getValue(e,"static_resources.styles")}},f)})),document.body.appendChild(t),window.addEventListener("message",(function(t){if("https://game.weixin.qq.com"===t.origin){var n=t.data;n&&"EndPreload"===n.type&&l.setKeyValue("WgCommlibPreloadGlobalConfig",JSON.stringify({loaded_resources_key:u.getValue(e,"static_resources.resources_key")}))}}))}}]),e}();t.default=g},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(10)),a=n(3),s=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"use",value:function(e){this.config=e}},{key:"canIReport",value:function(){var e,t=a.getValue(this,"config.random_config");return!t||("boolean"==typeof this._canIReport||(this._canIReport=(e=Math.floor(Date.now()/1e3),!!(t.start_time&&t.start_time>e)||!!(t.end_time&&t.end_time<e)||!(t.full_site_enable||t.include_short_url&&t.include_short_url.find((function(e){return location.pathname.indexOf(e)>-1})))||100*Math.random()<t.random_rate)),this._canIReport)}}]),e}();t.default=s},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(10)),a=n(2).default,s=n(3),l=function(){function e(t){(0,r.default)(this,e),this.context=t,this.isDisableImmersiveWhenIgnore=this._checkIsDisableImmersive(!0),this.isDisableImmersive=this._checkIsDisableImmersive()}return(0,o.default)(e,[{key:"use",value:function(e){this.config=e}},{key:"_isGameWebView",value:function(){var e,t;return a.isAndroid?a.isLuggage:!!a.isWepkg()||void 0!==(null===(e=window)||void 0===e||null===(t=e.wgclient)||void 0===t?void 0:t.__isGameCenterScene__)&&!!window.wgclient.__isGameCenterScene__}},{key:"_checkIsDisableImmersive",value:function(e){return e?!(!a.isiOS||a.versionCompare(a.clientVersion(!0),"7.0.16")>=0)||!this._isGameWebView():a.isiOS&&a.versionCompare(a.clientVersion(!0),"7.0.20")>=0?!this._isGameWebView():!(a.isAndroid&&a.versionCompare(a.clientVersion(!0),"7.0.21")>=0)}},{key:"checkNeedImmersiveParamInUrl",value:function(e){var t=s.getValue(this,"config.immersive.list");if(!t||!t.length)return!1;var n=t.find((function(t){return e.indexOf(t.short_url)>-1}));return!!n&&(n.ignore_wgclient_info?!this.isDisableImmersiveWhenIgnore:!this.isDisableImmersive)}},{key:"getLiteAppPathConfig",value:function(e){var t,n,i=this,r=null===(t=this.config)||void 0===t?void 0:t.liteapp;if(r&&!a.isMiniprogram()){var o=location.pathname;if(!this.context.ui.isFilterGray()){var s={hexClientVersion:a.getHexClientVersion(),device:a.isiOS?1:2};if("boolean"!=typeof this.isSupportLiteAppInGlobal&&(this.isSupportLiteAppInGlobal=this._isSupportLiteApp(r,s,!0)),this.isSupportLiteAppInGlobal)return null===(n=r.list)||void 0===n?void 0:n.find((function(t){var n,r,a;return-1!==e.indexOf(t.url)&&(!!(t.full_site_enable||null!==(n=t.include_short_url)&&void 0!==n&&n.find((function(e){return o.indexOf(e)>-1})))&&(!!/^wx/.test(null===(r=t.liteapp_info)||void 0===r?void 0:r.appid)&&(!(null===(a=t.liteapp_info)||void 0===a||!a.path)&&i._isSupportLiteApp(t,s,!1))))}))}}}},{key:"_isValidHexClientVersion",value:function(e){return e&&/^0x/.test(e)}},{key:"_filterVersions",value:function(e,t){var n=this;return e.some((function(e){var i=n._isValidHexClientVersion(e.min),r=n._isValidHexClientVersion(e.max);return i&&r?t>=Number(e.min)&&t<=Number(e.max):i?t>=Number(e.min):!!r&&t<=Number(e.max)}))}},{key:"_isSupportLiteApp",value:function(e,t,n){if(n&&void 0===e.device)return!1;if(void 0!==e.device&&0==(t.device&e.device))return!1;var i,r,o,s=[];if(a.isiOS)s=(null===(r=e.ios)||void 0===r?void 0:r.exclude_versions)||[],i=null===(o=e.ios)||void 0===o?void 0:o.include_versions;else if(a.isAndroid){var l,d;s=(null===(l=e.android)||void 0===l?void 0:l.exclude_versions)||[],i=null===(d=e.android)||void 0===d?void 0:d.include_versions}return!this._filterVersions(s,t.hexClientVersion)&&(void 0===i?!n:this._filterVersions(i,t.hexClientVersion))}}]),e}();t.default=l},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(19)),o=i(n(9)),a=i(n(10));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var l=n(6).default,d=n(3).default,c=n(36).default,u={1:"appid",2:"gameid"},f=/\/cgi-bin\/([^/]+)\/static\//,p=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"use",value:function(e){this.config=e,this._init()}},{key:"getGrantConfig",value:function(e){var t,n=e||location.pathname,i=null===(t=this.config)||void 0===t?void 0:t.list;if(!i||!i.length)return null;if(!f.test(n))return null;var r=i.find((function(e){return n.indexOf(e.short_url)>-1}));return r||null}},{key:"_init",value:function(){if(!this.inited){this.inited=!0;var e=this.getGrantConfig();e&&(1!==e.type||this._interceptByMiddlePage(e))}}},{key:"_interceptByMiddlePage",value:function(e){var t=this._getAppid(e);t&&this._getAuthStatus({biz_id:e.biz_id,appid:t}).then((function(n){new c({grantInfo:{is_auth:n,appid:t,biz_id:e.biz_id,type:2},url:location.href})}))}},{key:"_getAppid",value:function(e){var t=e.appid_from||1,n=u[t]||"appid";return d.getQueryStr(n)||e.default_appid}},{key:"_getAuthStatus",value:function(e){return new Promise((function(t){l("/cgi-bin/gameusergrantwap/getusergrantbizcontrol",JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({method:"POST"},e)),(function(e){var n;0===(null==e?void 0:e.errcode)&&null!=e&&e.data&&t(null===(n=e.data)||void 0===n?void 0:n.is_auth)}))}))}}]),e}();t.default=p},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(10)),a=n(2).default,s=n(3),l=/\/cgi-bin\/([^/]+)\/static\//,d=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"use",value:function(e){this.config=e}},{key:"checkIsDisable",value:function(e){var t=location.pathname,n=s.getValue(this,"config.list");if(!n||!n.length)return!1;if(!l.test(t))return!1;var i=n.find((function(t){return t.menu_type===e}));return this.checkConfig(i)}},{key:"checkConfig",value:function(e){if(!e)return!1;if(void 0===e.device)return!1;if(0==((a.isAndroid?2:1)&e.device))return!1;var t,n,i=[],r=[];if(a.isiOS)i=(null===(t=e.ios)||void 0===t?void 0:t.exclude_versions)||[],r=null===(n=e.ios)||void 0===n?void 0:n.include_versions;else if(a.isAndroid){var o,s;i=(null===(o=e.android)||void 0===o?void 0:o.exclude_versions)||[],r=null===(s=e.android)||void 0===s?void 0:s.include_versions}return this.filterVersions(i,a.getHexClientVersion())?!e.share_menu_disable:void 0===r||this.filterVersions(r,a.getHexClientVersion())?e.share_menu_disable||!1:!e.share_menu_disable}},{key:"filterVersions",value:function(e,t){var n=this;return e.some((function(e){var i=n.isValidHexClientVersion(e.min),r=n.isValidHexClientVersion(e.max);return i&&r?t>=Number(e.min)&&t<=Number(e.max):i?t>=Number(e.min):!!r&&t<=Number(e.max)}))}},{key:"isValidHexClientVersion",value:function(e){return e&&/^0x/.test(e)}}]),e}();t.default=d},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(10)),a=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"use",value:function(e){this.config=e}},{key:"isBan",value:function(e){var t,n=this.config;if(!n||!e)return!1;if(null===(t=n.ban_list)||void 0===t||!t.includes(e))return this.isSecurityBan(e);var i=Math.floor(Date.now()/1e3);if(n.start_time&&n.start_time>i)return this.isSecurityBan(e);if(n.end_time&&n.end_time<i)return this.isSecurityBan(e);var r=location.pathname;return!!(n.full_site_enable||n.include_short_url&&n.include_short_url.find((function(e){return r.indexOf("".concat(e,".html"))>-1})))||this.isSecurityBan(e)}},{key:"isSecurityBan",value:function(e){var t,n=this.config;if(!n||!e)return!1;var i=Math.floor(Date.now()/1e3),r=null===(t=n.security_ban_list)||void 0===t?void 0:t.find((function(t){return t.ban_op===e}));return!!r&&(!(r.start_time&&r.start_time>i)&&!(r.end_time&&r.end_time<i))}}]),e}();t.default=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(10)),a=i(n(87)),s=n(3),l=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"use",value:function(e){if(this.config=e,this.isFilterGray())try{document.documentElement.style.filter="grayscale(1)",a.default.setNavigationBarColor({reuseLatestParams:!0})}catch(e){}}},{key:"isFilterGray",value:function(){var e=s.getValue(this,"config.filter_gray");if(!e)return!1;var t=Math.floor(Date.now()/1e3);return!(e.start_time&&e.start_time>t)&&(!(e.end_time&&e.end_time<t)&&!!(e.full_site_enable||e.include_short_url&&e.include_short_url.find((function(e){return location.pathname.indexOf(e+".html")>-1}))))}},{key:"getCustomNavigationConfig",value:function(){var e=s.getValue(this,"config.custom_navigation"),t=null;return(null==e?void 0:e.length)>0&&e.forEach((function(e){location.pathname.indexOf(e.short_url+".html")>-1&&(t=e)})),t}}]),e}();t.default=l},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.setNavigationBarColor=t.default=void 0;var r,o=i(n(5));o.default.setNavigationBarColor=o.default.setNavigationBarColor||function(e,t){var n;null!==(n=e)&&void 0!==n&&n.reuseLatestParams&&(e=r),r=e,o.default.invoke("setNavigationBarColor",e,t)};var a=o.default;t.default=a;var s=o.default.setNavigationBarColor;t.setNavigationBarColor=s},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(9)),a=i(n(10)),s=n(2).default,l=(r=s.clientVersion(!0),!(s.isMiniprogram()||!(s.isiOS&&s.versionCompare(r,"8.0.18")>=0)&&!(s.isAndroid&&s.isLuggage&&s.versionCompare(r,"8.0.24")>=0))),d=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"use",value:function(e){this.config=e}},{key:"getWebTransferUrlConfig",value:function(e){var t;if(!l||!e)return!1;var n=null===(t=this.config)||void 0===t?void 0:t.scope_list;if(n&&n.length){var i=n.find((function(t){var n;return null===(n=t.url_list)||void 0===n?void 0:n.find((function(t){return e.indexOf(t)>-1}))}));return i?{scope:i.scope,url:e,h5_url:i.h5_url}:void 0}}}]),e}();t.default=d},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(10)),a=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"use",value:function(e){this.config=e}},{key:"getExpireCacheConfig",value:function(e){var t,n=null===(t=this.config)||void 0===t?void 0:t.expire_cache_list;if(n&&n.length&&e){var i=n.find((function(t){return t.key?t.key===e:!!t.prefix&&0===e.indexOf(t.prefix)}));return i||void 0}}},{key:"needRemoveCache",value:function(e){var t,n=null===(t=this.config)||void 0===t?void 0:t.remove_cache_list;if(!n||!n.length||!e)return!1;var i=n.find((function(t){return t.key?t.key===e:!!t.prefix&&0===e.indexOf(t.prefix)}));if(i){var r=Math.floor(Date.now()/1e3);return!(i.start_time&&i.start_time>r)&&!(i.end_time&&i.end_time<r)}return!1}}]),e}();t.default=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(10)),a=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"use",value:function(e){this.config=e}},{key:"getAppConfig",value:function(e){if(e&&this.config)return this.config[e]||void 0}}]),e}();t.default=a},function(e,t,n){"use strict";n(92).polyfill()},function(e,t,n){"use strict";function i(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o=Object.keys(Object(r)),a=0,s=o.length;a<s;a++){var l=o[a],d=Object.getOwnPropertyDescriptor(r,l);void 0!==d&&d.enumerable&&(n[l]=r[l])}}return n}e.exports={assign:i,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}}},function(e,t,n){"use strict";(function(e){var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(97)),a=i(n(98)),s=i(n(99)),l=setTimeout;function d(e){return Boolean(e&&void 0!==e.length)}function c(){}function u(e){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function f(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,u._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void g(t.promise,e)}p(t.promise,i)}else(1===e._state?p:g)(t.promise,e._value)}))):e._deferreds.push(t)}function p(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(0,r.default)(t)||"function"==typeof t)){var n=t.then;if(t instanceof u)return e._state=3,e._value=t,void _(e);if("function"==typeof n)return void h((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,_(e)}catch(t){g(e,t)}var i,o}function g(e,t){e._state=2,e._value=t,_(e)}function _(e){2===e._state&&0===e._deferreds.length&&u._immediateFn((function(){e._handled||u._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)f(e,e._deferreds[t]);e._deferreds=null}function m(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e((function(e){n||(n=!0,p(t,e))}),(function(e){n||(n=!0,g(t,e))}))}catch(e){if(n)return;n=!0,g(t,e)}}u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){var n=new this.constructor(c);return f(this,new m(e,t,n)),n},u.prototype.finally=o.default,u.all=function(e){return new u((function(t,n){if(!d(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function a(e,s){try{if(s&&("object"===(0,r.default)(s)||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,(function(t){a(e,t)}),n)}i[e]=s,0==--o&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)a(s,i[s])}))},u.any=s.default,u.allSettled=a.default,u.resolve=function(e){return e&&"object"===(0,r.default)(e)&&e.constructor===u?e:new u((function(t){t(e)}))},u.reject=function(e){return new u((function(t,n){n(e)}))},u.race=function(e){return new u((function(t,n){if(!d(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)u.resolve(e[i]).then(t,n)}))},u._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){l(e,0)},u._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var w=u;t.default=w}).call(this,n(94).setImmediate)},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(95),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(20))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,l=1,d={},c=!1,u=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){g(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){g(e.data)},i=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,i=function(e){var t=u.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(g,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&g(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return d[l]=r,i(l),l++},f.clearImmediate=p}function p(e){delete d[e]}function g(e){if(c)setTimeout(g,0,e);else{var t=d[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(20),n(96))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,d=[],c=!1,u=-1;function f(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||c||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1));var o=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError((0,r.default)(e)+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function a(e,n){if(n&&("object"===(0,r.default)(n)||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(t){a(e,t)}),(function(n){i[e]={status:"rejected",reason:n},0==--o&&t(i)}))}i[e]={status:"fulfilled",value:n},0==--o&&t(i)}for(var s=0;s<i.length;s++)a(s,i[s])}))};t.default=o},function(e,t,n){"use strict";function i(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i.prototype=Error.prototype;var r=function(e){var t=this;return new t((function(n,r){if(!e||void 0===e.length)return r(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return r();for(var a=[],s=0;s<o.length;s++)try{t.resolve(o[s]).then(n).catch((function(e){a.push(e),a.length===o.length&&r(new i(a,"All promises were rejected"))}))}catch(e){r(e)}}))};t.default=r},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.reportGameWeb=t.default=void 0;var r=i(n(5));r.default.reportGameWeb=r.default.reportGameWeb||function(e,t){r.default.invoke("reportGameWeb",e,t)};var o=r.default;t.default=o;var a=r.default.reportGameWeb;t.reportGameWeb=a},function(e,t){e.exports={fastAndroidJsapi:function(e){var t=e.Env;if(t.isAndroid&&t.isWechat)try{var n=document.createElement("script");n.src="weixin://game.js";var i=document.getElementsByTagName("head");if(i[0]){var r=i[0].firstElementChild;i[0].insertBefore(n,r)}}catch(e){}}}},function(e,t,n){n(3);var i=n(23).default,r=n(46).default,o=n(16);e.exports={maxWaitTime:15e3,MinRowHeight:48,reportRateB:function(){var e=this.getPreCache();if("empty"!=e.fromUrl){var t=Date.now();if(t-e.time<=this.maxWaitTime)i.StartRuner("openRateEnd",{}).EndLogic({err_msg:JSON.stringify({cost_time:t-1*e.time,fromUrl:e.fromUrl})}),this.deletePreCache()}},getPureUrl:function(){var e=window.location.href||"";return e=e.replace(/\?{1,}(.*)/,"").replace(/^http(s)?:\/\//,"")},getPreCache:function(){var e={fromUrl:"empty",time:0};try{var t="openRate_"+this.getPureUrl(),n=o.getKeyValue(t);try{var i=JSON.parse(n+"");return i.fromUrl&&i.time>0?{fromUrl:i.fromUrl||"cachenogot",time:1*(i.time||i)}:e}catch(e){}return e}catch(t){return e}},deletePreCache:function(){try{var e=window.location.href||"",t="openRate_"+(e=e.replace(/\?{1,}(.*)/,"").replace(/^http(s)?:\/\//,""));localStorage.removeItem(t)}catch(e){}},bodyChange:function(e,t){if(!0!==this.reported)for(var n=0;n<e.length;n++){var i=e[n];if("childList"==i.type)if(((i.target||{}).offsetHeight||0)>this.MinRowHeight){this.reported=!0,this.reportRateB(),this.reportWhiteScreen(),t.disconnect();break}}},addObserver:function(){if(document.body.offsetHeight>this.MinRowHeight)return this.reported=!0,this.reportRateB(),void this.reportWhiteScreen();if(MutationObserver){var e=new MutationObserver(function(e,t){this.bodyChange(e,t)}.bind(this)),t=document.body;e.observe(t,{attributes:!1,childList:!0,subtree:!0})}else{i.StartRuner("openRateEnd",{}).EndLogic({err_msg:"MutationObserver_not_support"});var n=setInterval(function(){document.body.offsetHeight>this.MinRowHeight&&(this.reported=!0,this.reportRateB(),this.reportWhiteScreen(),clearInterval(n))}.bind(this),100)}},addOpenRateB:function(){try{"complete"===document.readyState?this.addObserver():window.addEventListener("DOMContentLoaded",function(){this.addObserver()}.bind(this),!1)}catch(e){}},reportWhiteScreen:function(){this.whiteScreenReported||(r.reportWhiteScreen(),this.whiteScreenReported=!0)}}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorReport=void 0,t.toNumber=p,t.toString=g;var r=i(n(1)),o=i(n(9)),a=i(n(10)),s=i(n(15)),l=i(n(6)),d=i(n(2)),c=i(n(35)),u=function(){function e(t){if((0,o.default)(this,e),this.TAG="MonitorReport",!t)throw new Error("[".concat(this.TAG,"] Must set appid first!"));this._appid=t,this._params={},this._cacheMonitorArray=[],this._hbMonitorArray=[],this._heatbeatTimer=null,this._heatbeatRate=6e4}return(0,a.default)(e,[{key:"destroy",value:function(){this._heatbeatTimer&&(clearInterval(this._heatbeatTimer),this._heatbeatTimer=null),this._params={},this._cacheMonitorArray=[],this._hbMonitorArray=[]}},{key:"setBase",value:function(e){return null!==e&&"object"===(0,r.default)(e)&&(this._params=e),this}},{key:"saveData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==t.length)return t.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.id)throw new Error("Must provide a id!");e._cacheMonitorArray.push(Object.assign({time:Math.round(Date.now()/1e3)},e._params,t))})),this}},{key:"send",value:function(e){return this.saveData(e),this._cacheMonitorArray.length>0&&this._rpt(this._cacheMonitorArray),this._cacheMonitorArray=[],this}},{key:"addHbs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==(t=t.filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;return n?e.getHbMonitorPosition(n)>-1?(console.warn("[".concat(e.TAG," addHbs] ").concat(n," had existed")),!1):(t.type=1,Object.assign(t,e._params),!0):(console.warn("[".concat(e.TAG," addHbs] ").concat(n," not existed")),!1)}))).length){if(this._hbMonitorArray=this._hbMonitorArray.concat(t),!this._heatbeatTimer){var n=function(){e._hbMonitorArray.forEach((function(t){Object.assign(t,e._params)})),e._rpt(e._hbMonitorArray)};n(),this._heatbeatTimer=setInterval(n,this._heatbeatRate)}return this}}},{key:"removeHb",value:function(e){var t=this.getHbMonitorPosition(e);return-1===t?(console.warn("[".concat(this.TAG," removeHb] ").concat(e," not exist")),this):(this._hbMonitorArray.splice(t,1),0===this._hbMonitorArray.length&&this._heatbeatTimer&&(clearInterval(this._heatbeatTimer),this._heatbeatTimer=null),this)}},{key:"getHbMonitorPosition",value:function(e){var t=-1;return this._hbMonitorArray.some((function(n,i){if(n.id===e)return t=i,!0})),t}},{key:"getApt",value:function(){return c.default.hadJscoreInited()?"undefined"!=typeof __INITIAL_STATE__?8:4|(d.default.isWepkg()?2:1):d.default.isWepkg()?2:1}},{key:"_rpt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(0!==e.length){for(var n=s.default.reportObj,i=[],r=0,o=e.length;r<o;r++){var a=e[r];i.push({AppID:g(a.appId||this._appid),PageKey:g(a.path||location.origin+location.pathname),ReportType:p(a.type),GameID:g(a.gameId),MonitorID:g(a.id),Value:p(a.value),Time:p(a.time),ExtreInfo:g(a.extreInfo),CustomKey1:g(a.key1),CustomKey2:g(a.key2),CustomKey3:g(a.key3),CustomKey4:g(a.key4),CustomKey5:g(a.key5),CustomKey6:g(a.key6),CustomKey7:g(a.key7),CustomKey8:g(a.key8),CustomKey9:g(a.key9),CustomKey10:g(a.key10),CustomKey11:g(a.key11),CustomKey12:g(a.key12),CustomKey13:g(a.key13),CustomKey14:g(a.key14),CustomKey15:g(a.key15),Device:p("iphone"==n.device?1:2),ClientVersion:p(n.clientVersion),DeviceModel:"",DeviceBrand:"",WindowSize:"".concat(window.innerWidth,"x").concat(window.innerHeight),ScreenSize:"".concat(window.outerWidth,"x").concat(window.outerHeight),ConnectType:p(n.networktype||1),SdkVersion:0,Abt:this.getApt()})}!function(e,t){d.default.canIReport()&&setTimeout((function(){f({url:"https://game.weixin.qq.com/cgi-bin/comm/perfstat",method:"POST",data:{batchdata:e},success:function(e){t&&t("success")},fail:function(e){t&&t("fail")}})}),100)}(i,t)}}}]),e}();function f(e){var t=this,n=e.data||{};n.method=e.method||"POST",(0,l.default)(e.url,JSON.stringify(n),(function(n){e.complete&&e.complete.call(t,n),e.success&&e.success.call(t,n)}),(function(n){e.complete&&e.complete.call(t,n),e.fail&&e.fail.call(t,n)}))}function p(e){return("number"!=typeof(e=+e)||isNaN(e))&&(e=0),parseInt(e)}function g(e){return"number"!=typeof e||isNaN(e)||(e+=""),"string"==typeof e?e:""}t.MonitorReport=u},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(19)),a=i(n(4)),s=i(n(2)),l=i(n(105)),d=i(n(8)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(106)),u=i(n(48)),f=i(n(107)),p=i(n(108)),g=i(n(109)),_=i(n(110)),m=i(n(111)),h=i(n(16)),w=i(n(6)),v=i(n(22));n(14),n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120);var A=i(n(17)),b=i(n(49)),y=i(n(37));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={};if(!s.default.isCSR){var C=function(e){return e===Q.reserved||e===Q.un_reserve},O=function e(){return e.instance?e.instance:(this.allAppMap={},this.controllerMap={},e.instance=this)},E=function(e){var t=this,n=e.appitemList||[],i=e.btnList||[],r=e.config||{},o=e.params||{},a=e.callback||{};if(this.config=U.extendDeep(J,X,r,o),this.id=U.uuid(),void 0===r.isShowDownloadingCancelTips){var s=location.href;V.some((function(e){if(s.indexOf(e)>-1)return t.config.isShowDownloadingCancelTips=!0,!0}))}r.needBtnTextAutoUpdate&&r.wordDomClassName,o.sceneid;var l=this;return this.allAppMap={},this.params=o,this.progressCbks=this.progressCbks||[],this.actionCbks=this.actionCbks||[],this.textChangeCbks=this.textChangeCbks||[],this.addCallback(a),this.callback={progress:function(e){l.progressCbks.forEach((function(t){t(e)}))},action:function(e){l.actionCbks.forEach((function(t){console.log("action cbks"),t(e)}))},textChange:function(e){l.textChangeCbks.forEach((function(t){t(e)}))}},this.appWareHouse=new O,this.appWareHouse.register({id:this.id,config:this.config,callback:{statusChangeCbk:this.statusChangeCbk.bind(this),statusReadyCbk:this.statusReadyCbk.bind(this),progressChangeCbk:this.progressChangeCbk.bind(this)}}),this.throttleSetBtnWordAndProgressFuncMap=this.throttleSetBtnWordAndProgressFuncMap||{},this.throttleSetBtnWordAndProgress=function(e){return l.throttleSetBtnWordAndProgressFuncMap[e]||(l.throttleSetBtnWordAndProgressFuncMap[e]=U.throttle(this.setBtnWordAndProgress,100,l)),l.throttleSetBtnWordAndProgressFuncMap[e]},this.listenEvent(),this.append({appitemList:n,btnList:i}),!0===this.config.needPreloadHalfAS&&this.preloadHalfAppStore({appitemList:n,params:o}),P(n||[]),this},T=function(e,t){for(var n=0;n<e.length;n++)if(e[n].toString()==t.toString())return!0;return!1},P=function(e){window.__appitem_send_version_list__||(window.__appitem_send_version_list__=[]);var t=["wxa9bfa582cdb099fb"];e.forEach((function(e){e&&e.AppID&&(e.new_game_desc||t.indexOf(e.AppID)>-1)&&-1===window.__appitem_send_version_list__.indexOf(e.AppID)&&(window.__appitem_send_version_list__.push(e.AppID),d.default.verifyJsapi(["getGameCommInfo"],(function(t){d.default.invoke("getGameCommInfo",{cmd:10011,param:{appid:e.AppID,version:e.biz_version||0}},(function(e){}))})))}))},M=function(e,t){var n=e.err_msg||"",i=t.replace(/[A-Z]/g,(function(e){return"_"+String.fromCharCode(e.charCodeAt(0)+32)}));return!(-1==n.indexOf(t)&&-1==n.indexOf(i)||-1==n.indexOf("ok")&&-1==n.indexOf("yes"))},D=function(e,t,n,i){var r={};r.err_msg=n.err_msg||"",r.type=i,"reserve_for_wifi"in n&&(r.reserve_for_wifi=n.reserve_for_wifi),n.err_msg.indexOf("cancel")>-1&&(0,A.default)([{iSceneId:t.sceneid||34,iUIArea:t.uiarea||0,iActionId:61,iOpType:2,sGameId:e.AppID,iPositionId:t.position,sExternInfo:JSON.stringify(r)}]),(0,A.default)([{iSceneId:t.sceneid||34,iUIArea:t.uiarea||0,iActionId:20018,iOpType:2,sGameId:e.AppID,iPositionId:t.position,sExternInfo:JSON.stringify(r)}])},B=function(e){try{var t=localStorage.getItem("APPBTN_progress_"+e);return JSON.parse(t||"{}").progress||""}catch(e){return""}},j=function(e){var t=e.appid,n=e.progress;localStorage.setItem("APPBTN_progress_"+t,JSON.stringify({progress:n}))},L=function(e,t){var n=[],i=[],r={},o=[],a=[],l=[],c=[],u=[],f=[],p=[],g=[],_=[],m=[],h=[],w=[],v=[],A=[],b=[],y={};function k(e){var t={},n={installedAppIdList:Q.installed,unDownloadAppIdList:Q.un_download,downloadingAppIdList:Q.downloading,downloadedAppIdList:Q.downloaded,updateAppIdList:Q.un_update,waitWifiAppIdList:Q.wait_wifi,pauseAppIdList:Q.pause,unReserveAppIdList:Q.un_reserve,reservedAppIdList:Q.reserved,h5AppIdList:Q.h5,todoAppIdList:Q.todo,tryPlayAppIdList:Q.try_play};return["unDownloadAppIdList","unReserveAppIdList","reservedAppIdList","tryPlayAppIdList","updateAppIdList","downloadedAppIdList","installedAppIdList","pauseAppIdList","waitWifiAppIdList","downloadingAppIdList","h5AppIdList","todoAppIdList"].forEach((function(i){(e[i]||[]).forEach((function(e){t[e]=n[i]}))})),t}((e=e||[]).forEach((function(e){var t=e.AppID;b.push(t),y[t]=e})),e.forEach((function(e){var t=e.AppID,o=R(e);switch(o){case Q.un_reserve:g.push(t);break;case Q.reserved:_.push(t);break;case Q.todo:m.push(t);break;case Q.h5:v.push(t);break;case Q.h5_and_app:w.push(t);default:o===Q.try_play&&h.push(t),(e.package_name_list||[e.PackageName]).forEach((function(e){-1==n.indexOf(e)&&(n.push(e),r[e]=t)})),i.push(t+"://"),A.push(t),s.default.isiOS&&a.push(t)}})),s.default.isAndroid)?(console.warn("getInstallState start",n,(new Date).getTime()),d.default.getInstallState({packageName:n,packageUrl:i},(function(e){!function(e){if(e.err_msg.indexOf(":yes")>-1){var t=s.default.isiOS?e.result:JSON.parse(e.result);for(var n in t){var i=t[n];if(n=n.replace(/:\/+$/g,""),-1!=b.indexOf(n)&&o.push(n),r[n]){var a=r[n];i>0&&o.push(a);var l=i,d=y[a].VersionCode;l&&d&&d>l&&(p.push(a),o.pop())}}}}(e),U.log("getInstallState end",n,(new Date).getTime()),d.default.queryDownloadTask({appIdArray:b},(function(e){var n={};U.log("queryDownload end",b,(new Date).getTime()),e.result&&(n=JSON.parse(e.result)),function(e){for(var t in e){var n=t.replace("://",""),i=e[t];-1==o.indexOf(n)&&(-1==w.indexOf(n)||-1!=i.download_id&&"default"!=i.state&&"download_fail"!=i.state?(-1!=i.download_id&&"default"!=i.state||(1==i.reserve_for_wifi?f.push(n):a.push(n)),"download_succ"==i.state&&c.push(n),"downloading"==i.state&&l.push(n),"download_pause"==i.state&&(1==i.reserve_for_wifi?f.push(n):u.push(n)),"download_fail"==i.state&&a.push(n)):v.push(n))}}(n),function(e){for(var t in e){var n=t.replace("://",""),i=e[t],r=i.progress;r&&r>=0&&j({appid:n,progress:i.progress})}}(n),t(k({installedAppIdList:o,unDownloadAppIdList:a,downloadingAppIdList:l,downloadedAppIdList:c,pauseAppIdList:u,waitWifiAppIdList:f,updateAppIdList:p,unReserveAppIdList:g,reservedAppIdList:_,todoAppIdList:m,h5AppIdList:v,tryPlayAppIdList:h}))}))}))):t(k({installedAppIdList:o,unDownloadAppIdList:a,downloadingAppIdList:l,downloadedAppIdList:c,pauseAppIdList:u,waitWifiAppIdList:f,updateAppIdList:p,unReserveAppIdList:g,reservedAppIdList:_,todoAppIdList:m,h5AppIdList:v,tryPlayAppIdList:h}))},W=function(e){return this.status=e.status,this.appid=e.appid,this.statusChangeCbk=e.statusChangeCbk,this.progressChangeCbk=e.progressChangeCbk,this.statusReadyCbk=e.statusReadyCbk,this.statusRefreshCbk=e.statusRefreshCbk,this.appitem=e.appitem,this.isInited=!1,this.isChecking=!1,this.stack=[],this.listenEvent(),this},R=function(e){var t,n=e.Status;switch(e.IsSubscribed&&(t=Q.reserved),n){case 0:t=Q.un_download;break;case 1:t!=Q.reserved&&(t=Q.un_reserve);break;case 4:t=Q.try_play;break;case 5:t=Q.todo;break;case 20:t!=Q.reserved&&(t=Q.un_reserve)}1==e.AppType&&(t=Q.h5),2==e.AppType&&(t=Q.h5_and_app);var i=function(e){try{var t=localStorage.getItem("APPBTN_status_"+e);return JSON.parse(t||"{}").status||""}catch(e){return""}}(e.AppID);return i&&(i==t||t!=Q.un_download||i!=Q.downloading&&i!=Q.pause&&i!=Q.installed&&i!=Q.downloaded||(t=i)),t},G=function(e,t){var n=R(e);s.default.isAndroid&&(n!=Q.un_reserve&&n!=Q.reserved&&n!=Q.todo&&n!=Q.h5||t(n)),s.default.isiOS?t(n):d.default.getInstallState({packageName:e.PackageName,packageUrl:e.AppID+"://"},(function(i){if(-1!=i.err_msg.indexOf("yes")){n=Q.installed;var r=i.err_msg?parseInt(i.err_msg.substring(i.err_msg.lastIndexOf("_")+1)):0,o=e.VersionCode;r&&o&&o>r&&(n=Q.un_update)}d.default.queryDownloadTask({appid:e.AppID},(function(i){var r=i.download_id,o=i.state,a=i.progress||0,s=i.reserve_for_wifi;-1!=r&&-1==o.indexOf("default")||(n==Q.un_reserve||n==Q.reserved||n==Q.todo||n==Q.h5?n=n:n!=Q.installed&&n!=Q.un_update&&n!=Q.h5_and_app&&(n=Q.un_download),n==Q.h5_and_app&&(n=Q.h5),1==s&&(n=Q.wait_wifi)),o.indexOf("_succ")>-1?n=Q.downloaded:o.indexOf("pause")>-1?n=1==s?Q.wait_wifi:Q.pause:o.indexOf("downloading")>-1?n=Q.downloading:o.indexOf("_fail")>-1&&n!=Q.installed&&n!=Q.un_update&&(n=Q.un_download),a&&a>=0&&j({appid:e.AppID,progress:a}),t(n)}))}))},N=function(e,t){try{for(var n in{AppID:"xxxx",DownloadInfo:{DownloadURL:"xx",AndroidApkMd5:"xxx",AndroidApkSize:111},PackageName:"xxx",AppType:0,VersionCode:"xxx",HVAppInfo:{LaunchUrl:"xxxx"},Status:0,IsSubscribed:!1,has_sp_launch_privilege:!1})if(JSON.stringify(e[n])!=JSON.stringify(t[n]))return!1;return!0}catch(e){return!1}},F=a.default.window;window.__reserveWifiList__||(window.__reserveWifiList__=[]);var U=c.extend(c,{isArray:function(e){return e.constructor==Array},isElementInViewport:function(e,t,n){var i=e.getBoundingClientRect(),r=n||i.width/2,o=t||i.height/2,a=window.innerHeight,s=window.innerWidth;document.documentElement.clientHeight,document.documentElement.clientWidth;return i.height>0&&i.width>0&&(i.top>=0&&i.top<=a-o||i.bottom>=o&&i.bottom<=a)&&(i.left>=0&&i.left<=s-r||i.right>=r&&i.right<=s)},debounce:function(e,t,n){var i;return function(){var r=arguments;i||(i=setTimeout((function(){e.apply(n,r),i=null}),t))}},log:function(){var e=arguments,t=window.logInfo||t;try{window.logInfo||t?t.apply(window,e):console.log.apply(null,e)}catch(e){console.log(e)}},uuid:function(){var e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}}),Q={un_ready:"un_ready",un_download:"un_download",un_reserve:"un_reserve",try_play:"try_play",todo:"todo",reserved:"reserved",h5:"h5",h5_and_app:"h5_and_app",installed:"installed",downloaded:"downloaded",downloading:"downloading",checking:"checking",un_update:"un_update",pause:"pause",cancel:"cancel",install:"install",wait_wifi:"wait_wifi"},J={launchIOSAppText:"WX_GameCenter",launchAndroidAppText:"WX_GameCenter"},V=["game.weixin.qq.com/cgi-bin/actnew/newportalact/","game.weixin.qq.com/cgi-bin/h5/static/appcenter/category_lv2.html","game.weixin.qq.com/cgi-bin/h5/static/appcenter/findgame.html","game.weixin.qq.com/cgi-bin/h5/static/search_v2/index.html","game.weixin.qq.com/cgi-bin/h5/static/gamecenter/newplatgames.html"],X={downloadInternal:!0,iosDefaultText:"进入",iosReserveText:"预约",iosReservedText:"已预约",installText:"安装",downIngText:"下载中",pauseText:"恢复",androidStartText:"启动",androidDownText:"下载",androidUpdateText:"更新",checkingText:"校验中",todoText:"敬请期待",tryPlayText:"试玩",androidReserveText:"预约",androidReservedText:"已预约",waitWifiText:"等待Wi-Fi",h5StartText:"启动",needBtnTextAutoUpdate:!0,forceQueryAll:!1,actionFlag:{canPauseDownload:!0}};O.instance=null,O.prototype.register=function(e){var t=this.controllerMap,n=e.id,i=e.config,r=e.callback;t[n]||(t[n]={config:i,callback:r})};var H={batchQueryAppStatus:"batchQueryAppStatus",queryAppStatus:"queryAppStatus",queryAppStatusDone:"queryAppStatusDone",statusReady:"statusReady"};O.prototype.queryAppListStatus=function(e,t){var n=this,i=[];e.forEach((function(e){if(n.allAppMap[e]&&n.allAppMap[e].appitem){var t=n.allAppMap[e].appitem;i.push(t)}})),L(i,(function(e){t(e)}))},O.prototype.append=function(e){var t=this;e.id;(e.appitemList||[]).forEach((function(e){var n=e.AppID;t.checkUpdateApp({appid:n,appitem:e})}))},O.prototype.queryApp=function(e){var t=this.allAppMap,n=e.appitem,i=e.callback,r=e.appid||n.AppID;this.checkUpdateApp({appid:r,appitem:n});var o=t[r].statusFSM;if(t[r]){n=t[r].appitem;return G(n,(function(e){var n=t[r].statusFSM;n.isStatusReady()||n.setStatus(e);var o={appid:r,status:n.getStatus(e),progres:B(r)};i(o)})),{appid:r,status:o.getStatus(),progres:B(r)}}return{appid:r,status:Q.un_ready}},O.prototype.checkUpdateApp=function(e){var t=this,n=t.allAppMap,i=e.appid,r=e.appitem;if(i in n){var o=n[i].appitem,a=n[i].statusFSM;r&&!N(o,r)&&(a.resetAppItem(r),n[i].appitem=r)}else n[i]={appitem:r,statusFSM:new W({appid:i,appitem:r,status:Q.un_ready,statusChangeCbk:function(e){t.statusChangeCbk(e)},statusReadyCbk:function(e){},progressChangeCbk:function(e){t.progressChangeCbk(e)}})}},O.prototype.queryAppList=function(e){var t=this,n=e.appidList||[],i=e.appitemList||[],r=e.callback,o=t.allAppMap,a=[];i.forEach((function(e){if(e){var n=e.AppID;t.checkUpdateApp({appid:n,appitem:e}),a.push(n)}else U.log("AppWareHouse queryAppList exist empty appitem")}));var s=[];n.forEach((function(e,t){e in o?s.push(e):console.error("有未传入appitem的游戏正在进行查询",e)}));var l=[];t.queryAppListStatus(n,(function(e){for(var t in e){var n=o[t].statusFSM,i=n.getStatus(),a=e[t];a!=Q.un_ready&&(C(i)&&C(a)||n.setStatus(a)),l.push({appid:t,status:n.getStatus(),progress:B(t)})}r&&r(l)}))},O.prototype.statusChangeCbk=function(e){var t=this.controllerMap;for(var n in t){t[n].callback.statusChangeCbk(e)}},O.prototype.progressChangeCbk=function(e){var t=this.controllerMap;for(var n in t){t[n].callback.progressChangeCbk(e)}},O.prototype.getAppItem=function(e){return this.allAppMap[e]?this.allAppMap[e].appitem:(U.log("AppWareHouse get appitem but empty:",e),null)},O.prototype.preloadHalfScreenStore=function(e){var t=e.appid,n=e.appleid,i=e.uiarea;if(n&&t){var r="preloadAppStoreVc-".concat(Date.now());d.default.verifyJsapi(["gameCenterFacade"],(function(e){d.default.invoke("gameCenterFacade",{gamecenter_methodname:"preloadAppStoreVc",gamecenter_identifier:r,gamecenter_params:{appid:t,appleid:n,uiarea:i||0}},(function(e){}))}))}},E.getAppItemByAppId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e.length)return t&&t();(0,w.default)("/cgi-bin/gamewap/batchgetgamebase",JSON.stringify({appid_list:e,need_is_subscribed:n,method:"POST"}),(function(e){t&&t(e)}),(function(e){t&&t()}))},E.prototype.addCallback=function(e){return(e=e||{}).progress&&!T(this.progressCbks,e.progress)&&this.progressCbks.push(e.progress),e.action&&!T(this.actionCbks,e.action)&&this.actionCbks.push(e.action),e.textChange&&!T(this.textChangeCbks,e.textChange)&&this.textChangeCbks.push(e.textChange),this},E.prototype.listenEvent=function(){var e=this;e.allAppMap;d.default.on("activity:state_change",(function(t){U.log("activity:state_change",t),console.warn("activity:state_change",t),"onResume"===t.state&&(s.default.isiOS||(U.log("activity resume"),e.initVisableDetailAppState({refreshAllVisableApp:!0,forceQueryAll:e.config.forceQueryAll})))}));var t=U.throttle(e.initVisableDetailAppState,500,e);window.addEventListener("scroll",t)},E.prototype.preloadHalfAppStore=function(e){var t=e.appitemList,n=e.params,i=s.default.getHexClientVersion(),r=s.default.hexVersionCompare(i,402661427),o=s.default.hexVersionCompare(i,402661664),a=this;t.forEach((function(e){if(!e.is_authorized&&r>0&&s.default.isiOS&&!1!==e.is_preload_appstore&&0!==o){var t,i,l=n.uiarea,d=e.AppID,c=null===(i=(null===(t=e.DownloadInfo)||void 0===t?void 0:t.DownloadURL).match(/\/id(\S*)/))||void 0===i?void 0:i[1];d&&c&&a.appWareHouse.preloadHalfScreenStore({appid:d,uiarea:l,appleid:c})}}))},E.prototype.initVisableDetailAppState=function(e){var t=this,n=t.getVisableAppList(e),i=[],r=[];e=e||{},n.forEach((function(e){i.push(t.allAppMap[e].appitem),r.push(t.allAppMap[e])})),U.log("initVisableDetailAppState visableAppIDList",n),U.log("initVisableDetailAppState visableAppInfoList",r),i.length&&t.appWareHouse.queryAppList({id:t.id,appidList:n,appitemList:i,refresh:e.refreshAllVisableApp||!1,callback:function(e){e.forEach((function(e){var n=e.appid;e.status!=Q.un_ready&&(t.allAppMap[n].status=e.status,t.statusReadyCbk(e))}))}})},E.prototype.initDetailAppState=function(e){var t=this;t.queryAppInfo(e,(function(n){n&&e==n.appid&&n.status!=Q.un_ready&&(t.allAppMap[e].status=n.status,t.statusReadyCbk(n))}))},E.prototype.forceInitApp=function(e){this.initDetailAppState(e)},E.prototype.append=function(e){var t=this,n=t.allAppMap,i=e.appitemList||[],r=e.btnList||[];return console.log("append begin",t.id,i),i.forEach((function(e){var i=e.AppID;if(n[i]){var r=n[i].appitem;N(e,r)||(n[i].appitem=e,console.log("append change ing",t.id,r,e))}else t.initAppInfo({appid:i,appitem:e})})),console.log("append after",t.id,t.allAppMap),r.forEach((function(e){var i=e.appid,r=e.doms||[],o=e.appitem;if(i){if(i in n||t.initAppInfo({appid:i}),r.length>0&&!(i in n))return U.log("已传入"+i+"的按钮信息，但未传入对应的appitem。"),void console.warn("已传入"+i+"的按钮信息，未传入对应的appitem。");o||(o=n[i].appitem);var a=n[i].doms||[];(r=Array.prototype.slice.call(r,0)).forEach((function(e){if(e){var r=!0;if(a.forEach((function(t){t.dom==e&&(r=!1)})),r){var s={dom:e,appitem:o||{},inited:!1};a.push(s);var l=n[i].status;l==Q.un_ready&&o&&o.AppID&&(l=R(o)),l==Q.downloading&&t.showDownloadCancelTips({appid:i,doms:[s]}),t.setBtnWord({appid:i,doms:[e],status:l}),t.bindBtnClickEvent(i,s)}}}))}else U.log("btn invalid appid",i)})),t.appWareHouse.append({id:t.id,appitemList:i}),setTimeout((function(){t.initVisableDetailAppState({forceQueryAll:t.config.forceQueryAll||!1})}),0),t},E.prototype.reset=function(e){var t=e.config||{},n=e.params||{};return this.config=U.extendDeep(this.config,t,n),this};var q={statusChecking:20011,launchH5:40,reserve:45,tryPlay:55,launchApp:22,install:44,download:23,confirmWifi:58,refuseWifi:59,update:54,reserveWifi:82,un_reserve:93,launchH5CloudGame:128,downloading:20012,pauseDownload:20013,resumeDownload:20014,checking:20015,todo:20016,reserved:20017,cancelDownload:20019};E.prototype.forceQueryWareHouse=function(e){var t=this,n=(t.allAppMap[e]||{}).appitem;return t.allAppMap[e]||t.initAppInfo(e),t.appWareHouse.queryApp({appid:e,appitem:n,callback:function(e){var n=e.appid;e.status!=Q.un_ready&&(t.allAppMap[n].status=e.status,t.statusReadyCbk(e))}})},E.prototype.doAction=function(e,t){var n=this,i=(0,v.default)(n.config,!1),r=(t=t||{}).dom,o=t.domAppitem,a=n.allAppMap[e],d=o||a.appitem,c=n.forceQueryWareHouse(e).status,f=c!=Q.statusChecking&&c!=Q.un_ready,p=n.params,g={appitem:d,dom:r,STATUS:U.extend({},Q),actionKey:"",actionid:999,ext:{},appid:d.AppID||""},_="",m={};r=r||null,U.log("app current status",d.AppID,c),(0,A.default)([{iSceneId:p.sceneid||34,iUIArea:p.uiarea||0,iActionId:25,iOpType:2,sGameId:d.AppID,iPositionId:p.position,sExternInfo:JSON.stringify({report_type:2})}]),t.isAutoDownload&&(i.isAutoDownload=!0),c==Q.downloading&&(_="downloading"),c==Q.statusChecking&&(_="statusChecking"),c==Q.checking&&(_="checking"),c==Q.todo&&(_="todo"),g.actionKey=_,g.actionid=q[_],c==Q.reserved&&(_="reserved",g.actionid=q[_]);var h=3===d.AppType;if(s.default.isAndroid&&!h&&(c==Q.un_reserve||c==Q.un_download)){var w=d.DownloadInfo||{};if(!(w.android_pkg_version&&w.android_privacy_url&&w.android_privileges_url&&w.android_developer))return void u.default.alert("当前不支持"+(c==Q.un_reserve?"预约":"下载")+"该游戏")}if(_&&("downloading"==_&&(m={progress:B(e)||0}),g.ext=m,n.callback.action&&n.callback.action(g)),!f)return U.log("Btn Click Wait StatusChecking",e),r?a.waitingStack.push(r):a.waitingStack.push("forceAction_"+ +new Date),U.log("waitingStack",e,a.waitingStack),void n.initDetailAppState(e);a.actionDoing&&U.log("App has doing action",e),a.actionDoing=!0,z.do({appitem:d,dom:r,status:c,config:i,callback:function(t,i){if(U.log("[DoAction] After Jsapi:",e,c,t),_="",m={},(c==Q.h5||M(t,"launchH5"))&&(_="launchH5"),(M(t,"addDownloadTask")||M(t,"addDownloadTaskStraight"))&&(c==Q.un_download&&(_="download"),c==Q.try_play&&(_="tryPlay"),c==Q.un_update&&(_="update"),1==t.reserve_for_wifi?(_="reserveWifi",l.default.emit("manualUpdate",{nextStatus:Q.wait_wifi,appitem:d},!0)):l.default.emit("manualUpdate",{nextStatus:Q.downloading,appitem:d},!0)),M(t,"downloadAppInternal")&&(_="download"),(M(t,"launchApplication")||M(t,"launch3rdApp"))&&(_=-1!=(t.launchInstallResult||"").indexOf("ok")?"download":"launchApp"),M(t,"installDownloadTask")&&(_="install"),M(t,"reserve")&&(_="reserve",l.default.emit("manualUpdate",{nextStatus:Q.reserved,appitem:d},!0)),M(t,"confirmWifiDownload")&&(_="confirmWifi",s.default.isAndroid&&l.default.emit("manualUpdateWifi",{appid:d.AppID,status:Q.reserved,oldStatus:Q.reserved})),M(t,"refuseWifiDownload")&&(_="refuseWifi"),M(t,"pauseDownloadTask")&&(_="pauseDownload",l.default.emit("manualUpdate",{nextStatus:Q.pause,appitem:d},!0)),M(t,"resumeDownloadTask")&&(_="resumeDownload",1==t.reserve_for_wifi?(_="reserveWifi",l.default.emit("manualUpdate",{nextStatus:Q.wait_wifi,appitem:d},!0)):l.default.emit("manualUpdate",{nextStatus:Q.downloading,appitem:d},!0)),"downloading"==_){var r=B(e)||0;m={progress:r}}M(t,"reservedAlready")&&(_="reserved"),M(t,"cancelReserve")&&(_="un_reserve",l.default.emit("manualUpdate",{nextStatus:Q.un_reserve,appitem:d},!0)),M(t,"launchH5CloudGame")&&(_="launchH5CloudGame"),g.actionid=q[_],g.actionKey=_,g.ext=m,i&&i.ext&&(g.ext=S(S({},m),i.ext)),g.actionid&&(n.callback.action&&n.callback.action(g),45==g.actionid&&s.default.isAndroid&&d.DownloadInfo&&d.DownloadInfo.is_allow_wifi_autodownload&&n.callback.action&&n.callback.action(Object.assign(g,{actionid:58,actionKey:"confirmWifi"}))),a.actionDoing=!1}})},E.prototype.autoDownload=function(e,t){var n=this,i=(n.allAppMap[e]||{}).appitem;n.allAppMap[e]||n.initAppInfo(e),n.appWareHouse.queryApp({appid:e,appitem:i,callback:function(e){var i=e.appid,r=e.status,o=!1;r!=Q.un_download&&r!=Q.pause&&r!=Q.installed&&r!=Q.un_update&&r!=Q.downloaded&&r!=Q.try_play||(setTimeout((function(){n.forceAction(i,{isAutoDownload:!0})}),300),o=!0),t({status:r,result:o})}})},E.prototype.forceAction=function(e,t){U.log("[forceAction]",e,t),this.doAction(e,t)},E.prototype.bindBtnClickEvent=function(e,t){var n=this,i=t.dom,r=n.allAppMap[e],o=r.appitem,a=c.newThrottle((function(){U.log("[BtnClick Begin]",e,status),n.doAction(e,{dom:i,domAppitem:o})}),300);i.onclick=function(t){var s=t.isTrusted,l=r.status;s?a():(U.log("[BtnClick Begin]",e,l),n.doAction(e,{dom:i,domAppitem:o}))}};var z={do:function(e){var t=e.appitem,n=(e.dom,e.status),i=e.callback,r=z.detail,o=e.config;if(s.default.isMiniprogram())c.UI.alert("请前往「发现>游戏」中\n启动游戏",{confirmTxt:"知道了"});else if(n!=Q.todo&&n!=Q.h5)if(t.app_cloud_game&&t.app_cloud_game.jump_h5&&!t.app_cloud_game.download_and_play_status)r.launchH5CloudGame({appitem:t,config:o,callback:function(e){i(e)}});else{var a=s.default.isiOS?"ios":"android";switch(n){case Q.un_download:r.downloadApp[a]({appitem:t,config:o,callback:function(e,t){i(e,t)}});break;case Q.un_reserve:var l="reserve";t.is_use_follow&&(l="reserveSp"),r[l]({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.try_play:r.tryplay({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.reserved:r.cancelReserve({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.h5_and_app:r.launchAppOrH5({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.installed:r.launchApp({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.downloaded:r.installApp({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.downloading:if(!o.actionFlag.canPauseDownload)break;r.pauseDownload({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.checking:return;case Q.un_update:r.downloadApp[a]({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.pause:r.resumeDownload({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.wait_wifi:r.waitWifi({appitem:t,config:o,callback:function(e){i(e)}});break;case Q.install:r.installApp({appitem:t,config:o,callback:function(e){i(e)}})}}else{switch(n){case Q.todo:break;case Q.h5:r.launchH5({appitem:t,config:o,callback:function(e){i(e)}})}i(n)}},detail:{tryplay:function(e){var t=e.appitem,n=e.callback,i=e.config||{},r=t.AppID,o="您暂无试玩资格",a="试玩资格已用完",s="今天资格已用完，明天再来",l="试玩已结束，感谢您的关注",d=t.resource_from_type||"";(0,w.default)("/cgi-bin/gamewap/participategametrial?",JSON.stringify({app_id:r,from_type:d,method:"POST"}),(function(e){if(e&&0!=e.errcode)u.default.alert(o);else if(e&&"result"in e)switch(e.result){case 0:z.detail.downloadApp.android({appitem:t,callback:function(e){n(e)},config:i});break;case 1:case 3:u.default.alert(a);break;case 2:u.default.alert(s);break;case 4:u.default.alert(l);break;default:u.default.alert(o)}}))},launchH5:function(e){var t=e.appitem,n=e.callback,i=(e.config,t.HVAppInfo.LaunchUrl);d.default.openUrl(i,(function(e){n({err_msg:"launchH5:ok"})}))},downloadApp:{ios:function(e){var t=e.appitem,n=e.callback,i=e.config||{};function r(e,t){var n=e.DownloadInfo,r=s.default.versionCompare(s.default.clientVersion(1),"6.5.5")>0;if(!i.downloadInternal||!r||U.getQueryStr("isFromWeappEntry"))return location.href=n.DownloadURL,void t({err_msg:"downloadAppInternal:ok"});d.default.downloadAppInternal({appUrl:n.DownloadURL},(function(e){t(e)}))}if(void 0===t.is_authorized||t.is_authorized||(0,A.default)([{iSceneId:i.sceneid||34,iUIArea:i.uiarea||0,iActionId:50002,iOpType:2,sGameId:t.AppID,iPositionId:i.position||0,sExternInfo:JSON.stringify({report_type:2})},{iSceneId:i.sceneid||34,iUIArea:i.uiarea||0,iActionId:23,iOpType:2,sGameId:t.AppID,iPositionId:i.position||0,sExternInfo:JSON.stringify({before_allow:1,report_type:2})}]),!t.is_authorized){var o=s.default.getHexClientVersion(),a=s.default.hexVersionCompare(o,402661427),l=s.default.hexVersionCompare(o,402661664),c=t.DownloadInfo&&t.DownloadInfo.DownloadURL||"",u="showAppStoreVc-".concat(Date.now()),f=t.AppID;if(a>0&&c&&0!==l)return(0,A.default)([{iSceneId:i.sceneid||34,iUIArea:i.uiarea||0,iActionId:30026,iOpType:2,sGameId:t.AppID,iPositionId:i.position||0,sExternInfo:JSON.stringify({report_type:2})}]),void d.default.invoke("gameCenterFacade",{gamecenter_methodname:"showAppStoreVc",gamecenter_identifier:u,gamecenter_params:{appUrl:c,topPercentage:.25,shadowRgbHex:"#000000",shadowAlpha:.23,shadowDuration:.3,clipTopHeight:10,extraData:{},uiarea:i.uiarea||0,appId:f}},(function(e){e.err_msg.indexOf("ok")>-1?n({err_msg:"downloadAppInternal:ok"},{ext:{download_type:1}}):z.detail.launchApp({appitem:t,config:i,callback:function(e){e.err_msg.indexOf(":ok")>-1||e.err_msg.indexOf(":yes")>-1?n(e):r(t,n)}})}))}z.detail.launchApp({appitem:t,config:i,callback:function(e){e.err_msg.indexOf(":ok")>-1||e.err_msg.indexOf(":yes")>-1?n(e):r(t,n)}})},android:function(e){var t=e.appitem,n=e.callback,i=e.config||{},r=t.AppID,o=t.DownloadInfo,a=s.default.versionCompare(s.default.clientVersion(1),"6.5.7")>=0?"addDownloadTaskStraight":"addDownloadTask",c="number"==typeof o.DownloaderType?o.DownloaderType:1,f="boolean"==typeof o.use_downloader_widget&&o.use_downloader_widget,p="boolean"==typeof o.download_in_wifi&&o.download_in_wifi,g=i.isAutoDownload?3:1,m=o.android_section_md5_list||[];function h(){d.default.invoke(a,{appid:r,task_name:t.Name||t.PackageName,package_name:t.PackageName,task_url:o.DownloadURL,file_md5:o.AndroidApkMd5,task_size:o.AndroidApkSize,alternative_url:o.AlternativeDownloadURL,downloader_type:c,download_type:g,use_downloader_widget:f,download_in_wifi:p,scene:i.sceneid,uiarea:i.uiarea,fileSectionMd5:m,extInfo:encodeURIComponent(JSON.stringify({gameid:r,noticeid:parseInt(t.Noticeid)||parseInt(U.getQueryStr("noticeid")||0)||0}))},(function(e){if(D(t,i,e,"add"),n&&n(e),f&&s.default.versionCompare(s.default.clientVersion(1),"7.0.3")>=0&&l.default.trigger("addToDownloaderWidget",{appid:r}),s.default.isAndroid&&!i.hideDownloadAndPlayDialog){var o=new _.default({appitem:t,config:i});!t.is_authorized&&t.app_cloud_game&&t.app_cloud_game.download_and_play_status?o.showCloudGameDialog(1):o.showCloudGameDialog(2)}}))}i.showDownloadConfirmAlert&&s.default.isAndroid?u.default.alert("即将为你下载 ".concat(t.Name),{confirmCb:function(){h()},style:"twoBtn",closeCb:function(){}}):h()}},launchApp:function(e){var t=e.appitem,n=e.callback,i=e.config||{},r=t.AppID,o=t.DownloadInfo;if(t.has_sp_launch_privilege)new f.default({appid:r,ssid:i.sceneid,success:function(e){l({extern_info:e.extern_info})},fail:function(){l()},cancel:function(){}});else{var a=h.default.getKeyValue("first_launch_game_privilege");(!a||a&&-1===a.indexOf(r||""))&&s.default.isAndroid&&t&&4!==t.AppType?((a=a?JSON.parse(a):[]).push(r),h.default.setKeyValue("first_launch_game_privilege",JSON.stringify(a)),new p.default({appid:r,appitem:t,scene:"",uiarea:"",success:function(e){console.log("success"),l()},cancel:function(){console.log("cancel")}})):l()}function l(e){s.default.versionCompare(s.default.clientVersion(1),"6.5.5");var a=(e=e||{}).extern_info||t.launch_info||(s.default.isAndroid?i.launchAndroidAppText:i.launchIOSAppText),l={appID:r,messageExt:a,extInfo:a,showLaunchFailToast:!1,installSchemeUrl:o.DownloadURL,installAction:1};s.default.isAndroid&&4===t.AppType&&o.android_package_sign&&(l.signature=o.android_package_sign,l.packageName=t.PackageName),d.default.invoke("launchApplication",l,(function(e){n&&n(e)}))}},installApp:function(e){var t=e.appitem,n=e.callback,i=e.config||{},r=t.AppID,o=i.isAutoDownload?3:1;d.default.queryDownloadTask({appid:r},(function(e){e.state.indexOf("_succ")>-1?d.default.installDownloadTask({download_id:e.download_id,download_type:o},(function(e){n(e)})):n({err_msg:"(installApp -> queryDownloadTask):"+JSON.stringify(e)})}))},launchAppOrH5:function(e){var t=e.appitem,n=e.callback,i=e.config||{},r=z.detail;r.launchApp({appitem:t,callback:function(e){e.err_msg.indexOf(":ok")>-1?n(e):r.launchH5(t,n)},config:i})},waitWifi:function(e){var t=e.appitem,n=(e.callback,e.config,t.AppID);d.default.queryDownloadTask({appid:n},(function(t){t.state.indexOf("default")>-1&&z.detail.downloadApp.android(e),t.state.indexOf("pause")>-1&&z.detail.resumeDownload(e)}))},pauseDownload:function(e){var t=e.appitem,n=e.callback,i=e.config||{},r=t.AppID;d.default.queryDownloadTask({appid:r},(function(e){if(e.state.indexOf("downloading")>-1){var o=e.download_id,a=s.default.hexVersionCompare(s.default.getHexClientVersion(),671099448)>=0,l=i.isShowDownloadingCancelTips&&a?1:0;d.default.pauseDownloadTask({download_id:o,showDialog:l},(function(e){n(e),i.isShowDownloadingCancelTips&&!a&&b.default.show({cancelText:"继续下载",actionList:["游戏下载中，确定要取消下载？","暂停下载","取消下载"],actionCfgList:[{isTitle:!0},{},{},{}],clickCbk:function(e){1===e||2==e&&z.detail.cancelDownload({id:o},(function(e){n(e,Q.cancel)}))},cancelCbk:function(){z.detail.resumeDownload({appitem:t,callback:n,config:i})}})}))}else U.log("appbtn ",r,"(pauseDownload -> queryDownloadTask):"+JSON.stringify(e)),e.state.indexOf("pause")>-1&&z.detail.resumeDownload({appitem:t,callback:n,config:i})}))},resumeDownload:function(e){var t=e.appitem,n=e.callback,i=e.config||{},r=t.AppID,o=t.DownloadInfo,a="boolean"==typeof o.use_downloader_widget&&o.use_downloader_widget,c="boolean"==typeof o.download_in_wifi&&o.download_in_wifi,f=i.isAutoDownload?3:1;d.default.queryDownloadTask({appid:r},(function(e){if(e.state.indexOf("pause")>-1){var o=function(){d.default.resumeDownloadTask({download_id:e.download_id,use_downloader_widget:a,download_in_wifi:c,download_type:f},(function(e){D(t,i,e,"resume"),n(e),a&&l.default.trigger("addToDownloaderWidget",{appid:r})}))};i.showDownloadConfirmAlert&&s.default.isAndroid?u.default.alert("即将为你恢复下载 ".concat(t.Name),{style:"twoBtn",confirmCb:function(){o()},closeCb:function(){}}):o()}else U.log("appbtn",t.AppID,"(resumeDownload -> queryDownloadTask):"+JSON.stringify(e)),e.state.indexOf("downloading")>-1&&z.detail.pauseDownload({appitem:t,callback:n,config:i})}))},cancelDownload:function(e,t){d.default.invoke("cancelDownloadTask",{download_id:e.id},(function(e){window.logInfo&&logInfo("cancelDownloadTask ret",e),t(e)}))},reserve:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"预约",n=e.appitem,i=e.callback,r=e.config||{},o=n.DownloadInfo,a={appid:n.AppID,noticeid:parseInt(n.Noticeid)||parseInt(U.getQueryStr("noticeid")||0)||0,actid:parseInt(n.act_id)||parseInt(U.getQueryStr("act_id")||0)||0,device:s.default.isiOS?1:2,clientversion:0,scene:r.sceneid||"",addcard:!0,need_reservation_live:!0,method:"GET"},l={reserveSucess:t+"成功，游戏上线后将立即通过公众号通知你，并为你发放微信预约礼包",reserveSafeSucess:t+"成功",reserveWithCardAndWifiSuccess:"礼包卡券已发放，游戏上线后将通过公众号通知你。是否打开上线后WIFI自动下载 ?",reserveWithCard:"礼包卡券已发放，游戏上线后将通过公众号通知你",reserveWithWifiSuccess:"游戏上线后将通过微信公众号通知你。你是否同意，游戏上线后，在WIFI状态下自动下载该游戏 ?"},c=s.default.isAndroid&&(n.IsAllowWifiAutoDownload||n.is_allow_wifi_autodownload||o.is_allow_wifi_autodownload);r.hideReservedDialog||u.default.showLoading("正在"+t+"..."),(0,w.default)("/cgi-bin/gamecenterwap/makegameappointment",a,(function(e){if(u.default.hideLoading(""),0===e.errcode)if(i({err_msg:"reserve:ok"}),3===n.AppType)u.default.showTips(l.reserveSafeSucess,{type:"success",timeout:1500});else if(r.noWifiReserve)c?u.default.alert(0==e.addcard_result?l.reserveWithCardAndWifiSuccess:l.reserveWithWifiSuccess,{confirmCb:function(){},title:t+"成功",style:"oneBtn",closeCb:function(){i({err_msg:"refuseWifiDownload:ok"})}}):s.default.isiOS?u.default.alert(l.reserveSafeSucess):u.default.alert(0==e.addcard_result?l.reserveWithCard:l.reserveSucess);else{var o=function(){r.hideReservedDialog||new g.default({autoDownload:c,appitem:n,type:t,close:function(e,t){}})},a="liveoperation_strong_notify",f=!Boolean(h.default.getKeyValue(a)),p=s.default.isiOS&&s.default.hexVersionCompare(s.default.getHexClientVersion(),402661428)>=0||s.default.isAndroid&&s.default.hexVersionCompare(s.default.getHexClientVersion(),671096924)>=0;if(["wx10e2ae0624e95569"].includes(n.AppID)&&p)try{var _=function(){if(f){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=".wg-basic-half-screen-dialog__button {height: 40px !important;width: 184px !important;font-size: 17px !important;line-height: 40px !important;}.strong-notify {display: flex;flex-direction: column;align-items: center;}.strong-notify-title {font-weight: 600;font-size: 17px;line-height: 24px;height: 24px;text-align: center;margin-top: 28px;margin-bottom: 40px;}.strong-notify-img {width: 327px;height: 149px;margin-bottom: 24px;}",document.getElementsByTagName("head")[0].appendChild(e),new y.default('<div class="strong-notify">\n                                            <div class="strong-notify-title">预约的游戏上线时会提醒你</div>\n                                            <img class="strong-notify-img" src="https://mmgame.qpic.cn/image/75c56367adf78c1069d921d7a0ab313c83bf21947d0c191ee28f82785b9b105a/0" /></div>',[{label:"我知道了",type:"default",callback:o}]),h.default.setKeyValue(a,"1")}else o()};s.default.isAndroid&&d.default.verifyJsapi(["requestOverlayPermission"],(function(e){d.default.invoke("requestOverlayPermission",{},(function(e){0===Number(null==e?void 0:e.ret)?_():o()}))})),s.default.isiOS&&_()}catch(e){o()}else o()}else u.default.alert(t+"失败("+e.errcode+")")}),(function(e){u.default.hideLoading("");try{u.default.alert(t+"失败,网络错误("+e.errcode+")")}catch(e){u.default.alert(t+"失败,请稍后重试")}}))},reserveEvent:function(e,t,n,i,r){var o={data:[{appid:e.AppID,scene_id:n&&n.sceneid||0,notice_id:parseInt(e.Noticeid)||parseInt(U.getQueryStr("noticeid")||0)||0,act_id:parseInt(e.act_id)||parseInt(U.getQueryStr("act_id")||0)||0,allpath:U.getQueryStr("allpath"),from_url:location.href.replace(/(uin|key|pass_ticket|abtest_cookie)=[^&]+/g,"")}],method:"POST"};(0,w.default)("/cgi-bin/comm/reportconfirmwifidownload",JSON.stringify(o),(function(n){if(u.default.hideLoading(),0===n.errcode){if(window.__reserveWifiList__.push(e.AppID),t&&t({err_msg:"confirmWifiDownload:ok"}),r)return;i?u.default.alert("已预约WIFI下载，可在我-卡包中查看礼包"):(0,w.default)("/cgi-bin/gamewap/getgamebaseextrafor",JSON.stringify({appid:e.AppID,need_subscribe_info:!0}),(function(e){0===e.errcode?(e.subscribe_info||{}).has_wifi_download_card?u.default.alert("已预约WIFI下载，可在我-卡包中查看礼包"):u.default.alert("已预约WIFI下载"):u.default.alert("已预约WIFI下载")}),(function(e){u.default.alert("已预约WIFI下载")}))}}),(function(e){u.default.hideLoading(),u.default.showTips("预约失败("+e.errcode+")",{type:"fail",timeout:1e3})}))},cancelReserve:function(e){var t=e.appitem,n=(e.callback,e.config||{});console.log("cancel reserve",t),t.is_use_follow,(0,A.default)([{iSceneId:34,iUIArea:3461,iPositionId:1,iActionId:40,sGameId:t.AppID,iSourceSceneId:n.uiarea}]),d.default.openUrl("https://game.weixin.qq.com/cgi-bin/h5/static/circlecenter/mixed_circle.html?appid=".concat(t.AppID),{ssid:n.uiarea})},reserveWifi:function(e){var t=e.appitem,n=e.callback,i=e.config||{},r=t.DownloadInfo,o=s.default.isAndroid&&(t.IsAllowWifiAutoDownload||t.is_allow_wifi_autodownload||r.is_allow_wifi_autodownload);window.__reserveWifiList__.indexOf(t.AppID)>-1||t.subscribed_wifi_autodownload||i.noWifiReserve||(o?(u.default.showTips("正在开启..."),this.reserveEvent(t,n,i)):n({err_msg:"reservedAlready: ok"}))},reserveSp:function(e){this.reserve(e,"关注")},launchH5CloudGame:function(e){var t=e.appitem,n=e.callback,i=(t.app_cloud_game||{}).launch_url||{};d.default.openUrl(i,(function(e){n({err_msg:"launchH5CloudGame:ok"})}))}}};E.prototype.initAppItem=function(e){this.allAppMap[e]?this.allAppMap[e].appitem||(this.allAppMap[e].appitem=this.appWareHouse.getAppItem(e)):this.initAppInfo({appid:e})},E.prototype.initAppInfo=function(e){var t=e.appid,n=e.appitem||this.appWareHouse.getAppItem(t),i=e.status||Q.un_ready;return this.allAppMap[t]={appitem:n,doms:[],status:i,statusStack:[],waitingStack:[],actionDoing:!1},this.allAppMap[t]},E.prototype.statusReadyCbk=function(e){var t=e.appid,n=e.status;if(this.allAppMap[t]){this.allAppMap[t].appitem||this.initAppItem(t);var i=this.allAppMap[t],r=i.waitingStack;if(r.length&&console.log("statusReady waitingStack",t,r),e.status!=Q.un_ready){var o,a=i.doms,s=[];for(a.forEach((function(e){e.inited||(s.push(e.dom),e.inited=!0)})),s.length>0&&this.throttleSetBtnWordAndProgress(t)({appid:t,doms:s,status:n});r.length;)"Object"==typeof(o=r.pop())?o.click():this.forceAction(t)}}},E.prototype.listenOnDownloaderWidget=function(e){l.default.on("addToDownloaderWidget",(function(t){e(t)}))},E.prototype.statusChangeCbk=function(e){var t=e.appid,n=e.status,i=e.oldStatus;this.allAppMap[t]||this.initAppInfo({appid:t,status:n}),this.allAppMap[t].appitem||this.initAppItem(t);var r=this.allAppMap[t];e.status!=r.status&&(r.status=e.status,r.statusStack.push(e.status));var o=r.doms,a=[];e.status!=Q.un_ready&&o.forEach((function(e){a.push(e.dom),e.inited=!0})),this.throttleSetBtnWordAndProgress(t)({appid:t,doms:a,status:n}),function(e){var t=e.appid,n=e.status;localStorage.setItem("APPBTN_status_"+t,JSON.stringify({status:n}))}({appid:t,status:n}),i==Q.downloading&&n==Q.un_download&&j({appid:t,progress:0}),n==Q.downloading?this.showDownloadCancelTips({appid:t,doms:o}):this.hideDowloadCancelTips({appid:t,doms:o})},E.prototype.setBtnWord=function(e){var t=e.appid,n=e.doms,i=e.status,r=this.config,o=this.getBtnWord(i),a=n||[],s=r.wordDomClassName,l=this.allAppMap[t].appitem;Q.reserved,l.is_use_follow&&(i==Q.un_reserve&&(o="关注"),i==Q.reserved&&(o="已关注")),l.app_cloud_game&&l.app_cloud_game.jump_h5&&l.app_cloud_game.launch_url&&!l.app_cloud_game.download_and_play_status&&(o="立即玩");var d=this.allAppMap[t].doms;a.length||d.forEach((function(e){a.push(e.dom)})),r.needBtnTextAutoUpdate&&a.forEach((function(e){if(s){var t=[];e&&(t=e.getElementsByClassName(s)||[]),(t=Array.prototype.slice.call(t,0)).forEach((function(e){e.innerText=o}))}else e&&(e.innerText=o)})),this.callback.textChange&&this.callback.textChange({appid:t,doms:a,appitem:l,status:i,btnWord:o,STATUS:Q})},E.prototype.setBtnWordAndProgress=function(e){var t=e.appid,n=parseInt(e.progress),i=e.doms,r=e.status,o=this.config;!isNaN(n)&&"number"==typeof n&&o.needProgress?this.callback&&this.callback.progress({appid:t,progress:n,doms:i}):this.setBtnWord({appid:t,doms:i,status:r})},E.prototype.progressChangeCbk=function(e){var t=e.appid,n=e.progress,i=this.allAppMap[t];i||(i=this.initAppInfo({appid:t,status:Q.downloading})),i.appitem||this.initAppItem(t);var r=(i=this.allAppMap[t]).doms||[],o=[];r.forEach((function(e){o.push(e.dom)})),l.default.emit("manualUpdate",{appitem:i.appitem,nextStatus:Q.downloading},!0),this.throttleSetBtnWordAndProgress(t)({appid:t,progress:n,doms:o,status:Q.downloading}),n>=99?l.default.emit("manualUpdate",{appitem:i.appitem,nextStatus:Q.checking},!0):this.callback.progress&&this.callback.progress({appid:t,progress:n,doms:o}),j({appid:t,progress:n})},E.prototype.getBtnWord=function(e){var t="";switch(e=e){case Q.un_download:t=this.config.androidDownText,s.default.isiOS&&(t=this.config.iosDefaultText);break;case Q.un_reserve:t=this.config.androidReserveText,s.default.isiOS&&(t=this.config.iosReserveText);break;case Q.try_play:t=this.config.tryPlayText;break;case Q.todo:t=this.config.todoText;break;case Q.h5:t=this.config.h5StartText;break;case Q.reserved:t=this.config.androidReservedText,s.default.isiOS&&(t=this.config.iosReservedText);break;case Q.installed:t=this.config.androidStartText;break;case Q.un_update:t=this.config.androidUpdateText;break;case Q.checking:t=this.config.checkingText;break;case Q.downloading:t=this.config.downIngText;break;case Q.install:t=this.config.installText;break;case Q.pause:t=this.config.pauseText;break;case Q.downloaded:t=this.config.installText;break;case Q.wait_wifi:t=this.config.waitWifiText;break;case Q.h5_and_app:t=s.default.isiOS&&this.config.iosDefaultText||this.config.h5StartText}return t},E.prototype.setBtnText=function(e,t){var n=this.config,i=n.wordDomClassName;if(!n.needBtnTextAutoUpdate)return!1;return(i?Array.prototype.slice.call(e.getElementsByClassName(i),0):[e]).forEach((function(e){e.innerText=t})),!0},E.prototype.getVisableAppList=function(e){var t=this.allAppMap,n=[],i=[],r=(e=e||{}).forceQueryAll,o=e.refreshAllVisableApp;if(r){for(var a in t)i.push(a);return i}for(var a in t){var s=t[a].doms||[],l=[];s.forEach((function(e){l.push(e.dom)})),s.forEach((function(e){var t=e.dom;(r||t&&U.isElementInViewport(t)&&(o||!e.inited))&&-1==n.indexOf(a)&&n.push(a)}))}return n},E.prototype.queryAppInfo=function(e,t){this.appWareHouse.queryAppList({appidList:[e],callback:function(e){var n=e[0]||{};t(n)}})},E.prototype.queryAppListInfo=function(e,t){var n=[],i=this.allAppMap;e.forEach((function(e){var t;i[e]&&(t=i[e].appitem),t&&n.push(t)})),this.appWareHouse.queryAppList({appidList:e,appitemList:n,callback:function(e){var n={};e.forEach((function(e){n[e.appid]={status:e.status,progress:e.progress}})),t(n)}})},E.prototype.showDownloadCancelTips=function(e){this.config.isShowDownloadingCancelTips&&e.doms.forEach((function(e){var t,n=e.dom.querySelectorAll(".j_dowload-cancel__container");if((null==n?void 0:n.length)>0)for(var i=0;i<n.length;i++)n[i].parentNode.removeChild(n[i]);if(null!==(t=e.asyncCpt)&&void 0!==t&&t.downloadCancelTipsInstance)e.asyncCpt.downloadCancelTipsInstance.show();else{var r=new m.default({btnWrapperDom:e.dom});e.asyncCpt=e.asyncCpt||{},e.asyncCpt.downloadCancelTipsInstance=r,e.asyncCpt.downloadCancelTipsInstance.show()}}))},E.prototype.hideDowloadCancelTips=function(e){this.config.isShowDownloadingCancelTips&&e.doms.forEach((function(e){var t;null!==(t=e.asyncCpt)&&void 0!==t&&t.downloadCancelTipsInstance&&e.asyncCpt.downloadCancelTipsInstance.hide()}))},W.prototype.queryStatus=function(e){var t=this.appid,n=e.callback,i="boolean"!=typeof e.canUseCache||e.canUseCache;if(this.isStatusReady()&&i){var r=this.getStatus();return n(r),r}l.default.on(H.queryAppStatusDone,(function(e){e.appid==t&&n(e.status)})),l.default.trigger(H.queryAppStatus,{appid:t,appitem:this.appitem})},W.prototype.resetAppItem=function(e){this.appitem=e},W.prototype.setStatusInited=function(e){this.appid;0==this.isInited&&e&&console.log("setStatusInited",e),this.isInited=e},W.prototype.setStatusChecking=function(e){this.appid;1!=this.isChecking||e||console.log("setStatusChecking",e),this.isChecking=e},W.prototype.isStatusReady=function(){return this.isInited&&!this.isChecking},W.prototype.isStatusInited=function(){return this.isInited},W.prototype.listenEvent=function(){var e=this;d.default.on("wxdownload:state_change",(function(t){var n=t.appid,i=t.state;n==e.appid&&(U.log("wxdownload:state_change",t),i.indexOf("_succ")>-1&&e.setStatus(Q.install),i.indexOf("_pause")>-1&&(1==t.reserve_for_wifi?e.setStatus(Q.wait_wifi):e.setStatus(Q.pause)),i.indexOf("_resumed")>-1&&e.setStatus(Q.downloading),(i.indexOf("_fail")>-1||i.indexOf("_remove")>-1||i.indexOf("wifi")>-1)&&(e.setStatusChecking(!0),G(e.appitem,(function(t){e.setStatus(t),e.setStatusChecking(!1)}))))})),d.default.on("wxdownload:progress_change",(function(t){var n=t.appid,i=t.progress;n==e.appid&&e.progressChangeCbk({appid:n,progress:i})})),l.default.on("manualUpdate",(function(t){var n=t.nextStatus,i=t.appitem;e.appid==i.AppID&&e.setStatus(n)})),l.default.on("progressUpdate",(function(t){var n=t.appid,i=t.progress;n==e.appid&&e.progressChangeCbk({appid:n,progress:i})})),l.default.on("manualUpdateWifi",(function(t){e.appid==t.appid&&e.statusChangeCbk(t)}))},W.prototype.getStatus=function(){return this.status},W.prototype.setStatus=function(e){var t=this.status;t!=e&&(U.log("setStatus",{appid:this.appid,status:e,AppType:this.appitem.AppType,DownloadInfo:this.appitem.DownloadInfo},this.stack),this.status=e,this.stack.push(e),this.statusChangeCbk({appid:this.appid,status:e,oldStatus:t}),this.isStatusReady()||(this.setStatusInited(!0),this.setStatusChecking(!1)))},E.STATUS=Q,F.window.WXGAME&&F.window.WXGAME.AppBtn?(U.log("top window WXGAME AppBtn ready"),I=F.window.WXGAME.AppBtn):window.WXGAME&&window.WXGAME.AppBtn?(U.log("WXGAME AppBtn ready"),I=window.WXGAME.AppBtn):I=E}var K=I;t.default=K},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(4));function a(){this.queue={},this.state={},this.objs={}}a.prototype.on=function(e,t){this.state[e]?t(this.objs[e]):(this.queue[e]||(this.queue[e]=[]),this.queue[e].push(t))},a.prototype.emit=function(e,t,n){t=t||null;this.state[e]=!n,this.objs[e]=t,this.queue[e]||(this.queue[e]=[]),this.queue[e].forEach((function(e){e(t)}))},a.prototype.trigger=function(e,t){t=t||null;this.objs[e]=t,this.queue[e]||(this.queue[e]=[]),this.queue[e].forEach((function(e){e(t)}))},a.prototype.emitOnce=function(e,t){t=t||null,this.emit(e,t),this.queue[e]=[],this.state[e]=!1,this.objs[e]={}};var s=(r||(r=new a),r);o.default.window.UniBus=o.default.window.UniBus||s;var l=s;t.default=l},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0,t.ajax=S,t.clientInfo=t.ajaxRequest=t.ajaxCall=void 0,t.debounce=k,t.mapToStr=t.getQueryStr=t.filterXSS=t.filterUrlByKey=t.filterImg=t.extendDeep=t.extend=t.default=void 0,t.newThrottle=function(e,t){var n,i;return function(){var r=this,o=arguments,a=Date.now();n&&a<n+t?(clearTimeout(i),i=setTimeout((function(){n=a,e.apply(r,o)}),t)):(n=a,e.apply(r,o))}},t.openWithWebView=void 0,t.setTitle=b,t.throttle=y,t.tmpl=void 0;var o=i(n(1)),a=i(n(6)),s=m(n(3)),l=m(n(7)),d=i(n(21)),c=i(n(4)),u=i(n(28)),f=i(n(2)),p=i(n(47)),g=i(n(24));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var h=function(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i};t.extend=h;var w=function(){for(var e=arguments.length,t={},n=0;n<e;n++)for(var i in arguments[n])t[i]=arguments[n][i];return t};t.extendDeep=w;var v=h(p.default,g.default);function A(){if(f.default.isCSR)return{isIOS:!1,isPad:!1,isAndroid:!0,isWechat:!0,isDebug:!1,wxVersion:f.default.clientVersion(!0),isWPcWechat:!1,isPC:!1};var e=-1!==location.search.indexOf("debug=1");return{isIOS:f.default.isIOS,isPad:f.default.isPad,isAndroid:f.default.isAndroid,isWechat:f.default.isWechat,isDebug:e,wxVersion:f.default.clientVersion(!0),isWPcWechat:f.default.isWPcWechat,isPC:f.default.isPC}}function b(e){var t=A();function n(){WeixinJSBridge.invoke("setPageTitle",{title:e},(function(e){}))}if(t.isWechat){if(x("6.0.2")&&(t.isAndroid||"yes"===window.__wxjs_is_wkwebview||window.__wxjs_is_wkwebview))return void(c.default.window.WeixinJSBridge?n():(document.addEventListener("WeixinJSBridgeReady",(function(){n()})),document.title=e));if(document.title=e,t.isWPcWechat)return;if(t.isIOS){var i=document.createElement("iframe");i.style.cssText="width:0px;height:0px;display:none;",i.src=location.protocol+"//wximg.gtimg.com/tmt/game/dist/img/wgui/placeholder/1x1.png",i.onload=function(){setTimeout((function(){i.onload=null,document.body.removeChild(i)}),0)},document.body.appendChild(i)}}else document.title=e}function y(e,t,n){var i;return function(){var r=arguments;return clearTimeout(i),i=setTimeout((function(){e.apply(n,r),i=null}),t)}}function k(e,t,n){var i;return function(){var r=arguments;i||(i=setTimeout((function(){e.apply(n,r),i=null}),t))}}function x(e){var t=(navigator.userAgent||navigator.wxuserAgent||str).match(/MicroMessenger\/([\d\.]+)/i),n="";if(!(t&&t.length>1))return!1;n=(n=t[1]).split("."),e=e.split(".");for(var i=0;i<n.length&&i<e.length;i++){if((+n[i]||0)>(+e[i]||0))return!0;if((+n[i]||0)<(+e[i]||0))return!1}return!1}function S(e,t,n,i,r){if("function"==typeof r)var a=r;else if("object"===(0,o.default)(r)){var s=h({method:"GET",timeout:15e3},r);a=arguments[5]}else s={};this._QMAjax=new d.default(e,s.method,s.timeout);(new Date).getTime();return this._QMAjax.onComplete=function(e){var t={},i=(e.responseText||"").replace(/[\u0000-\u001f\u000B\u000C\u00A0\uFEFF\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u202E\u202D]/g,"");try{t=JSON.parse(i)}catch(e){try{t=new Function("return "+i)()}catch(e){t={}}}n&&n(t);(new Date).getTime()},this._QMAjax.onError=function(e,t){"ok"!==t&&i&&i(t);try{JSON.parse(e.responseText)}catch(t){({responseText:e.responseText})}(new Date).getTime()},this._QMAjax.onTimeout=a,"string"==typeof t?this._QMAjax.send(t):this._QMAjax.send(l.mapToStr(t)),this._QMAjax}t.UI=v;var I={ajaxRequest:a.default,ajaxCall:a.default,getQueryStr:s.getQueryStr,mapToStr:l.mapToStr,extend:h,tmpl:l.format,filterXSS:l.filterXSS,clientInfo:A(),openWithWebView:u.default.openUrl,setTitle:b,throttle:y,debounce:k,filterImg:l.filterImg,filterUrlByKey:l.filterUrlByKey,extendDeep:w,UI:v,ajax:S};t.default=I;var C=a.default;t.ajaxRequest=C;var O=a.default;t.ajaxCall=O;var E=s.getQueryStr;t.getQueryStr=E;var T=l.mapToStr;t.mapToStr=T;var P=l.format;t.tmpl=P;var M=l.filterXSS;t.filterXSS=M;var D=l.filterImg;t.filterImg=D;var B=l.filterUrlByKey;t.filterUrlByKey=B;var j=A();t.clientInfo=j;var L=u.default.openUrl;t.openWithWebView=L},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(7),a=i(n(6)),s=i(n(17)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3)),d=i(n(8));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n(43),n(44);var u=function(e){var t=e.getBoundingClientRect(),n=t.width/2,i=t.height/2,r=window.innerHeight,o=window.innerWidth;document.documentElement.clientHeight,document.documentElement.clientWidth;return t.height>0&&t.width>0&&(t.top>=0&&t.top<=r-i||t.bottom>=i&&t.bottom<=r)&&(t.left>=0&&t.left<=o-n||t.right>=n&&t.right<=o)},f=function(e,t,n){var i;return function(){var r=arguments;i||(i=setTimeout((function(){e.apply(n,r),i=null}),t))}},p=function(){var e=arguments;try{window.logInfo||logInfo?logInfo.apply(window,e):console.log.apply(null,e)}catch(e){console.log(e)}};function g(e){var t=this;return(t=g.instance?g.instance:this).appid=e.appid,t.succCbk=e.success,t.cancelCbk=e.cancel,t.failCbk=e.fail,t.ssid=e.ssid||0,t.waitingList=[],t.reportHandler=t.throttleReport(),g.instance?(g.instance.init(),g.instance):(this.isInited=!1,this.doms={},this.data={},this.init(),g.instance=this,this)}g.instance=null,g.prototype.init=function(){var e=this;Promise.all([e.appendCSS(),e.getLastData(),e.queryPrivilege()]).then((function(t){var n=t[1],i=t[2];0==i.errcode?(e.data=i,p("[privilege popup]","data",i),p("[privilege popup]","last data",n),e.isDifferent(i,n)&&i.function_list&&i.function_list.length?(e.initView(i),e.bindEvent(),e.reportPV(),p("[privilege popup]","initView")):(e.succCbk({extern_info:i.extern_info}),p("[privilege popup]","same as last time, not show up")),e.storeData(i)):(e.failCbk(),p("[privilege popup]","get data fail",JSON.stringify(i)))})).catch((function(t){e.failCbk(),p("[privilege popup]","promise err",JSON.stringify(t))}))},g.prototype.isDifferent=function(e,t){var n=!1,i=e.function_list||[],r=t.function_list||[],o={},a={};for(var s in i.forEach((function(e){o[e.key]=e.state})),r.forEach((function(e){a[e.key]=e.state})),o)s in a||(n=!0),o[s]!=a[s]&&(n=!0);for(var s in a)s in o||(n=!0),o[s]!=a[s]&&(n=!0);return n};var _="privilege_data_";g.prototype.storeData=function(e){d.default.setGameData({key:_+this.appid,value:JSON.stringify(e)})},g.prototype.getLastData=function(e){var t=this;return new Promise((function(e,n){d.default.getGameData({key:_+t.appid},(function(t){if(-1!=t.err_msg.indexOf("ok")){var i;try{i=JSON.parse(t.value)}catch(e){i={}}e(i)}else n()}))}))},g.prototype.appendCSS=function(){var e=this;return new Promise((function(t,n){if(e.cssLink)t();else{var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.href="//res.wx.qq.com/wechatgame/product/wechat-download/dist/css/style-privilege.57446412.css",i.onload=function(){t()},i.onerror=function(){n()},document.head.appendChild(i),e.cssLink=i}}))},g.prototype.reportPV=function(){var e=this,t=e.doms.container,n=Array.prototype.slice.call(e.doms.list.getElementsByClassName("game-download__privilege-item"),0),i=e.data.function_list;!t.getAttribute("reported")&&u(t)&&(e.report({uia:0,aid:1}),t.setAttribute("reported",!0)),n.forEach((function(t,n){var r=i[n];!t.getAttribute("reported")&&u(t)&&(e.report({uia:8501,aid:1,pid:n+1,ext:encodeURIComponent(JSON.stringify({title:r.title,state:r.state}))}),t.setAttribute("reported",!0))}))},g.prototype.report=function(e){var t={scene:"iSceneId",uia:"iUIArea",pid:"iPositionId",ext:"sExternInfo",aid:"iActionId",op:"iOpType",gid:"sGameId",ssid:"iSourceSceneId"},n={gid:this.appid,scene:85,op:1,ssid:this.ssid},i=l.extend(n,e);for(var r in i)t[r]&&(i[t[r]]=i[r],delete i[r]);this.waitingList.push(i),this.reportHandler(i)},g.prototype.throttleReport=function(e){var t=this;return f((function(e){(0,s.default)(t.waitingList),t.waitingList=[]}),100)},g.prototype.queryPrivilege=function(){var e=this;return new Promise((function(t,n){(0,a.default)("/cgi-bin/gamewap/getlaunchprivilegefunctioninfo",{appid:e.appid},(function(e){t(e)}),(function(){n()}))}))},g.prototype.unBindEvent=function(){this.doms.btn.onclick=null,this.doms.mask.onclick=null,this.doms.container.ontouchmove=null},g.prototype.hideContainer=function(){p("[privilege popup]","hide container",this.appid);document.getElementsByTagName("html")[0];this.doms.container.style.display="none",document.body.className=document.body.className.replace(" game-download__body-stop-scroll","")},g.prototype.showContainer=function(){p("[privilege popup]","show container",this.appid);document.getElementsByTagName("html")[0];this.doms.container.style.display="",document.body.className+=" game-download__body-stop-scroll"},g.prototype.bindEvent=function(){var e=this;e.doms.btn.onclick=function(){p("[privilege popup]","enter game",e.appid),e.hideContainer(),e.report({uia:8502,pid:1,aid:2,op:2}),setTimeout((function(){e.succCbk({appid:e.appid,extern_info:e.data.extern_info||""})}),20)},e.doms.mask.onclick=function(){e.cancelCbk({appid:e.appid}),e.hideContainer()};var t,n=e.doms.list;n.ontouchstart=function(e){document.body.scrollTop,document.body.scrollLeft,t=e.changedTouches[0].screenY},e.doms.mask.onscroll=function(e){},e.doms.container.ontouchmove=function(t){t.changedTouches[0];for(var n=t.target,i=!1;n!=e.doms.container;){if(n==e.doms.list){i=!0;break}n=n.parentNode}i||t.preventDefault(),e.reportPV()},n.ontouchmove=function(e){var i=e.changedTouches,r=!1,o=this.scrollTop,a=n.offsetHeight,s=n.scrollHeight;if(i.length>0){var l=(i[0]||{}).screenY;if(r=!(l-t>0&&o<=0)&&!(l-t<0&&o+a>=s),console.log("set scrollTop",document.body.scrollTop),r)return void e.stopPropagation();e.preventDefault()}}},g.prototype.initView=function(e){var t=e.icon&&e.icon.length,n=(0,o.format)('        <div class="game-download__privilege-top {noIconClass}">             <div class="game-download__privilege-top-icon">                 <img src="{icon}">             </div>             <div class="game-download__privilege-top-text">                 <div class="game-download__privilege-top-title">{title}</div>                 <div class="game-download__privilege-top-subtitle">{sub_title}</div>             </div>         </div>     ',{noIconClass:t?"":"game-download__privilege-top_without-icon",title:e.title,icon:e.icon?e.icon:"//"});n=(0,o.format)(n,{sub_title:e.sub_title||""},!1);var i="",r={1:"game-download__privilege-item-state_available",2:"game-download__privilege-item-state_new",3:"game-download__privilege-item_disable",4:"game-download__privilege-item_disable",5:"game-download__privilege-item_disable",6:"game-download__privilege-item_disable"};e.function_list.forEach((function(e){var t="",n="";1==e.state||2==e.state?n=r[e.state]:t=r[e.state],e.desc&&e.desc.length&&(n=""),i+=(0,o.format)('         <div class="game-download__privilege-item {itemClass}">             <span class="game-download__privilege-item-icon">                 <img src="{icon}">             </span>             <span class="game-download__privilege-item-text">{title}</span>             <span class="game-download__privilege-item-state_base {stateClass}">                 {desc}             </span>         </div>     ',{itemClass:t,stateClass:n,desc:e.desc||"",title:e.title||"",icon:e.icon||"//"})}));var a,s=(0,o.format)('         <div style="z-index:100000;position: fixed;" class="game-download">             <div class="game-download__privilege-popup">                 {topHtml}                 <div class="game-download__privilege-list">                     {itemListHtml}                </div>                 <div class="game-download__privilege-bottom">                     <div class="game-download__privilege-bottom-btn">进入游戏</div>                 </div>             </div>             <div class="game-download__privilege-mask"></div>         </div>     ',{itemListHtml:i,topHtml:n,title:e.title,sub_title:e.sub_title||""},!1);this.doms.container?(a=this.doms.container).innerHTML=s:((a=document.createElement("div")).style.width="100%",a.style.height="100%",a.style.position="fixed",a.style.top="0",a.style.zIndex="10000",a.style.display="none",a.innerHTML=s,document.body.appendChild(a),console.warn("append child",a),this.isInited=!0),this.doms={container:a,mask:a.getElementsByClassName("game-download__privilege-mask")[0],btn:a.getElementsByClassName("game-download__privilege-bottom-btn")[0],list:a.getElementsByClassName("game-download__privilege-list")[0]},this.showContainer()};var m=g;t.default=m},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(6)),a=i(n(17)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3)),l=i(n(2));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function c(e){(e=e||{}).appitem=e.appitem||{},this.option=e,this.appid=e.appid||"",this.icon=e.appitem.IconURL||"",this.name=e.appitem.Name||"",this.uiarea=e.uiarea||3411,this.scene=e.scene||34,this.successCbk=e.success||function(){},this.cancelCbk=e.cancel||function(){},this.init(),WXGAME&&WXGAME.WxBridge.invoke("setGameTab",{isShowTab:0})}c.prototype.init=function(){var e=this;this.insertStyle(),this.insertDom(),this.insertData(),this.insertButton(),this.dialogDom=document.querySelector(".launch-privilege-dialog"),this.maskDom=document.querySelector(".launch-privilege-dialog__mask"),this.panelDom=document.querySelector(".launch-privilege-dialog__panel"),this.bottomDom=document.querySelector(".launch-privilege-dialog__bottom"),setTimeout((function(){e.dialogDom.style.bottom=0,e.maskDom.style.opacity=1,e.panelDom.style.bottom=0,e.report({op:1})}),0),this.bindEvent(),this.getData().then((function(t){if(0===t.errcode){var n=t.launch_privilege||{};e.updateData(n)}})).catch((function(e){}))},c.prototype.report=function(e){var t={scene:"iSceneId",uia:"iUIArea",pid:"iPositionId",ext:"sExternInfo",aid:"iActionId",op:"iOpType",gid:"sGameId",ssid:"iSourceSceneId"},n={gid:this.appid,scene:this.scene,uia:this.uiarea,ssid:this.ssid},i=s.extend(n,e);for(var r in i)t[r]&&(i[t[r]]=i[r],delete i[r]);console.log(i),(0,a.default)([i])},c.prototype.getData=function(){var e=this;return new Promise((function(t,n){(0,o.default)("/cgi-bin/gamewap/getgamebaseextrafor",{appid:e.appid,need_launch_privilege:!0},(function(e){t(e)}),(function(){n()}))}))},c.prototype.updateData=function(e){var t=document.querySelector(".launch-privilege-dialog-desc"),n=document.querySelector(".launch-privilege-dialog__list");t&&(t.innerHTML=e.title||"从微信启动游戏，享启动特权");var i=[];if(i=n&&e.item_list&&e.item_list.length?e.item_list:[{icon_url:"https://res.wx.qq.com/wechatgame/product/cdn/moment/gift_7595b90f.svg",desc:"启动礼包"},{icon_url:"https://res.wx.qq.com/wechatgame/product/cdn/moment/gift_43be081a.svg",desc:"金币/经验加成"},{icon_url:"https://res.wx.qq.com/wechatgame/product/cdn/moment/7da3c830.svg",desc:"游戏内身份展示"}]){for(var r="",o=0,a=i.length;o<a;o++){r+=['<div class="launch-privilege-dialog__item">','<div class="launch-privilege-dialog__item-icon" style="background-image:url('+i[o].icon_url+')"></div>','<div class="launch-privilege-dialog__item-desc">'+i[o].desc+"</div>","</div>"].join("")}n.innerHTML=r}},c.prototype.insertStyle=function(){if(!document.getElementById("launch_privilege_dialog_style")){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id","launch_privilege_dialog_style");e.innerHTML="\n.launch-privilege-dialog {\n\tposition: fixed;\n\tleft: 0;\n\tbottom: -100%;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 100002;\n}\n\n.launch-privilege-dialog__mask {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\topacity: 0;\n\tbackground-color: rgba(0, 0, 0, 0.6);\n\ttransition: opacity .1s linear\n}\n\n.launch-privilege-dialog__panel {\n\tposition: absolute;\n\tleft: 0;\n\tbottom: -100%;\n\twidth: 100%;\n\tpadding: 0 1.1rem;\n\tmin-height: 300px;\n\tbackground: #ffffff;\n\tborder-top-left-radius: 12PX;\n\tborder-top-right-radius: 12PX;\n    transition: bottom .3s ease-in-out;\n    color: rgba(0,0,0,0.9);\n}\n.wg_dark_mode .launch-privilege-dialog__panel {\n    background: #232323;\n    color: rgba(255,255,255,0.8);\n}\n\n.launch-privilege-dialog__title {\n\twidth: 100%;\n\theight: 64px;\n\tdisplay: flex;\n}\n\n.launch-privilege-dialog__icon {\n\twidth: 24px;\n\theight: 64px;\n\tmargin-right: 8px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 24PX 24PX;\n\tbackground-position: center;\n}\n\n.launch-privilege-dialog__title {\n\theight: 64px;\n\tline-height: 64px;\n\topacity: 0.9;\n\tfont-family: PingFangSC-Medium;\n\tfont-size: 15PX;\n}\n\n.launch-privilege-dialog-desc {\n\topacity: 0.9;\n\tfont-family: PingFangSC-Medium;\n\tfont-size: 17PX;\n\tvarter-spacing: 0;\n\tline-height: 24px;\n\theight: 24px\n}\n\n.launch-privilege-dialog__list {\n\twidth: 100%;\n\tdisplay: flex;\n\tmin-height: 96px;\n\tflex-wrap: wrap;\n}\n\n.launch-privilege-dialog__item {\n\twidth: 55%;\n\tdisplay: flex;\n\tmargin-top: 24px;\n}\n\n.launch-privilege-dialog__item:nth-child(2n) {\n\twidth: 45%;\n}\n\n.launch-privilege-dialog__item-icon {\n\twidth: 24px;\n\theight: 24px;\n\tmargin-right: 8px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 24PX 24PX;\n\tbackground-position: center;\n}\n\n.launch-privilege-dialog__item-desc {\n\theight: 24px;\n\tline-height: 24px;\n\tfont-family: PingFang-SC-Regular;\n\tfont-size: 14PX;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap!important;\n\tmax-width: 75%\n}\n\n.launch-privilege-dialog__bottom {\n\twidth: 11.7rem;\n\tdisplay: flex;\n\tpadding: 30px 0px;\n\tjustify-content: space-between;\n\tmargin: 0 auto;\n}\n\n.launch-privilege-dialog__button {\n\twidth: 5.5rem;\n\theight: 2rem;\n    background: rgba(0, 0, 0, 0.05);\n\tcolor: #06ae56;\n\tborder-radius: 4px;\n\tfont-family: PingFangSC-Medium;\n\tfont-size: 17PX;\n\tvarter-spacing: 1px;\n\ttext-align: center;\n\tline-height: 2rem;\n}\n.wg_dark_mode .launch-privilege-dialog__button {\n    background: rgba(255, 255, 255, 0.08);\n\tcolor: rgba(255, 255, 255, 0.8);\n}\n\n.launch-privilege-dialog__button-right {\n\tbackground: #07C160;\n\tcolor: #FFFFFF;\n}\n.wg_dark_mode .launch-privilege-dialog__button-right {\n\tbackground: #07C160;\n\tcolor: #FFFFFF;\n}\n",document.getElementsByTagName("head")[0].appendChild(e)}},c.prototype.insertDom=function(){if(!document.getElementById("launch_privilege_dialog_dom")){var e=document.createElement("div");e.setAttribute("id","launch_privilege_dialog_dom"),e.classList.add("launch-privilege-dialog"),l.default.isDarkMode&&e.classList.add("wg_dark_mode");e.innerHTML=['<div class="launch-privilege-dialog__mask"></div>','<div class="launch-privilege-dialog__panel">','<div class="launch-privilege-dialog__title"></div>','<div class="launch-privilege-dialog__content">','<div class="launch-privilege-dialog-desc"> </div>',"</div>",'<div class="launch-privilege-dialog__bottom"></div>',"</div>"].join(""),document.body.appendChild(e)}},c.prototype.insertData=function(){var e=['<div class="launch-privilege-dialog__icon" style="background-image:url('+this.icon+')"></div>','<div class="launch-privilege-dialog__name">即将启动“'+this.name+"”</div>"];(t=document.querySelector(".launch-privilege-dialog__title"))&&(t.innerHTML=e.join(""));var t;e='<div class="launch-privilege-dialog__list"></div>';(t=document.querySelector(".launch-privilege-dialog__content"))&&(t.innerHTML+=e)},c.prototype.insertButton=function(){var e=document.querySelector(".launch-privilege-dialog__bottom");e&&(e.innerHTML+=['<div class="launch-privilege-dialog__button launch-privilege-dialog__button-left">取消</div>','<div class="launch-privilege-dialog__button launch-privilege-dialog__button-right">启动</div>'].join(""))},c.prototype.bindEvent=function(){var e=this;this.maskDom.addEventListener("click",(function(){e.closeEvent()})),this.bottomDom.addEventListener("click",(function(t){(t.target&&t.target.className||"").indexOf("left")>-1?(e.closeEvent(),e.report({pid:2,aid:61})):(e.report({pid:1,aid:22}),e.successCbk(),e.closeEvent())}))},c.prototype.closeEvent=function(){var e=this;e.panelDom.style.bottom="-100%",setTimeout((function(){e.maskDom.style.opacity=0,WXGAME&&WXGAME.WxBridge.invoke("setGameTab",{isShowTab:1})}),200),setTimeout((function(){e.dialogDom.style.bottom="-100%",e.dialogDom.parentNode.removeChild(e.dialogDom)}),350),this.cancelCbk()};var u=c;t.default=u},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(6)),a=i(n(17)),s=f(n(3)),l=i(n(2)),d=i(n(28)),c=f(n(7));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function p(e,t){var n;return function(){var i=arguments;n||(e.apply(this,i),n=setTimeout((function(){n=null}),t))}}function g(e){(e=e||{}).appitem=e.appitem||{},this.option=e,this.appid=e.appid||e.appitem.AppID||"",this.icon=e.appitem.IconURL||"",this.name=e.appitem.Name||"",this.uiarea=e.uiarea||3412,this.scene=e.scene||34,this.type=e.type||"预约",this.autoDownload=e.autoDownload,this.wifiChecked=!1,this.hasCard=!1,this.isSelectShowFriend=!0,this.isUseFollow=e.appitem.is_use_follow||!1,this.closeCbk=e.close||function(){},this.jumpCbk=e.jumpCbk||function(){},this.init(),this.loadData(),WXGAME&&WXGAME.WxBridge.invoke("setGameTab",{isShowTab:0})}g.prototype.init=function(){var e=this;this.insertStyle(),this.insertDom(),this.insertData(),this.insertButton(),this.dialogDom=document.querySelector(".appbtn-reserve-dialog"),this.maskDom=document.querySelector(".appbtn-reserve-dialog__mask"),this.panelDom=document.querySelector(".appbtn-reserve-dialog__panel"),this.bottomDom=document.querySelector(".appbtn-reserve-dialog__button"),setTimeout((function(){e.dialogDom.style.bottom=0,e.maskDom.style.opacity=1,e.panelDom.style.bottom=0,e.report({aid:1,op:1})}),100),this.bindEvent()},g.prototype.loadData=function(){var e=this;(0,o.default)("/cgi-bin/gamewap/getgamebaseextrafor",{appid:e.appid,need_subscribe_info:!0,need_group_info:!0,need_wecom_chat_room:!0,need_reservation_live:!0},(function(t){t&&0===t.errcode&&e.afterLoad(t)}),(function(){}))},g.prototype.report=function(e){var t={scene:"iSceneId",uia:"iUIArea",pid:"iPositionId",ext:"sExternInfo",aid:"iActionId",op:"iOpType",gid:"sGameId",ssid:"iSourceSceneId",astsuts:"sActionStatus"},n={gid:this.appid,scene:this.scene,uia:this.uiarea,ssid:this.ssid},i=s.extend(n,e);for(var r in i)t[r]&&(i[t[r]]=i[r],delete i[r]);(0,a.default)([i])},g.prototype.getData=function(){var e=this;return new Promise((function(t,n){(0,o.default)("/cgi-bin/gamewap/getgamebaseextrafor",{appid:e.appid,need_launch_privilege:!0,need_group_info:!0},(function(e){t(e)}),(function(){n()}))}))},g.prototype.afterLoad=function(e){this.updateData(e)},g.prototype.updateData=function(e){var t=this,n=this,i=document.querySelector(".appbtn-reserve-dialog__list"),r=null==e?void 0:e.reservation_live;this.hasCard=e.subscribe_info&&e.subscribe_info.has_wifi_download_card;var a=[],s=e.group_info;s&&e.subscribe_info&&e.subscribe_info.has_group&&a.push({iconUrl:s.group_icon||this.icon||"",title:"去"+(this.name.length>5?this.name.substring(0,4)+"... ":this.name)+"圈看更多内容",desc:c.filterXSS(s.desc)||"更多资讯活动抢先看",showIcon:!0,iconText:"进入圈子",jumpUrl:s.jump_url||"https://game.weixin.qq.com/cgi-bin/h5/static/appcenter/singlecircle.html?ssid=3412&appid="+this.appid,type:"community"});var l=e.wecom_chat_room;if(l&&!r&&a.push({iconUrl:l.icon_url||this.icon||"",title:l.title||"",desc:c.filterXSS(l.desc)||"更多资讯活动抢先看",showIcon:!0,iconText:"加入官群",jumpUrl:l.jump_url||"https://game.weixin.qq.com/cgi-bin/h5/static/appcenter/singlecircle.html?ssid=3412&appid="+this.appid,type:"group"}),e.subscribe_info&&(this.isSelectShowFriend=!e.subscribe_info.blocked_subscribe_info,this.originSelectShowFriend=!e.subscribe_info.blocked_subscribe_info,!this.isSelectShowFriend)){var d=document.querySelector(".appbtn-reserve-dialog__radio-icon");d&&d.classList.remove("appbtn-reserve-dialog__radio_checked")}var u=document.querySelector(".appbtn-reserve-dialog__content"),f=document.querySelector(".appbtn-reserve-dialog-desc");if(a.length||r){for(var p="",g=0,_=a.length;g<_;g++){var m=['<div class="appbtn-reserve-dialog__item '+(a[g].jumpUrl?"appbtn-reserve-dialog__item-jump":"")+'" data-url="'+a[g].jumpUrl+'" data-type="'+a[g].type+'">','<div class="appbtn-reserve-dialog__item-icon" style="background-image:url('+a[g].iconUrl+')"></div>','<div class="appbtn-reserve-dialog__item-center">','<div class="appbtn-reserve-dialog__item-title">'+(a[g].title||"")+"</div>",'<div class="appbtn-reserve-dialog__item-desc">'+(a[g].desc||"")+"</div>",a[g].meta?'<div class="appbtn-reserve-dialog__item-meta">'+(a[g].meta||"")+"</div>":"","</div>"];a[g].showIcon&&(m=m.concat(['<div class="appbtn-reserve-dialog__item-right">','<div class="appbtn-reserve-dialog__item-button">'+a[g].iconText+"</div>","</div>","</div>"])),m.push("</div>"),p+=m.join("")}if(i.innerHTML=p,r){var h=(null==r?void 0:r.title)||"",w=(null==r?void 0:r.desc)||"",v='<div class="appbtn-reserve-dialog__item" style="display: flex; align-items: center;">\n            <div class="appbtn-reserve-dialog__item-icon" style="background-image: url(\'https://mmgame.qpic.cn/h5/ev-cli/live_4130e0d6.svg\')"></div><div class="appbtn-reserve-dialog__item-center">\n              <div class="appbtn-reserve-dialog__item-title">'.concat(h,'</div>\n              <div class="appbtn-reserve-dialog__item-desc">').concat(w,'</div>\n            </div>\n            <input id="reserveLiveSwitcher" class="ui-checkbox_button" type="checkbox">\n          </div>'),A=document.createElement("style");A.setAttribute("type","text/css"),A.innerHTML=".ui-checkbox_button{\n                width: 52px;\n                height: 32px;\n                position: relative;\n                z-index: 2;\n                border: 0;\n                background: 0 0;\n                appearance: none;\n                outline: 0;\n                -webkit-appearance: none;\n              }\n              .ui-checkbox_button:before{\n                content: '';\n                position: relative;\n                display: inline-block;\n                width: 50px;\n                height: 30px;\n                border: 1px solid #dfdfdf;\n                background-color: #fdfdfd;\n                border-radius: 20px;\n                cursor: pointer;\n                vertical-align: middle;\n                box-sizing: content-box;\n                box-shadow: #dfdfdf 0 0 0 0 inset;\n                transition: border .2s,box-shadow .2s;\n                background-clip: content-box\n              }\n              .ui-checkbox_button:after{\n                content: '';\n                position: absolute;\n                top: 1px;\n                left: 0;\n                width: 30px;\n                height: 30px;\n                border-radius: 100%;\n                background-color: #fff;\n                box-shadow: 0 1px 3px rgba(0,0,0,.4);\n                transition: left .2s\n              }\n              .ui-checkbox_button:checked:before{\n                border-color: #4cd964;\n                box-shadow: #4cd964 0 0 0 16px inset;\n                background-color: #4cd964;\n                transition: border .2s,box-shadow .2s,background-color 0.5s;\n              }\n              .ui-checkbox_button:checked:after{\n                left: 21px;\n              }",document.getElementsByTagName("head")[0].appendChild(A);var b=document.createElement("div");b.innerHTML=v,i.appendChild(b);var y=document.getElementById("reserveLiveSwitcher");y.checked=!0,y.onchange=function(e){var t=e.target.checked,i=n.appid,r={method:"POST"};t?r.reservation_live={appid:i}:r.cancel_reservation_live={appid:i},(0,o.default)("/cgi-bin/gamecenterwap/updategamecenterdata",JSON.stringify(r))},u.style.display="block",f.style.display="block"}u&&(u.style.display="block")}else u&&(u.style.display="none"),f&&(f.style.display="none");setTimeout((function(){t.bindListEvent()}),100)},g.prototype.insertStyle=function(){if(!document.getElementById("appbtn-reserve-dialog_style")){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id","appbtn-reserve-dialog_style");var t='\n.appbtn-reserve-dialog * {\n    box-sizing: border-box !important;\n}\n\n.appbtn-reserve-dialog {\n    position: fixed;\n    left: 0;\n    bottom: -100%;\n    width: 100%;\n    height: 100%;\n    z-index: 100002;\n}\n\n.appbtn-reserve-dialog__mask {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    background-color: rgba(0, 0, 0, 0.6);\n    transition: opacity .1s linear\n}\n\n.appbtn-reserve-dialog__panel {\n    position: absolute;\n    left: 0;\n    bottom: -100%;\n    width: 100%;\n    padding: 0 24px;\n    min-height: 300px;\n    background: #ffffff;\n    border-top-left-radius: 12PX;\n    border-top-right-radius: 12PX;\n    transition: bottom .3s ease-in-out, height .3s ease-in-out\n}\n.wg_dark_mode .appbtn-reserve-dialog__panel {\n    background: #232323;\n}\n\n.appbtn-reserve-dialog__head {\n    width: 100%;\n    padding: 40px 0 32px 0;\n}\n\n.appbtn-reserve-dialog__content {\n    display: none\n}\n\n.appbtn-reserve-dialog__head-icon {\n    width: 64px;\n    height: 64px;\n    margin: 0 auto;\n    background-size: 64px;\n    background-repeat: no-repeat;\n    background-image: url( https://res.wx.qq.com/wechatgame/product/cdn/moment/done2_50803a7b.svg);\n}\n\n.appbtn-reserve-dialog__head-title {\n    margin-top: 8px;\n    line-height: 24px;\n    font-family: PingFang-SC-Medium;\n    font-size: 17px;\n    color: rgba(35,35,35,0.90);\n    text-align: center;\n}\n\n.appbtn-reserve-dialog__head-title-second {\n    margin-top: 4px;\n}\n.wg_dark_mode .appbtn-reserve-dialog__head-title {\n    color: rgba(255,255,255,0.8);\n}\n\n.appbtn-reserve-dialog-desc {\n    font-family: PingFangSC-Regular;\n    font-size: 13px;\n    color: rgba(0, 0, 0, 0.3);\n    line-height: 20px;\n}\n.wg_dark_mode .appbtn-reserve-dialog-desc {\n    color: rgba(255,255,255,0.3);\n}\n\n.appbtn-reserve-dialog__list {\n    width: 100%;\n    min-height: 72px;\n    position: relative;\n    margin-top: 8px;\n}\n\n.appbtn-reserve-dialog__list:before {\n    content: "";\n    width: 200%;\n    height: 200%;\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    position: absolute;\n    transform: scale(.5);\n    transform-origin: 0 0;\n    transform-origin: 0 0;\n    left: 0;\n    top: 0;\n}\n.wg_dark_mode .appbtn-reserve-dialog__list:before {\n    border-color: rgba(255,255,255,0.05);\n}\n\n.appbtn-reserve-dialog__item {\n    width: 100%;\n    display: flex;\n    position: relative;\n    padding: 16px 0;\n}\n\n.appbtn-reserve-dialog__item:after {\n    content: "";\n    width: 100%;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    transform: scaleY(.5)\n}\n.wg_dark_mode .appbtn-reserve-dialog__item:after {\n    border-bottom-color: rgba(255,255,255,0.05);\n}\n\n.appbtn-reserve-dialog__item:last-child::after {\n    display: none;\n}\n\n.appbtn-reserve-dialog__item-icon {\n    width: 48px;\n    height: 48px;\n    min-width: 48px;\n    margin-right: 12px;\n    background-repeat: no-repeat;\n    background-size: 48PX 48PX;\n    background-position: center;\n    border-radius: 8PX;\n}\n\n.appbtn-reserve-dialog__item-center {\n    width: 100%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.appbtn-reserve-dialog__item-title {\n    font-family: PingFangSC-Regular;\n    line-height: 21px;\n    font-size: 15px;\n    margin-top: 2px;\n    color: rgba(0,0,0,0.90);\n    letter-spacing: 0;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    padding-right: 8px;\n}\n.wg_dark_mode .appbtn-reserve-dialog__item-title {\n    color: rgba(255,255,255,0.8);\n}\n\n.appbtn-reserve-dialog__item-desc {\n    margin-top: 4px;\n    font-family: PingFangSC-Regular;\n    font-size: 13px;\n    color: rgba(0,0,0,0.30);\n    line-height: 20px;\n    width: 100%;\n    padding-right: 8px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.wg_dark_mode .appbtn-reserve-dialog__item-desc {\n    color: rgba(255,255,255,0.5);\n}\n\n.appbtn-reserve-dialog__item-meta {\n    margin-top: 4px;\n    font-family: PingFangSC-Regular;\n    font-size: 13px;\n    color: #FA9D3B;\n    line-height: 20px;\n}\n\n.appbtn-reserve-dialog__item-meta:before {\n    content: "";\n    position: relative;\n    top: 1px;\n    margin-right: 4px;\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    background-image: url(https://res.wx.qq.com/wechatgame/product/cdn/moment/acad8881.svg);\n    background-size: 12px 12px;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.appbtn-reserve-dialog__item-right {\n    margin-top: 12px;\n    flex-shrink: 0;\n}\n\n.appbtn-reserve-dialog__item-arrow {\n    margin-right: 4px;\n    width: 12px;\n    height: 22px;\n    background-size: 12px 22px;\n    background-repeat: no-repeat;\n    background-image: url(https://res.wx.qq.com/wechatgame/product/cdn/moment/arrow_4daf6a60.svg)\n}\n\n.appbtn-reserve-dialog__item-button {\n    font-family: PingFang-SC-Medium;\n    font-size: 15px;\n    color: #576B95;\n    letter-spacing: 0;\n    line-height: 21px;\n}\n\n.wg_dark_mode .appbtn-reserve-dialog__item-button {\n    color: #7D90A9;\n}\n\n.wg_dark_mode .appbtn-reserve-dialog__item-arrow {\n    background-image: none;\n    background-color: #ffffff;\n    -webkit-mask-size: 12px 22px;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-image: url(https://res.wx.qq.com/wechatgame/product/cdn/moment/arrow_4daf6a60.svg)\n}\n\n.appbtn-reserve-dialog__checkbox {\n    width: 45px;\n    height: 24px;\n    position: relative;\n    z-index: 2;\n    border: 0;\n    background: 0 0;\n    appearance: none;\n    outline: 0;\n}\n\n.appbtn-reserve-dialog__checkbox:before {\n    content: "";\n    position: relative;\n    display: inline-block;\n    width: 43px;\n    height: 22px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    background-color: #fdfdfd;\n    border-radius: 20px;\n    cursor: pointer;\n    vertical-align: middle;\n    box-sizing: content-box;\n    box-shadow: rgba(0, 0, 0, 0.1) 0 0 0 0 inset;\n    transition: border 0.2s, box-shadow 0.2s;\n    background-clip: content-box;\n}\n.wg_dark_mode .appbtn-reserve-dialog__checkbox:before {\n    background-color: #191919;\n}\n\n.appbtn-reserve-dialog__checkbox:checked:before {\n    border-color: #07C160;\n    box-shadow: #07C160 0 0 0 15px inset;\n    background-color: #07C160;\n    transition: border 0.2s, box-shadow 0.2s, background-color 0.5s;\n}\n\n.appbtn-reserve-dialog__checkbox:after {\n    content: "";\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    background-color: #fff;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n    transition: left 0.2s;\n}\n\n.appbtn-reserve-dialog__checkbox:checked:after {\n    left: 22px\n}\n\n.appbtn-reserve-dialog__bottom {\n    width: 100%;\n    display: flex;\n    padding: 40px 0px 16PX;\n    justify-content: center;\n    margin: 0 auto;\n}\n\n.appbtn-reserve-dialog__button {\n    width: 184px;\n    height: 40px;\n    background: rgba(0, 0, 0, 0.05);\n    border-radius: 4px;\n    font-family: PingFangSC-Medium;\n    font-size: 17PX;\n    color: rgb(6, 174, 86);\n    varter-spacing: 1px;\n    text-align: center;\n    line-height: 40px;\n}\n\n.appbtn-reserve-dialog__radio{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 13px;\n    color: rgba(0, 0, 0, 0.3);\n    line-height: 20px;\n    padding-bottom: 40px;\n    width: 200PX;\n    margin: 0 auto;\n}\n\n.appbtn-reserve-dialog__radio-icon{\n    height: 18px;\n    width: 18px;  \n    background-color: rgba(0, 0, 0, 0);\n    margin-right: 6px;\n    border-radius: 50%;\n    border: 1px solid rgba(0, 0, 0, 0.3)\n}\n\n.appbtn-reserve-dialog__radio_checked{\n    height: 20px;\n    width: 20px;\n    background-color: #07c160;\n    -webkit-mask-image: url("https://res.wx.qq.com/wechatgame/product/cdn/moment/done2_50803a7b.svg");\n    -webkit-mask-size: 100% 100%;\n    -webkit-mask-repeat: no-repead;\n    -webkit-mask-position: center;\n    margin-right: 4px;\n    border: none;\n}\n\n.appbtn-reserve-dialog__radio-text{\n    margin: 0;\n    padding: 0;\n}\n\n.wg_dark_mode .appbtn-reserve-dialog__button {\n    background: rgba(255, 255, 255, 0.08);\n    color: rgba(255, 255, 255, 0.8);\n}\n\n.wg_dark_mode .appbtn-reserve-dialog__radio-text{\n    color: rgba(255, 255, 255, 0.3);\n}\n\n.wg_dark_mode .appbtn-reserve-dialog__radio-icon{\n    color: rgba(255, 255, 255, 0.3);\n    border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n';l.default.isiOS&&window.innerHeight>736&&(t+="\n.appbtn-reserve-dialog__radio{padding-bottom: 70px}\n"),e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)}},g.prototype.insertDom=function(){if(!document.getElementById("appbtn-reserve-dialog_dom")){var e=document.createElement("div");e.setAttribute("id","appbtn-reserve-dialog_dom"),e.classList.add("appbtn-reserve-dialog"),l.default.isDarkMode&&e.classList.add("wg_dark_mode");var t="向好友展示你的预约状态";this.isUseFollow&&(t="向好友展示你的关注状态");var n=['<div class="appbtn-reserve-dialog__mask"></div>','<div class="appbtn-reserve-dialog__panel">','<div class="appbtn-reserve-dialog__head">','<div class="appbtn-reserve-dialog__head-icon"></div>','<div class="appbtn-reserve-dialog__head-title">'+this.type+"成功"+(this.autoDownload?"":"，游戏上线后将通知你")+"</div>",'<div class="appbtn-reserve-dialog__head-title appbtn-reserve-dialog__head-title-second">'+(this.autoDownload?"游戏上线后将在 Wi-Fi 下自动下载":"")+"</div>","</div>",'<div class="appbtn-reserve-dialog-desc">你还可以</div>','<div class="appbtn-reserve-dialog__content">',"</div>",'<div class="appbtn-reserve-dialog__bottom"></div>','<div class="appbtn-reserve-dialog__radio">','<div class="appbtn-reserve-dialog__radio-icon appbtn-reserve-dialog__radio_checked"></div>','<p class="appbtn-reserve-dialog__radio-text">'+t+"</p>","</div>","</div>"];e.innerHTML=n.join(""),document.body.appendChild(e)}},g.prototype.insertData=function(){var e=document.querySelector(".appbtn-reserve-dialog__content");e&&(e.innerHTML='<div class="appbtn-reserve-dialog__list"></div>')},g.prototype.insertButton=function(){document.querySelector(".appbtn-reserve-dialog__bottom").innerHTML=['<div class="appbtn-reserve-dialog__button appbtn-reserve-dialog__button-left">完成</div>'].join("")},g.prototype.bindEvent=function(){var e=this;this.bottomDom.addEventListener("click",(function(t){e.closeEvent()}))},g.prototype.bindListEvent=function(){for(var e=this,t=document.querySelectorAll(".appbtn-reserve-dialog__item-jump"),n=0;n<t.length;n++){var i=t[n];i&&i.addEventListener("click",p((function(t){var n=t.target.getAttribute("data-url"),i=t.target.getAttribute("data-type");n||(n=t.target.parentNode.getAttribute("data-url"),i=t.target.parentNode.getAttribute("data-type"),n||(n=t.target.parentNode.parentNode&&t.target.parentNode.parentNode.getAttribute("data-url"),i=t.target.parentNode.parentNode&&t.target.parentNode.parentNode.getAttribute("data-type"))),n&&(e.report({pid:2,aid:n.indexOf("weapp")>-1?71:40}),e.jumpCbk({type:i,url:n}),d.default.openUrl(n,{ssid:e.uiarea}))}),300))}var r=document.querySelector(".appbtn-reserve-dialog__checkbox");r&&r.addEventListener("click",(function(){e.report({pid:1,aid:2})})),document.querySelector(".appbtn-reserve-dialog__radio").addEventListener("click",(function(t){var n=document.querySelector(".appbtn-reserve-dialog__radio-icon");n&&(n.className.indexOf("appbtn-reserve-dialog__radio_checked")>-1?(e.isSelectShowFriend=!1,n.classList.remove("appbtn-reserve-dialog__radio_checked")):(e.isSelectShowFriend=!0,n.classList.add("appbtn-reserve-dialog__radio_checked")))}))},g.prototype.closeEvent=function(){var e,t=this,n=document.querySelector(".appbtn-reserve-dialog__checkbox");n&&(this.wifiChecked=n.checked),this.isSelectShowFriend!==this.originSelectShowFriend&&(e=this.isSelectShowFriend,new Promise((function(t,n){(0,o.default)("/cgi-bin/gamewap/gamemanage",JSON.stringify({method:"POST",set_global_flag:{block_game_subscribe_info:!e}}),(function(e){t(e)}),(function(){n()}))})));try{localStorage.setItem("__reserve_dialog_switch__",n.checked?"0":"1")}catch(e){}t.panelDom.style.bottom="-100%",setTimeout((function(){t.maskDom.style.opacity=0,WXGAME&&WXGAME.WxBridge.invoke("setGameTab",{isShowTab:1})}),200),setTimeout((function(){t.dialogDom.style.bottom="-100%",t.dialogDom.parentNode.removeChild(t.dialogDom)}),350),this.closeCbk(!l.default.isiOS&&this.wifiChecked,this.hasCard),t.report({pid:3,aid:61,astsuts:this.wifiChecked?1:0})};var _=g;t.default=_},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(37)),a=i(n(6)),s=i(n(17)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3)),d=i(n(2));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var u="下载中，可抢先体验，边下边玩",f="可通过云游戏抢先注册体验游戏内容",p="下载中，礼包已发放至福利中心",g="微信下载专属礼包",_=!1;function m(e){this.insertStyle(),this.appitem=e.appitem||{},this.config=e.config||{},this.appid=e.appitem.AppID||"wx62d9035fd4fd2059",this.uiarea=e.uiarea||3455,this.scene=e.scene||34}m.prototype.checkGift=function(e){_||(_=!0,(0,a.default)("/cgi-bin/mmgamedistributionwap/getcontentserviceentrance",JSON.stringify({method:"POST",content_id:this.appid,type:3}),(function(t){_=!1,t&&0===t.errcode&&t.data&&t.data.entrance&&t.data.entrance.gift_info&&t.data.entrance.gift_info.gift_list&&t.data.entrance.gift_info.gift_list.length&&e&&e(t.data.entrance.gift_info.gift_list)}),(function(){_=!1})))},m.prototype.showCloudGameDialog=function(e){var t=this;1==e?(this.dialog=new o.default(this.getHtml(e),this.getButton(e,(function(e){if("openCloudGame"==e){var n=t.appitem.app_cloud_game&&t.appitem.app_cloud_game.jump_h5&&t.appitem.app_cloud_game.launch_url||"",i="horizontal",r=!0;if(n){var o=(0,l.getQueryStr)("data",n);i=(0,l.getQueryStr)("orientation",n),r="0"!=(0,l.getQueryStr)("fullscreen",n),n=(o=JSON.parse(decodeURIComponent(o))).url}n&&n.indexOf("?")>-1?n=n.replace("?","?ssid=".concat(t.uiarea,"&immersiveUIStyle=1&immersivePageBgIsDark=1&wechat_immersive=1&")):n&&(n+="?ssid=".concat(t.uiarea,"&immersiveUIStyle=1&immersivePageBgIsDark=1&wechat_immersive=1")),d.default.isAndroid&&!d.default.isPcWechat?WXGAME.WxBridge.invoke("openCustomWebview",{orientation:i||"horizontal",fullscreen:r,url:n,open_game_webview:"1"}):WXGAME.openUrl(n),t.report({pid:1,aid:128}),setTimeout((function(){t.checkGift(t.showGiftDialog.bind(t))}),400)}else"back"==e&&(setTimeout((function(){t.checkGift(t.showGiftDialog.bind(t))}),400),t.report({pid:1,aid:4}))}))),this.report({pid:1,aid:1})):2==e&&this.checkGift(t.showGiftDialog.bind(t))},m.prototype.showGiftDialog=function(e){var t=this;this.dialog=new o.default(this.getHtml(2,e),this.getButton(2,(function(e){"jumpGift"==e?(WXGAME.openUrl("https://game.weixin.qq.com/cgi-bin/welfare/static/welfareone/index.html?id=".concat(t.appid,"&tab=2&single=1&wechat_pkgid=welfare__welfareone_index&ssid=").concat(t.uiarea)),t.report({pid:2,aid:40})):"close"==e&&t.report({pid:2,aid:2,astsuts:2})}))),this.report({pid:2,aid:1})},m.prototype.report=function(e){var t={scene:"iSceneId",uia:"iUIArea",pid:"iPositionId",ext:"sExternInfo",aid:"iActionId",op:"iOpType",gid:"sGameId",ssid:"iSourceSceneId",astsuts:"sActionStatus"},n={gid:this.appid,scene:this.scene,uia:this.uiarea,ssid:this.ssid,ext:{uiarea:this.config.uiarea}},i=l.extend(n,e);for(var r in i)t[r]&&(i[t[r]]=i[r],delete i[r]);(0,s.default)([i])},m.prototype.insertStyle=function(){if(!(e=document.getElementById("global_subscribe_style"))){var e;(e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("id","global_subscribe_style");e.innerHTML="\n            .cloud-g{display: flex;align-items: center;justify-content: center;flex-direction: column;padding: 44PX 16PX 32PX;text-align: center;}\n            .cloud-g__title{font-weight: 500;font-size: 20PX;line-height: 28PX;color: #000;}\n            .cloud-g__desc{color: rgba(0, 0, 0, 0.55);font-size: 16PX;line-height: 22PX;margin-top: 8PX;}\n            .cloud-g__image{background-repeat: no-repeat;background-size: 100% 100%;margin-top: 32PX;background-color: transparent;}\n            .cloud-g__game-title{font-weight: 500;font-size: 16PX;line-height: 22PX;color: rgba(0, 0, 0, 0.9);margin-top: 16PX;}\n            .cloud-g__label{display: flex;align-content: center;justify-content: center;font-size: 12PX;line-height: 17PX;color: rgba(0, 0, 0, 0.55);margin-top: 4PX;}\n            .cloud-g__label-tag{margin-left: 16PX;position: relative;}\n            .cloud-g__label-tag:first-child{margin-left: 0;}\n            .cloud-g__label-tag:first-child::after{display: none;}\n            .cloud-g__label-tag::after{content: '';position: absolute;height: 24PX;width: 1PX;background-color: rgba(0, 0, 0, 0.15);transform: scale(.5);left: -9PX;top: -4PX;}\n            .wg-basic-half-screen-dialog__button{color: #00A6A6 !important;}\n            .wg-basic-half-screen-dialog__button-primary{background: #00BFBF !important; color: #FFFFFF !important;}\n            .wg_dark_mode .cloud-g__title{ color: rgba(255, 255, 255, 0.8); }\n            .wg_dark_mode .cloud-g__game-title{ color: rgba(255, 255, 255, 0.8); }\n            .wg_dark_mode .cloud-g__desc{ color: rgba(255, 255, 255, 0.5); }\n            .wg_dark_mode .cloud-g__label{ color: rgba(255, 255, 255, 0.5); }\n            .wg_dark_mode .cloud-g__label-tag::after{ background-color: rgba(255, 255, 255, 0.1); }\n            .down-gift{padding: 40PX 16PX 56PX;display: flex;align-items: center;justify-content: center;flex-direction: column;}\n            .down-gift__title{font-weight: 500;font-size: 17PX;line-height: 24PX;color: rgba(0, 0, 0, .9)}\n            .down-gift__box{margin-top: 32PX;background-color: #F7F7F7;padding: 12PX 16PX;width: 100%;border-radius: 4PX;text-align: center;}\n            .down-gift__box-title{font-size: 14PX;line-height: 20PX;color: rgba(0, 0, 0, .9)}\n            .down-gift__box-scroll{overflow-x: auto;margin-top: 8PX;}\n            .down-gift__box-list{display: inline-flex;}\n            .down-gift__b-l-i{width: 70PX;display: flex;flex-direction: column;align-items: center;}\n            .down-gift__b-l-i + .down-gift__b-l-i{margin-left: 8PX;}\n            .down-gift__b-l-i-top{position: relative;width: 50PX;height: 50PX;display: flex;align-items: center;justify-content: center;border-radius: 8PX;}\n            .down-gift__b-l-i-top::after{content: '';position: absolute;top: 0;left: 0;width: 121%;height: 121%;transform: scale(.8);transform-origin: 0 0;border: 1PX solid #eee;border-radius: 8PX;}\n            .down-gift__b-l-i-top-img{width: 40PX;height: 40PX;background-repeat: no-repeat;background-size: 100% 100%;}\n            .down-gift__b-l-i-top-count{position: absolute;bottom: 0;right: 0;border-radius: 4PX 0 8PX 0;font-size: 12PX;transform: scale(.75);transform-origin: bottom right;padding: 0 5PX;background-color: rgba(255, 255, 255, .9);line-height: 18.7PX;}\n            .down-gift__b-l-i-b{margin-top: 5PX;position: relative;max-height: 28PX;}\n            .down-gift__b-l-i-b-name{overflow:hidden;text-overflow: ellipsis;-webkit-line-clamp: 2;display: -webkit-box;-webkit-box-orient: vertical;transform: scale(.83);font-size: 12PX;transform-origin: 0 0;margin-left: 4PX;}\n            .indent{text-indent: 30PX;}\n            .wg-basic-half-screen-dialog__button{color: #00A6A6 !important;}\n            .wg-basic-half-screen-dialog__button-primary{background: #00BFBF !important; color: #FFFFFF !important;}\n            .wg_dark_mode .down-gift__title{color: rgba(255, 255, 255, 0.8);}\n            .wg_dark_mode .down-gift__box-title{color: rgba(255, 255, 255, 0.8);}\n            .wg_dark_mode .down-gift__box{background-color: #1e1e1e;}\n            .wg_dark_mode .down-gift__b-l-i-top-count{background-color: rgba(0,0,0,.9);}\n            .wg_accessibility_mode .indent{text-indent: 33PX;}\n            .wg_accessibility_mode .down-gift__b-l-i-b{max-height: 33PX;}\n        ",document.getElementsByTagName("head")[0].appendChild(e)}},m.prototype.getButton=function(e,t){return 2==e?[{label:"查看礼包",type:"default",callback:function(){t("jumpGift")}},{label:"好的",type:"primary",callback:function(){t("close")}}]:[{label:"返回",type:"default",callback:function(){t("back")}},{label:"边下边玩",type:"primary",callback:function(){t("openCloudGame")}}]},m.prototype.getHtml=function(e,t){var n="",i=this.appitem;if(1==e){n='\n            <div class="cloud-g">\n                <div class="cloud-g__title">'.concat(u,'</div>\n                <div class="cloud-g__desc">').concat(f,'</div>\n                <div class="cloud-g__image" style="width: 72PX;height: 72PX;background-image: url(\'').concat(i.IconURL,'\');"></div>\n                <div class="cloud-g__game-title">').concat(i.Name,'云游戏版</div>\n                <div class="cloud-g__label">\n            ');var r="";if(i.game_tag_list)for(var o=i.game_tag_list||[],a=0;a<o.length;a++)r+='<div class="cloud-g__label-tag">'.concat(o[a],"</div>");n+="".concat(r,"</div>\n            </div>")}else if(2==e){n='\n            <div class="down-gift">\n                <div class="down-gift__title">'.concat(p,'</div>\n                <div class="down-gift__box">\n                    <div class="down-gift__box-title">').concat(g,'</div>\n                    <div class="down-gift__box-scroll">\n                        <div class="down-gift__box-list">\n            '),r="";if(t&&t.length)for(a=0;a<t.length;a++)r+='\n                    <div class="down-gift__b-l-i">\n                        <div class="down-gift__b-l-i-top">\n                            <div class="down-gift__b-l-i-top-img" style="background-image: url(\''.concat(t[a].icon||"",'\')"></div>\n                            <div class="down-gift__b-l-i-top-count">').concat(t[a].num,'</div>\n                        </div>\n                        <div class="down-gift__b-l-i-b">\n                            <span class="down-gift__b-l-i-b-name">').concat(t[a].name,"</span>\n                        </div>\n                    </div>\n                ");n+="".concat(r,"</div>\n                    </div>\n                </div>\n            </div>\n        ")}return n};var h=m;t.default=h},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(6));var o=i(n(17)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3));i(n(2));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e){this.btnWrapperDom=e.btnWrapperDom,this.dom=void 0,this.insertStyle(),this.uiarea=e.uiarea||2998,this.scene=e.scene||20}l.prototype.insertStyle=function(){if(!(e=document.getElementById("global_download_cancel_tips_style"))){var e;(e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("id","global_download_cancel_tips_style");e.innerHTML="\n            .dowload-cancel__container{position:absolute;top:0;width:100%;overflow:visible;transform:translateY(-100%);right:0;display:flex;flex-direction:column;align-items:flex-end;z-index:10}\n            .dowload-cancel__container-center{align-items:center}\n            .dowload-cancel__content{padding:8px;border-radius:4px;overflow:hidden;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:rgba(76, 76, 76, 1)}\n            .dowload-cancel__title{font-family:PingFang SC;font-size:12px;font-weight:500;line-height:16px;letter-spacing:0px;display:flex;align-items:center;flex-direction:row;white-space:nowrap}\n            .dowload-cancel__title-text{color:rgba(255, 255, 255, 0.8);padding-right:8px}\n            .dowload-cancel__gap{width:0.5px;height:12px;background-color:rgba(255, 255, 255, 0.1);margin-right:8px}\n            .dowload-cancel__arrow{width:5px;height:5px;border-radius:1px;transform:rotate(45deg) translateY(-5px);background-color:rgba(76, 76, 76, 1);align-self:center}\n        ",document.getElementsByTagName("head")[0].appendChild(e)}},l.prototype.show=function(e){var t=this,n=document.createElement("div");n.innerHTML=this.getHtml(),this.dom=n,this.btnWrapperDom.appendChild(n);var i=n.getElementsByClassName("j_dowload-cancel__content")[0],r=n.getElementsByClassName("j_dowload-cancel__container")[0];this.btnWrapperDom.clientWidth?i.clientWidth<this.btnWrapperDom.clientWidth?r.style.alignItems="center":r.style.alignItems="":setTimeout((function(){i.clientWidth<t.btnWrapperDom.clientWidth?r.style.alignItems="center":r.style.alignItems=""}),100),n.getElementsByClassName("j_dowload-cancel__close")[0].addEventListener("click",(function(e){t.hide(),e.stopPropagation()})),this.report({scene:20,uia:2998,pid:1,aid:1})},l.prototype.hide=function(e){this.dom&&(this.dom.parentElement.removeChild(this.dom),this.dom=void 0)},l.prototype.report=function(e){var t={scene:"iSceneId",uia:"iUIArea",pid:"iPositionId",ext:"sExternInfo",aid:"iActionId",op:"iOpType",gid:"sGameId",ssid:"iSourceSceneId",astsuts:"sActionStatus"},n={scene:this.scene,uia:this.uiarea,ext:{}},i=a.extend(n,e);for(var r in i)t[r]&&(i[t[r]]=i[r],delete i[r]);(0,o.default)([i])},l.prototype.getHtml=function(){return'<div class="dowload-cancel__container j_dowload-cancel__container"">\n        <div class="dowload-cancel__content j_dowload-cancel__content">\n            <div class="dowload-cancel__title">\n                <div class="dowload-cancel__title-text">轻触可暂停/取消下载</div>\n                <div class="dowload-cancel__gap"></div>\n            </div>\n            <div class="j_dowload-cancel__close">\n                <div style="width:16px;height:16px;background-size: contain;background-image:url(\'https://mmgame.qpic.cn/image/6546687db69fb4af87175671e89b44331bd979587e96837dc0a420e135c6f658/0\')"></div>\n            </div>\n        </div>\n        <div class="dowload-cancel__arrow"></div>\n    </div>'};var d=l;t.default=d},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getInstallState=t.default=void 0;var r=i(n(5));r.default.getInstallState=r.default.getInstallState||function(e,t){r.default.invoke("getInstallState",e,t)};var o=r.default;t.default=o;var a=r.default.getInstallState;t.getInstallState=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.queryDownloadTask=t.default=void 0;var r=i(n(5));r.default.queryDownloadTask=r.default.queryDownloadTask||function(e,t){window.logInfo&&logInfo("queryDownloadTask begin",e),r.default.invoke("queryDownloadTask",e,(function(e){window.logInfo&&logInfo("queryDownloadTask ret",e),t(e)}))};var o=r.default;t.default=o;var a=r.default.queryDownloadTask;t.queryDownloadTask=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.launch3rdApp=t.default=void 0;var r=i(n(5));r.default.launch3rdApp=r.default.launch3rdApp||function(e,t){r.default.invoke("launch3rdApp",e,t)};var o=r.default;t.default=o;var a=r.default.launch3rdApp;t.launch3rdApp=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.launchApplication=t.default=void 0;var r=i(n(5)),o=i(n(2));r.default.launchApplication=r.default.launchApplication||function(e,t){var n=o.default.clientVersion(!0);o.default.versionCompare(n,"6.5.5")>=0?((e=e||{}).showLaunchFailToast=!1,r.default.invoke("launchApplication",e,t)):r.default.invoke("launch3rdApp",e,(function(e){e.err_msg=(""+e.err_msg).replace("launch_3rdApp","launchApplication"),t&&t.call(r.default,e)}))};var a=r.default;t.default=a;var s=r.default.launchApplication;t.launchApplication=s},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.downloadAppInternal=t.default=void 0;var r=i(n(5)),o=i(n(2));r.default.downloadAppInternal=r.default.downloadAppInternal||function(e,t){e=e||{};var n=o.default.clientVersion(!0);o.default.versionCompare(n,"6.5.6")>=0?r.default.invoke("downloadAppInternal",e,t):(t&&t.call(r.default,{}),window.location.href=e.appUrl)};var a=r.default;t.default=a;var s=r.default.downloadAppInternal;t.downloadAppInternal=s},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.addDownloadTask=void 0;var r=i(n(5)),o=i(n(2));r.default.addDownloadTask=r.default.addDownloadTask||function(e,t){var n=o.default.clientVersion(!0);window.logInfo&&logInfo("addDownloadTask begin",e),void 0!==e.task_size?void 0!==e.alternative_url?o.default.versionCompare(n,"6.5.7")>=0?r.default.invoke("addDownloadTaskStraight",e,(function(e){window.logInfo&&logInfo("addDownloadTask ret",e),t(e)})):r.default.invoke("addDownloadTask",e,(function(e){window.logInfo&&logInfo("addDownloadTask ret",e),t(e)})):alert("Need alternative_url"):alert("Need task_size")};var a=r.default;t.default=a;var s=r.default.addDownloadTask;t.addDownloadTask=s},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.installDownloadTask=t.default=void 0;var r=i(n(5));r.default.installDownloadTask=r.default.installDownloadTask||function(e,t){r.default.invoke("installDownloadTask",e,t)};var o=r.default;t.default=o;var a=r.default.installDownloadTask;t.installDownloadTask=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.pauseDownloadTask=t.default=void 0;var r=i(n(5));r.default.pauseDownloadTask=r.default.pauseDownloadTask||function(e,t){window.logInfo&&logInfo("pauseDownloadTask begin",e),r.default.invoke("pauseDownloadTask",e,(function(e){window.logInfo&&logInfo("pauseDownloadTask begin",e),t(e)}))};var o=r.default;t.default=o;var a=r.default.pauseDownloadTask;t.pauseDownloadTask=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.resumeDownloadTask=t.default=void 0;var r=i(n(5));r.default.resumeDownloadTask=r.default.resumeDownloadTask||function(e,t){window.logInfo&&logInfo("resumeDownloadTask begin",e),r.default.invoke("resumeDownloadTask",e,(function(e){window.logInfo&&logInfo("queryDownloadTask ret",e),t(e)}))};var o=r.default;t.default=o;var a=r.default.resumeDownloadTask;t.resumeDownloadTask=a},function(e,t,n){var i=n(122);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(30).default)("5693a900",i,!0,{})},function(e,t,n){(e.exports=n(29)(!1)).push([e.i,'.weui-mask {\n  position: fixed;\n  z-index: 100001;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n}\n.weui-actionsheet {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  -webkit-transform: translate(0, 100%);\n  transform: translate(0, 100%);\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  z-index: 100002;\n  width: 100%;\n  background-color: var(--wg_background_color_0);\n  -webkit-transition: -webkit-transform 0.3s;\n  transition: -webkit-transform 0.3s;\n  transition: transform 0.3s;\n  transition: transform 0.3s, -webkit-transform 0.3s;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n.weui-actionsheet.wg-actionsheet__border-radius {\n  border-top-left-radius: var(--wg_border_radius_action_sheet);\n  border-top-right-radius: var(--wg_border_radius_action_sheet);\n}\n.weui-actionsheet__menu {\n  background-color: var(--wg_background_color_2);\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n.wg-actionsheet__border-radius .weui-actionsheet__menu {\n  border-top-left-radius: var(--wg_border_radius_action_sheet);\n  border-top-right-radius: var(--wg_border_radius_action_sheet);\n}\n.weui-actionsheet__action {\n  margin-top: 6px;\n  background-color: #fcfcfd;\n  background-color: var(--wg_background_color_2);\n}\n.weui-actionsheet__cell {\n  position: relative;\n  padding: 10px 0;\n  text-align: center;\n  font-size: 17PX;\n  line-height: 30px;\n  color: var(--wg_foreground_color_0);\n  -moz-user-select: none;\n       user-select: none;\n  -webkit-user-select: none;\n}\n.weui-actionsheet__cell:before {\n  content: " ";\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 1px;\n  border-top: 1px solid;\n  border-top-color: var(--wg_foreground_color_3);\n  color: #e5e5e5;\n  -webkit-transform-origin: 0 0;\n  transform-origin: 0 0;\n  -webkit-transform: scaleY(0.5);\n  transform: scaleY(0.5);\n}\n.weui-actionsheet__cell:active {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.wg_dark_mode .weui-actionsheet__cell:active {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.weui-actionsheet__cell:first-child {\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n.wg-actionsheet__border-radius .weui-actionsheet__cell:first-child {\n  border-top-left-radius: var(--wg_border_radius_action_sheet);\n  border-top-right-radius: var(--wg_border_radius_action_sheet);\n}\n.weui-actionsheet__cell:first-child:before {\n  display: none;\n}\n.weui-actionsheet__cell.weui-actionsheet__title {\n  color: var(--wg_foreground_color_1);\n  font-size: 14px;\n}\n.weui-actionsheet__cell.weui-actionsheet__title:active {\n  background-color: rgba(255, 255, 255, 0);\n}\n.weui-actionsheet_toggle {\n  -webkit-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.iosx {\n  padding-bottom: 34px;\n}\n.weui-actionsheet__danger {\n  color: var(--wg_red);\n}\n',""])},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=i(n(14)),s=i(n(11)),l=u(n(3)),d=u(n(26));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}
/*!
 * @module report
 * @author kael, chriscai
 * @date @DATE
 * Copyright (c) 2014 kael, chriscai
 * Licensed under the MIT license.
 * badjs 上报
 */var f=window.WXGAME||{},p=f.baseQualityReport||s.default,g=p.StartLogic(p.LOGIC_CONST.TypeTextEnum.BADJS,"badjs",{},null),_=function(e){if(e.BJ_REPORT)return e.BJ_REPORT;var t=[],n={id:0,uin:0,url:"",combo:1,ext:{},level:4,ignore:[],random:1,delay:1e3,submit:null},i=function(e,t){return Object.prototype.toString.call(e)==="[object "+(t||"Object")+"]"},r=function(e){return"object"===(0,o.default)(e)&&!!e},s=e.onerror;e.onerror=function(t,n,r,o,d){a.default.logError("Badjs",t,n,o,d);var c=t;d&&d.stack&&(c=l(d)),i(c,"Event")&&(c+=c.type?"--"+c.type+"--"+(c.target?c.target.tagName+"::"+c.target.src:""):""),h.push({msg:c,target:n,rowNum:r,colNum:o}),m(),s&&s.apply(e,arguments)},window.addEventListener("unhandledrejection",(function(e){f&&f.Badjs&&f.Badjs.push(e.reason)}));var l=function(e){var t=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,5).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return t.indexOf(n)<0&&(t=n+"@"+t),t},d=function(e,t){var i=[],o=[],a=[];if(r(e))for(var s in e.level=e.level||n.level,e){var l=e[s]||"";if(l){if(r(l))try{l=JSON.stringify(l)}catch(e){l="[BJ_REPORT detect value stringify error] "+e.toString()}a.push(s+":"+l),i.push(s+"="+encodeURIComponent(l)),o.push(s+"["+t+"]="+encodeURIComponent(l))}}return[o.join("&"),a.join(","),i.join("&")]},c=[],u=function(e){if(n.submit)n.submit(e);else{var t=new Image;c.push(t),t.src=e}},p=[],_=0,m=function(e){if(n.report){for(;t.length;){var r=!1,o=t.shift(),a=d(o,p.length);if(i(n.ignore,"Array"))for(var s=0,l=n.ignore.length;s<l;s++){var c=n.ignore[s];if(i(c,"RegExp")&&c.test(a[1])||i(c,"Function")&&c(o,a[1])){r=!0;break}}r||(g.EndLogic({badjs_str:o.msg}),n.combo?p.push(a[0]):u(n.report+a[2]+"&_t="+ +new Date),n.onReport&&n.onReport(n.id,o))}var f=p.length;if(f){var m=function(){clearTimeout(_),u(n.report+p.join("&")+"&count="+f+"&_t="+ +new Date),_=0,p=[]};e?m():_||(_=setTimeout(m,n.delay))}}},h={push:function(e){if(Math.random()>=n.random)return h;if(!e)return h;var i="string"==typeof e?{msg:e}:function(e){var t=e;try{if(e.stack){var n=e.stack.match("http://[^\n]+"),i=(n=n?n[0]:"").match(":([0-9]+):([0-9]+)");i||(i=[0,0,0]),t={msg:l(e),rowNum:i[1],colNum:i[2],target:n.replace(i[0],"")}}else e.message&&(t={msg:e.message})}catch(e){}return t&&"string"==typeof t.msg||(t={msg:JSON.stringify(t)}),t}(e);return"{}"===i.msg||("string"==typeof i.msg&&(i.msg=i.msg.slice(0,500)),t.push(i),m()),h},report:function(e){return e&&h.push(e),m(!0),h},info:function(e){return e?(r(e)?e.level=2:e={msg:e,level:2},h.push(e),h):h},debug:function(e){return e?(r(e)?e.level=1:e={msg:e,level:1},h.push(e),h):h},init:function(e){if(r(e))for(var t in e)n[t]=e[t];var i=parseInt(n.id,10);return i&&(n.report=(n.url||"http://badjs2.qq.com/badjs")+"?id="+i+"&uin="+parseInt(n.uin||(document.cookie.match(/\buin=\D+(\d+)/)||[])[1],10)+"&from="+encodeURIComponent(location.href)+"&ext="+JSON.stringify(n.ext)+"&"),h},__onerror__:e.onerror};return e.BJ_REPORT=h,h}(window),m=d.base64decode,h=l.getQueryStr;_.init({url:"https://badjs.weixinbridge.com/badjs",id:101,uin:m(decodeURIComponent(h("uin"))),combo:1,delay:2e3,ignore:[/Script error/i,/trigger/i,/WeixinJSBridge/i,/_handleMessageFromWeixin/i,/setfont/i,/WXJS/i,/_WXJS/i,/SecurityError/i,/The play\(\) request was interrupted by a call to pause\(\)/i,/The operation was aborted/i,/The request is not allowed by the user agent or the platform in the current context/i,/play\(\) can only be initiated by a user gesture/i,/The element has no supported sources/i,/The operation is not supported\.@play@/i,/ReferenceError: Can't find variable: WeixinOpenTags/i,/performance\.getEntriesByName\('first-contentful-paint'\)\[0\]\.startTime/i],level:4,random:1});var w=_;t.default=w},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=i(n(15)),s=m(n(3)),l=i(n(2)),d=i(n(8)),c=m(n(7)),u=i(n(39)),f=i(n(38)),p=i(n(45)),g=i(n(4));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var h,w=s.getQueryStr;if(l.default.isCSR)h={};else{var v=g.default.window;!function(e,t,n){var i,r;if(null!==(i=t.WXGAME)&&void 0!==i&&null!==(r=i.Report11332)&&void 0!==r&&r.report)return e.report=t.WXGAME.Report11332.report.bind(t.WXGAME.Report11332),void(h=e);function a(e,t){e+="&ActID="+(t.iActID||_.actid||0),e+="&LogType="+(t.iLogType||_.iLogType||w("abt")||0),e+="&SceneID="+(t.iSceneId||0),e+="&GameID="+(t.sGameId||"");var n=t.iSourceSceneId||w("ssid",null,v)||0,i=t.iSourceId||w("source_id",null,v)||0;i?/^\d+$/.test(i)&&(e+="&SourceID="+i):n&&/^\d+$/.test(n)&&(e+="&SourceID="+n),n>=0&&n<=100&&(e+="&ssid="+n);var r=t.iTime;r&&(r=(r=Number(r))!=r?0:Math.floor(r)),e+="&UIArea="+(t.iUIArea||0),e+="&PositionID="+(t.iPositionId||0),e+="&ActionID="+(t.iActionId||0),e+="&ActionStatus="+(t.sActionStatus||""),e+="&GiftID="+(t.iGiftBagId||0),e+="&GiftType="+(t.iGiftBagType||0),e+="&ChatroomName="+(t.iChatroomName||""),e+="&NoticeID="+(t.iNoticeId||w("noticeid",null,v)||0),e+="&ConnectType="+(t.sConnectType||_.networktype||""),e+="&ISP="+(t.sServiceProvider||""),e+="&DeviceBrand="+(t.sDeviceBrand||""),e+="&DeviceModel="+(t.sDeviceModel||""),e+="&OpType="+(t.iOpType||0);var o=(0,p.default)(t);return e+="&ExpID="+(t.iExpID||o.exp_id||0),e+="&ReasonID="+(t.iReasonID||o.reason_id||0),e+="&allpath="+(w("rpt_allpath")||""),e+="&getType="+(l.default.isWepkg()?1:0),e+="&URL="+encodeURIComponent(location.href.split("#")[0].replace(/&(uin|pass_ticket|key)=[^&]+/g,"").replace(/\?(uin|pass_ticket|key)=[^&]+/g,"?")),e+="&ExternInfo="+c.exencodeURIComponent(t.sExternInfo||_.sExternInfo||""),e+="&errType="+(0,f.default)(t),t.iGroupOutId&&(e+="&GroupOutId="+t.iGroupOutId),t.iContentId&&(e+="&ContentId="+t.iContentId),t.iContentType&&(e+="&ContentType="+(t.iContentType||0)),r&&(e+="&Time="+(r||0)),t.sVideoID&&(e+="&VideoID="+(t.sVideoID||"")),e+="&client_timestamp="+Date.now(),window.__KULP_BUILD_VERSION__&&(e+="&BuildVersion="+(window.__KULP_BUILD_VERSION__||"")),e+="&t="+(new Date).getTime()}function g(e){var t=w("rpt_ssid_str")||"",n=w("from_id"),i=w("wechat_pkgid")||"",r=w("from_wechat_pkgid")||"",a=w("s_prot"),l=w("s_uia"),d=w("s_pid"),c=w("s_cid"),u=w("s_ctype"),f=w("share_id"),p=w("origin_share_id"),g=e.sExternInfo,_={};t&&(_.rpt_ssid_str=t),n&&/^\d+$/.test(n)&&(_.from_id=Number(n)),_.pkgid=i,_.from_pkgid=r,a&&/^\d+$/.test(a)&&(_.s_prot=Number(a)),l&&/^\d+$/.test(l)&&(_.s_uia=Number(l)),d&&/^\d+$/.test(d)&&(_.s_pid=Number(d)),c&&(_.s_cid=c),u&&(_.s_ctype=u),f&&(_.share_id=f),p&&(_.origin_share_id=p);try{if(0===Object.keys(_).length)return e;if(g)if("string"==typeof g){var m=JSON.parse(decodeURIComponent(g));m=s.extend(_,m),g=JSON.stringify(m)}else"object"===(0,o.default)(g)&&(g=JSON.stringify(s.extend(_,g)));else g=JSON.stringify(_);return e.sExternInfo=g,e}catch(t){return e}}var _=e.reportObj;e.report=function(t){t=t||{};var n,i=l.default.isWechat||l.default.isPcWechat,r=i?"//game.weixin.qq.com/cgi-bin/comm/cltstat?":"//game.weixin.qq.com/cgi-bin/groupwap/reportstat?";i||w("uin",null,v)?d.default.getUinKey((function(n){r+="uin="+(decodeURIComponent(n.uin)||t.uin),r+="&key="+(n.key||t.key),r+="&pass_ticket="+(t.pass_ticket||n.pass_ticket);var i=l.default.getGameSessionId();i&&(r+="&x-wxgame-session=".concat(encodeURIComponent(i))),t=g(t),r=a(r,t),r=c.filterUrlByKey(r,["uin","key"]),e.imgReport(r)})):(r+=((n=u.default.getMsdkLogin()).auth_type=2,c.mapToStr(n)),t=g(t),r=a(r,t),r=c.filterUrlByKey(r,["uin","key"]),e.imgReport(r))},h=e}(s.extend({},a.default),window,document)}var A=h;t.default=A},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.report=t.default=void 0;var o=i(n(15)),a=f(n(3)),s=f(n(16)),l=i(n(8)),d=i(n(4)),c=i(n(39));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var p,g,_,m,h=a.getQueryStr,w=s.getKeyValue,v=d.default.window;g=a.extend({},o.default),_=window,m=g.reportObj,g.report=function(e){var t;t=function(t){!function(e){var t=location.protocol+"//game.weixin.qq.com/cgi-bin/comm/gamewebstat?";e=e||{};var n=parseInt(e.abt||h("abt",null,v))||-1;t+="noticeid="+(e.nNoticeID||m.noticeid||0),t+="&appid="+(e.sAppID||_.sAppID||_.sAppId||""),t+="&usropstate="+(e.nUrOpState||0);var i=e.iActID||m.actid||0;t+="&actid="+i,t+="&networktype="+(e.nNetworkType||m.networktype||""),e.uin&&null!=e.uin&&(t+="&uin="+e.uin,t+="&key="+e.key,t+="&pass_ticket="+e.pass_ticket),e.sig&&null!=e.sig&&(t+="&sig="+e.sig,t+="&timestamp="+e.timestamp,t+="&algorithm="+e.algorithm,t+="&version="+e.version,t+="&encode="+e.encode,t+="&msdkEncodeParam="+e.msdkEncodeParam),e.sAccessToken&&null!=e.sAccessToken&&(t+="&access_token="+e.sAccessToken,t+="&auth_type=2"),t+="&sourcescene="+(e.nSourceScene||m.sourcescene||h("ssid",null,v)||0),t+="&destinationscene="+(e.nDestinationScene||0),t+="&appstate="+(e.nAppState||0),t+="&appversion="+(e.nAppVersion||""),t+="&assiststate="+(e.nAssistState||""),t+="&assistversion="+(e.nAssistVersion||0),t+="&openid="+(e.sOpenID||h("openid",null,v)||w("openid")||""),t+="&optype="+(e.iOptype||0),t+="&giftid="+(e.iGiftID||0),t+="&pid="+(e.iPid||0),t+="&pos="+(e.iPos||0);var r=h("rpt_allpath");(""+r).length>0&&(r+="_act"+i),t+="&allpath="+(e.sAllPath||r||""),e.ExternInfo=e.ExternInfo||"{}";var o=decodeURIComponent(e.ExternInfo);try{o=JSON.parse(o),isNaN(n)||(o.abt=n),e.ExternInfo=encodeURIComponent(JSON.stringify(o))}catch(e){console.error("10861 extinfo json parse error!")}t+="&externinfo="+e.ExternInfo,t+="&t="+(new Date).getTime(),g.imgReport(t)}(a.extend(e,t))},-1!=location.search.indexOf("sig")?t&&t(c.default.getMsdkLogin()):l.default.getUinKey((function(e){t&&t(e)}))};var A=p=g;t.default=A;var b=p.report;t.report=b},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=i(n(15)),s=_(n(3)),l=i(n(2)),d=i(n(8)),c=_(n(7)),u=i(n(39)),f=i(n(38)),p=i(n(4));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}var m,h=s.getQueryStr,w=p.default.window;!function(e,t,n){function i(e,t){return e+="&SceneID="+(t.iSceneId||0),e+="&GameID="+(t.sGameId||""),e+="&UIArea="+(t.iUIArea||0),e+="&PositionID="+(t.iPositionId||0),e+="&ActionID="+(t.iActionId||0),e+="&SourceID="+(t.iSourceSceneId||h("ssid",null,w)||0),e+="&SsID="+(t.iSsid||h("issid",null,w)||0),e+="&GeneralID="+(t.iGeneralID||h("gid",null,w)||0),e+="&GenType="+(t.iGenType||0),e+="&ConnectType="+(t.sConnectType||a.networktype||""),e+="&ISP="+(t.sServiceProvider||""),e+="&DeviceBrand="+(t.sDeviceBrand||""),e+="&DeviceModel="+(t.sDeviceModel||""),e+="&ActID="+(t.iActID||a.actid||0),e+="&LogType="+(t.iLogType||a.iLogType||h("abt")||0),e+="&ExternInfo="+c.exencodeURIComponent(t.sExternInfo||a.sExternInfo||""),e+="&ExtVersion="+(t.iExtVersion||""),e+="&DevInfo="+(t.sDevInfo||a.sDevInfo||""),e+="&GetType="+(l.default.isWepkg()?1:2),e+="&URL="+encodeURIComponent(location.href.split("#")[0].replace(/&(uin|pass_ticket|key)=[^&]+/g,"").replace(/\?(uin|pass_ticket|key)=[^&]+/g,"?")),e+="&ErrType="+(0,f.default)(t),e+="&t="+(new Date).getTime()}function r(e){var t=h("rpt_ssid_str")||"",n=e.sExternInfo;try{if(!t)return e;if(n)if("string"==typeof n){var i=JSON.parse(n);i=s.extend({rpt_ssid_str:t},i),n=JSON.stringify(i)}else"object"===(0,o.default)(n)&&(n=JSON.stringify(s.extend({rpt_ssid_str:t},n)));else n=JSON.stringify({rpt_ssid_str:t});return e.sExternInfo=n,e}catch(t){return e}}var a=e.reportObj;e.report=function(t){t=t||{};var n,o=l.default.isWechat||l.default.isPcWechat,a="//game.weixin.qq.com/cgi-bin/comm/socialstat?";o||h("uin",null,w)?d.default.getUinKey((function(n){a+="uin="+(decodeURIComponent(n.uin)||t.uin),a+="&key="+(n.key||t.key),a+="&pass_ticket="+(t.pass_ticket||n.pass_ticket),t=r(t),a=i(a,t),a=c.filterUrlByKey(a,["uin","key"]),e.imgReport(a)})):(a+=((n=u.default.getMsdkLogin()).auth_type=2,c.mapToStr(n)),t=r(t),a=i(a,t),a=c.filterUrlByKey(a,["uin","key"]),e.imgReport(a))},m=e}(s.extend({},a.default),window,document);var v=m;t.default=v},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1)),a=i(n(4)),s=i(n(15)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(16));i(n(11));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var c=s.default.reportObj,u={ajax:function(e,t,n,i){var r=new XMLHttpRequest,a=t;a.method=a.method.toUpperCase(),a.url=e,"GET"===a.method&&("object"===(0,o.default)(a.data)?a.url=-1===a.url.indexOf("?")?a.url+"?"+u.mapToStr(a.data):a.url+"&"+u.mapToStr(a.data):"string"==typeof a.data&&(a.url=-1===a.url.indexOf("?")?a.url+"?"+a.data:a.url+"&"+a.data)),-1!==a.url.indexOf("?")?a.url+="&QB&":a.url+="?&QB&",r.open(a.method,a.url),"POST"===a.method&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?n&&n(JSON.parse(r.responseText)||{}):i&&i(r.status))},"GET"===a.method?r.send(null):"object"===(0,o.default)(a.data)?r.send(u.mapToStr(a.data)):r.send(a.data)},mapToStr:function(e,t){var n=[];t=t||"&";for(var i in e)n.push(i+"="+e[i]);return n.join(t)},getQueryStr:function(e,t){var n=t||location.search,i=(n=(""+n).replace(/#(.*)$/g,"").replace(/&amp;/g,"&")).match(new RegExp("[?&]"+e+"=([^&]+)","i"));return null===i||i.length<=1?"":i[1]},getClientVersion:function(e){var t=(a.default.window.navigator.userAgent||a.default.window.navigator.wxuserAgent||e).match(/MicroMessenger\/([\d\.]+)/i),n="";return t&&t.length>1&&(n=t[1]),(n=n.split(".")).length=3,n.join(".")+""},isType:function(e,t){return Object.prototype.toString.call(t).match(/\s(\w+)/)[1].toLowerCase()===e}},f=null;function p(){if(f)return f;f=this,this.init()}p.prototype={constructor:p,init:function(){this.config={reportsize:5,reportcgi:"/cgi-bin/comm/pagestat?op=batch",persistkey:"mmgamecenter_universe_quality_key",delay:1e3},this.hasBaseSetted=!1,this.isFirstReport=!0,this.base=this.collectBase(),this.other={type:999999,status:999999,cost_time:{},url:"",ext:"",time:0},this.dataPool=[]},collectBase:function(){var e=c.device,t=c.networktype,n=u.getClientVersion();return{bid:1,scene_id:0,device:"android"===e?2:"iphone"===e?1:0,network_type:null==t?1:parseInt(t),client_version:n.match(/(\d+\.){2}\d+/g)?n:"",ssid:Number(u.getQueryStr("ssid"))||0}},abstractOneReport:function(e){var t=this.base,n=this.other,i={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(i[r]=void 0!==e[r]?e[r]:t[r]);for(var r in n)if({}.hasOwnProperty.call(n,r))if(i[r]=void 0!==e[r]?e[r]:n[r],"time"===r)i[r]=Math.floor((new Date).getTime()/1e3);else if("url"===r&&0===e.type)i[r]=e[r].match(/([^?]+)\??/)[1],i[r]=-1===i[r].indexOf("http")?location.origin+i[r]:i[r];else if("cost_time"===r){for(var a in e[r]){var s=e[r][a];(isNaN(s)||void 0===s)&&(e[r][a]=999999)}i[r]=void 0===e[r]?n[r]:e[r]}else"ext"===r&&"object"===(0,o.default)(e[r])&&(i[r]=JSON.stringify(e[r]));return i},reportArr:function(e,t){},reportDataInLocal:function(e){var t=this.config.persistkey;if(!this.isFirstReport)return e&&e.call(this,[]);try{this.isFirstReport=!1;var n=JSON.parse(l.getKeyValue(t));if(!n.length)return e&&e.call(this,n);this.reportArr(n,(function(i){0===i&&(n=[],l.setKeyValue(t,"[]")),e&&e.call(this,n)}))}catch(n){l.setKeyValue(t,"[]"),e&&e.call(this,[])}},doReport:function(){var e=this,t=this.config.persistkey,n=this.dataPool,i=n.splice(0,this.config.reportsize);if(i.length){try{l.setKeyValue(t,JSON.stringify(n))}catch(e){}this.reportArr(i,(function(n){0!==n&&(e.dataPool=i.concat(e.dataPool)),isNaN(n)||0===n||(e.dataPool=e.dataPool.slice(1)),l.setKeyValue(t,JSON.stringify(e.dataPool))}))}},set_config:function(e){if(!u.isType("object",e))throw"IllegalArgumentException: params must be type of Object";var t=this.config;for(var n in e)({}).hasOwnProperty.call(e,n)&&{}.hasOwnProperty.call(t,n)&&(t[n]=e[n]);this.report_list()},set_base:function(e){if(!u.isType("object",e))throw"IllegalArgumentException: params must be type of Object";var t=this.base;for(var n in e)if({}.hasOwnProperty.call(e,n)&&{}.hasOwnProperty.call(t,n)){var i=(0,o.default)(t[n]);if(i!==(0,o.default)(e[n])){if("string"===i){var r=String(e[n]);"[object Object]"!==r&&"null"!==r&&(t[n]=r)}else if("number"===i){var a=parseInt(e[n]);t[n]=isNaN(a)?t[n]:a}}else t[n]=e[n]}this.hasBaseSetted=!0},report_list:function(){var e=this;function t(){window._reportlist_&&window._reportlist_.register&&window._reportlist_.register((function(t){for(var n=0,i=t.length;n<i;n++)t[n]=e.report(t[n])})),window._reportlist_&&window._reportlist_.register||setTimeout(t,500)}"complete"===document.readyState?t():window.addEventListener("load",t,!1)},report:function(e){if(!this.hasBaseSetted)throw"IllegalStateException: please invoke API `set_base` before.";var t=this;e=this.abstractOneReport(e),this.reportDataInLocal((function(n){t.dataPool=n.concat(t.dataPool).concat(e),l.setKeyValue(t.config.persistkey,JSON.stringify(t.dataPool)),t.dataPool.length>=t.config.reportsize&&t.doReport()})),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.doReport.bind(this),this.config.delay)},call:function(e,t){if(null==t)throw"IllegalArgumentException: name is null or undefined.";if(!u.isType("string",t))throw"IllegalArgumentException: name must be type of String";this.report({type:1,status:e,ext:t})},afterCall:function(e,t,n){if(null==t)throw"IllegalArgumentException: name is null or undefined.";if(!u.isType("string",t))throw"IllegalArgumentException: name must be type of String";if(n&&!u.isType("object",n)&&!u.isType("string",n))throw"IllegalArgumentException: res must be type of String or Object";n=n||"",this.report({type:1,status:e,ext:t+"_res:"+(u.isType("object",n)?JSON.stringify(n):n)})},render:function(e){this.call(1e3,"render_"+(u.isType("object",e)?JSON.stringify(e):e))},readCache:function(e){this.call(1001,"render_"+(u.isType("object",e)?JSON.stringify(e):e))},click:function(e){this.call(1002,"click_"+e)},afterClick:function(e,t){this.afterCall(1003,"click_"+e,t)},invokeJsapi:function(e){this.call(1004,"invoke_"+e)},afterInvokeJsapi:function(e,t){this.afterCall(1005,"invoke_"+e,t)},callFnBegin:function(e){this.call(1006,"fncall_"+e)},callFnEnd:function(e,t){this.afterCall(1007,"fncall_"+e,t)}};var g=new p;t.default=g},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(12)),a=i(n(13)),s=i(n(4)),l=i(n(6)),d=p(n(3)),c=p(n(7)),u=n(42);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function g(e,t){return e.indexOf("ssid=")>-1?e:e.indexOf("?")>-1?e.replace("?","?ssid="+t+"&"):e.indexOf("#wechat_redirect")>-1?e.replace("#wechat_redirect","?ssid="+t+"#wechat_redirect"):e+"?ssid="+t}function _(e,t){e=e||"";var n=c.getQuery(e),i=c.getHash(e);t&&(n.share_openid=t);var r=[];r.push(c.getDomainPath(e));var o=c.mapToStr(n)||"";return o.length<=0||(r.push("?"),r.push(o),i&&r.push("#"+i)),r.join("")}function m(e){(0,l.default)("/cgi-bin/gamecenterwap/getgamecenterdata",JSON.stringify({method:"POST",user_info_option:{need:!0}}),(function(t){var n=d.getValue(t,"data.user_info.openid")+"";n&&n.length>0?e&&e(!0,n):e&&e(!1,"fail_get_openid")}),(function(t){s.default.window.logError&&s.default.window.logError("getShareOpenID","get_shareopenid_fail"),e&&e(!1,"cgierror")}))}var h=function e(t,n,i){!1===t.appid?t.appid="":t.appid=t.appid||"wx62d9035fd4fd2059";var r=t.link||"";if(s.default.window.WeixinJSBridge){t.link=g(r,1),s.default.window.WeixinJSBridge&&s.default.window.WeixinJSBridge.on("menu:share:appmessage",(function(e){m(function(){var e=(0,a.default)(o.default.mark((function e(i,r){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.link,!0===i?a=_(t.link,r):console.log("getShareOpenID fail",r),t.link=a,e.next=5,(0,u.beforeInvoke)("sendAppMessage",t);case 5:s.default.window.WeixinJSBridge&&s.default.window.WeixinJSBridge.invoke("sendAppMessage",t,(function(e){!e||-1==e.err_msg.indexOf(":confirm")&&-1==e.err_msg.indexOf(":ok")?e&&-1!=e.err_msg.indexOf(":cancel")?n&&n(-1):n&&n(-2,e):n&&n(0,0)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}));var l=JSON.parse(JSON.stringify(t));i&&(l.title=i),l.link=g(r,4),s.default.window.WeixinJSBridge&&s.default.window.WeixinJSBridge.on("menu:share:timeline",(function(e){m(function(){var e=(0,a.default)(o.default.mark((function e(t,i){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.link,!0===t?r=_(l.link,i):console.log("getShareOpenID fail",i),l.link=r,e.next=5,(0,u.beforeInvoke)("shareTimeline",l);case 5:s.default.window.WeixinJSBridge&&s.default.window.WeixinJSBridge.invoke("shareTimeline",l,(function(e){!e||-1==e.err_msg.indexOf(":ok")&&-1==e.err_msg.indexOf(":confirm")?e&&-1!=e.err_msg.indexOf(":cancel")?n&&n(-1):n&&n(-2,e):n&&n(0,1)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}))}else s.default.window.document.addEventListener("WeixinJSBridgeReady",(function(){e(t,n,i)}))};t.default=h},function(e,t,n){var i=n(9),r=n(10),o=0;try{var a=window,s=WXGAME.Report11332.report,l=WXGAME.Env,d=WXGAME.WxBridge;if(a.location.host&&"game.weixin.qq.com"==a.location.host&&l.isWechat){var c,u=0,f=0,p=!1,g=function(){if(!p){p=!0;var e,t=new(function(){"use strict";function e(){i(this,e),this.events=[],this.init()}return r(e,[{key:"init",value:function(){var e=this;if(l.isCSR)return"";var t=!0;d.on("activity:state_change",(function(n){var i=null==n?void 0:n.state;"onResume"===i||"onCreate"===i?t||(t=!0,e.emit("show")):"onPause"!==i&&"onDestroy"!==i||t&&(t=!1,e.emit("hide"))})),document.addEventListener("visibilitychange",(function(){document.hidden?t&&(t=!1,e.emit("hide")):t||(t=!0,e.emit("show"))}));var n=!1;window.addEventListener("beforeunload",(function(){n||(e.emit("unload"),n=!0)})),window.addEventListener("unload",(function(){n||(e.emit("unload"),n=!0)}))}},{key:"emit",value:function(e){this.events.forEach((function(t){e===t.event&&t.callback()}))}},{key:"on",value:function(e,t){this.events.push({event:e,callback:t})}}]),e}()),n=function(e,t){if(l.canIReport()){var n=Math.floor(e/1e3);n>0&&s({iUIArea:0,iPositionId:0,iActionId:103,sExternInfo:{stay_length:n,f:t}})}},o=[1/6,.5,1,3,5,10,20,30].map((function(e){return 60*e*1e3})),a=o.map((function(e,t){return 0===t?o[t]:o[t]-o[t-1]})),c=0,u=Date.now(),f=function t(){e||c>=a.length||(e=setTimeout((function(){u=Date.now(),n(a[c],1),c<a.length-1&&(c++,e=null,t())}),a[c]))};f(),t.on("show",(function(){f(),u=Date.now()})),t.on("hide",(function(){e&&(clearTimeout(e),e=null),n(Date.now()-u,2),u=Date.now()})),t.on("unload",(function(){e&&(clearTimeout(e),e=null),n(Date.now()-u,3),u=Date.now()}))}},_=function(e){var t,n=null===(t=e.touches)||void 0===t?void 0:t[0];n&&(u=n.pageX,f=n.pageY)};if(document.addEventListener("touchstart",_,!1),document.addEventListener("touchend",(function e(t){var n,i=null===(n=t.changedTouches)||void 0===n?void 0:n[0],r=i.pageX-u,a=i.pageY-f;if(o<5){var l={};Math.abs(a)>=Math.abs(r)?0!==a&&(l.SlideType=a<0?1:2):0!==r&&(l.SlideType=r<0?3:4),l.SlideType&&(l.SlidingPixels=Math.floor(Math.sqrt(Math.pow(Math.abs(r),2)+Math.pow(Math.abs(a),2)))),s({iSceneId:34,iUIArea:3410,iPositionId:1,iActionId:89,iOpType:2,sExternInfo:l}),o++}else document.removeEventListener("touchend",_),document.removeEventListener("touchend",e)}),!1),null!==(c=window.wgclient)&&void 0!==c&&c.__gameTabHeight__){window.__gameTabFirstShow__?g():(!function e(t){window.__gameTabFirstShow__?t():setTimeout((function(){e(t)}),3e3)}((function(){g()})),l.isiOS&&d.on("onPageStateChange",(function(e){null!=e&&e.active&&g()})))}else g()}}catch(e){}},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(8)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3)),s=i(n(6)),l=i(n(11));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var c=0;function u(e){if(!e.getBoundingClientRect)return{};var t=e.getBoundingClientRect().top,n={ALLIN:!1,PARTIN:!1,NOTIN:!1},i=t+e.scrollHeight;return t>c?n.NOTIN=!0:i>c?n.PARTIN=!0:n.ALLIN=!0,n}function f(e){for(var t,n,i=0,r=[],o=[],a={};i<e.length;){var s=e[i];switch(s){case"{":0==r.length?(t=(t=o.join("")).replace(/^\s{0,}/g,"").replace(/\s{0,}$/g,""),o.length=0):o.push(s),r.push(s);break;case"}":1===r.length?(n=o.join(""),a[t]=a[t]||[],a[t].push(n),o.length=0):o.push(s),r.pop();break;default:o.push(s)}i++}return a}var p={saveFirstScreen:function(){var e=a.getQueryStr("urlcache")||"",t=l.default,n=(t=(window.WXGAME||{}).baseQualityReport||t).StartRunner("saveFirstScreen",{},null);e.length<=0?n.EndLogic({err_msg:"no_urlcache"}):function(e){try{var t=window.__HTMLBUILDTIME__;if(null!=t&&t>0){var n=[window.location.host,window.location.pathname].join("/").replace(/\/\//g,"/");(0,s.default)("/cgi-bin/gameconfigcenterwap/getgamecenterpagesetting",{filter_key:encodeURIComponent(n),method:"GET"},(function(n){if(n&&""+n.errcode=="0"){var i=a.getValue(n,"data.compiletime");t!=i?e&&e.call(this,!1,n):e&&e.call(this,!0,n)}else e&&e.call(this,!1,n)}),(function(t){e&&e.call(this,!1,t)}))}else e&&e.call(this,!1,{errmsg:"no window.__HTMLBUILDTIME__"})}catch(t){e&&e.call(this,!1,{errmsg:"catch error"})}}((function(t,i){if(c=1.5*window.innerHeight,!0===t){var r=function(){for(var e=document.getElementsByTagName("html")[0],t=e.getElementsByTagName("body")[0],n=e.cloneNode(!0),i=[t],r=[n.getElementsByTagName("body")[0]];i.length>0&&r.length>0;){var o=i.shift(),a=r.shift(),s=u(o);if(!s.ALLIN)if(s.PARTIN){var l=o.childNodes;if(l.length>0)for(var d=0,c=l.length;d<c;d++)i.push(l[d]);var f=a.childNodes;if(f.length>0)for(d=0,c=f.length;d<c;d++){var p=f[d];r.push(p)}}else s.NOTIN&&a.parentNode&&a.parentNode.removeChild(a)}return n}();r=function(e){for(var t=[],n={},i=[e];i.length>0;){var r=i.shift(),o=r.childNodes;if(o.length>0)for(var a=0,s=o.length;a<s;a++)i.push(o[a]);if(r.getAttribute&&r)if("body"===r.nodeName.toLowerCase()&&r.setAttribute("urlcache",!0),"script"!=r.nodeName.toLowerCase()){if("style"==r.nodeName.toLowerCase()){var l=!!r.getAttribute("cacheable");if(p=!!r.getAttribute("style_type"))t.push(r);else{if(l){r.parentNode&&r.parentNode.removeChild(r);continue}t.push(r),r.setAttribute&&r.setAttribute("cacheable",!0)}}var d=r.className+"";if(d&&d.length>0){var c=d.replace(/\s/g," ").split(" ");for(a=0,s=c.length;a<s;a++)n[c[a]]||(n[c[a]]=!0)}}else{var u=r.getAttribute("wxgameh5log"),p=r.getAttribute("script_type"),g=-1!=(r.src||"").indexOf("commlib/js/index.js"),_=-1!=(r.innerHTML||"").indexOf("weixin://whiteScreenEnd"),m=-1!=(r.innerHTML||"").indexOf("__HTMLBUILDTIME__");if(u||p||_||g||m)continue;r.parentNode&&r.parentNode.removeChild(r)}}n.html=!0,n.body=!0;var h={},w=0;for(s=t.length;w<s;w++){var v=f(t[w].innerHTML);for(var A in v)h[A]=v[A]}var b=[];for(var A in h){-1!==A.indexOf("icon_fun")&&console.log(1);var y=(""+A).replace(/\s{1,}/g," ").split(/[\s|,]/)||[],k=!0;for(a=0,s=y.length;a<s;a++){if(0===(""+y[a]).indexOf(".")){for(var x=y[a].substr(1),S=!1,I=0,C=(x=(x=(x=x.replace(/\[.*?\]/g,"")).replace(/:.*?$/g,"")).split(/[\.|#]/)||[]).length;I<C;I++)if(x[I]in n){S=!0;break}if(S){k=!1;break}}else k=!1}if(k)delete h[A];else for(var O=h[A]||[],E=0,T=O.length;E<T;E++)b.push([A,"{",O[E],"}"].join(""))}for(w=1,s=t.length;w<s;w++)t[w].parentNode&&t[w].parentNode.removeChild(t[w]);t[0].innerHTML=b.join(" ");var P=document.createElement("div");return P.appendChild(e),P}(r),n.EndLogic({err_msg:"saveFirstScreen_start"}),o.default.callAfterReady((function(){o.default.invoke("setGameData",{key:e,value:r.innerHTML,pageCache:!0},(function(e){-1==e.err_msg.indexOf(":ok")&&n.EndLogic({err_msg:"saveFirstScreen_fail"})}))}))}else n.EndLogic({err_msg:"needCall_false_"+JSON.stringify(i)})}))}};t.default=p},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(12)),o=i(n(13)),a=i(n(9)),s=i(n(10)),l=i(n(31)),d=i(n(6)),c=n(3),u=i(n(2));function f(){return Math.floor(Date.now()/1e3)}var p,g=function(){function e(){(0,a.default)(this,e),this.config=new Map,this.fetchingMap=new Map,this.inited=!1,this.experimentMetaList=[],this.initTask=this.init()}var t,n,i,p,g,_,m;return(0,s.default)(e,[{key:"prefetch",value:(m=(0,o.default)(r.default.mark((function e(t){var n,i,o=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.filter((function(e){return!o.experimentMetaList.find((function(t){return t.key===e}))&&!o.fetchingMap.has(e)}))).length&&(i=this.fetchExperimentConfig(n),n.forEach((function(e){o.fetchingMap.set(e,i)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"get",value:(_=(0,o.default)(r.default.mark((function e(t,n){var i,o,a,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(this.inited){e.next=5;break}return e.next=5,this.initTask;case 5:if(!(i=this.experimentMetaList.find((function(e){return e.key===t})))){e.next=15;break}if(!this.config.has(t)){e.next=9;break}return e.abrupt("return",this._get(this.config.get(t),n));case 9:if(i.is_expired){e.next=15;break}return e.next=12,this.fetchLocalExperimentConfig(t);case 12:if(!(o=e.sent)){e.next=15;break}return e.abrupt("return",this._get(o,n));case 15:return this.fetchingMap.has(t)||this.fetchingMap.set(t,this.fetchExperimentConfig([t])),e.next=18,this.fetchingMap.get(t);case 18:if(a=e.sent,!(s=a.find((function(e){return e.parameter_name===t})))){e.next=22;break}return e.abrupt("return",this._get(s.value,n));case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"init",value:(g=(0,o.default)(r.default.mark((function e(){var t=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,o.default)(r.default.mark((function e(n){var i,o,a,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.default.isWechat||(0,c.getQueryStr)("experiment")){e.next=3;break}return n({}),e.abrupt("return");case 3:if(null===(i=WXGAME)||void 0===i||null===(o=i.UrlConfig)||void 0===o||!o.DisableExperimentAutoPrefetch){e.next=6;break}return n({}),e.abrupt("return");case 6:return e.next=8,t.getLocalExperimentKeysConfig();case 8:if((a=e.sent).length){e.next=12;break}return n({}),e.abrupt("return");case 12:if(s=[],a.forEach((function(e){var n=e.expire_time<f();t.experimentMetaList.find((function(t){return t.key===e.key}))||t.fetchingMap.has(e.key)||(n?s.push(e.key):t.experimentMetaList.push(e))})),s.length){e.next=18;break}return t.inited=!0,n({}),e.abrupt("return");case 18:t.inited=!0,n({});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})},{key:"getLocalExperimentKeysConfig",value:(p=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){l.default.getKeyValue("EeveeExperimentMetaKey",(function(t){var n,i=[];try{i=JSON.parse(t)}catch(e){i=[]}e(null!==(n=i)&&void 0!==n&&n.length?i:[])}))})));case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"fetchExperimentConfig",value:(i=(0,o.default)(r.default.mark((function e(t){var n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,o.default)(r.default.mark((function e(i){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._fetchExperimentConfig(t);case 2:o=e.sent,n.updateLocalExperimentConfig(o),i(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"_fetchExperimentConfig",value:function(e){return new Promise((function(t){(0,d.default)("/cgi-bin/gameconfigcenterwap/batchgetuserexptconfig",JSON.stringify({method:"POST",parameter_name_list:e}),(function(e){var n;0===e.errcode&&null!=e&&null!==(n=e.data)&&void 0!==n&&n.expt_config_list?t(e.data.expt_config_list):t([])}),(function(){t([])}))}))}},{key:"updateLocalExperimentConfig",value:(n=(0,o.default)(r.default.mark((function e(t){var n,i,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,i=t.length;case 1:if(!(n<i)){e.next=9;break}if((o=t[n]).parameter_name){e.next=5;break}return e.abrupt("return");case 5:o.is_exist&&o.is_hit?this.updateMeta({key:o.parameter_name,value:o.value}):this.updateMeta({key:o.parameter_name,remove:!0});case 6:n++,e.next=1;break;case 9:this.saveLocalMetaList();case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_get",value:function(e,t){var n;try{n=JSON.parse(e)}catch(t){n=e}return t?(0,c.getValue)(n,t):n}},{key:"fetchLocalExperimentConfig",value:(t=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){l.default.getKeyValue("EeveeExperimentConfig__"+t,(function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"updateMeta",value:function(e){var t,n=this.experimentMetaList.findIndex((function(t){return t.key===e.key}));if(n>-1&&(t=this.experimentMetaList[n],this.experimentMetaList.splice(n,1)),e.remove)l.default.delKeyValue("EeveeExperimentConfig__"+e.key),this.config.delete(e.key);else{var i=f()+43200;t?t.expire_time=i:t={key:e.key,expire_time:i,is_expired:!1},l.default.setKeyValue("EeveeExperimentConfig__"+e.key,e.value),this.config.set(e.key,e.value),this.experimentMetaList.push(t)}}},{key:"saveLocalMetaList",value:function(){for(;this.experimentMetaList.length>20;){var e=this.experimentMetaList.shift();this.config.delete(e.key),l.default.delKeyValue("EeveeExperimentConfig__"+e.key)}this.experimentMetaList.length&&l.default.setKeyValue("EeveeExperimentMetaKey",JSON.stringify(this.experimentMetaList.map((function(e){return delete e.is_expired,e}))))}}]),e}();t.default=function(){return p||(p=new g)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.uploadImage=t.previewVideo=t.preivewImage=t.default=t.choose=void 0;var r=i(n(12)),o=i(n(13)),a=i(n(49)),s=i(n(48)),l=i(n(8)),d=i(n(2)),c=i(n(6)),u="image",f="video",p="album",g="camera",_="original",m="compressed",h="back",w=0,v=2,A=function(e,t){return new Promise((function(n,i){l.default.verifyJsapi(l.default.apis,(function(){l.default.invoke(e,t,(function(e){var t;(null==e||null===(t=e.err_msg)||void 0===t?void 0:t.indexOf("ok"))>-1?n(e):i(e)}))}))}))},b=function(e){var t=0;return"number"==typeof e.index&&(t=e.index>e.urls.length?0:e.index),A("imagePreview",{urls:e.urls,current:e.urls[t]})};t.preivewImage=b;var y=function(e){return A("previewVideo",e)};t.previewVideo=y;var k=d.default.isAndroid,x=[{appId:"wx95a3a4d7c627e07d",gameName:"王者荣耀",albumName:k?"com.tencent.tmgp.sgame":"游戏时刻-王者荣耀",defaultTitle:"王者荣耀精彩时刻"},{appId:"wxc4c0253df149f02d",gameName:"和平精英",albumName:"精彩时刻",defaultTitle:"和平精英精彩时刻"},{appId:"wx3bef52104e238bff",gameName:"欢乐麻将全集",albumName:k?"com.qqgame.happymj":"游戏时刻-欢乐麻将",defaultTitle:"欢乐麻将精彩时刻"},{appId:"wx360b06d575d20cc3",gameName:"QQ飞车手游",albumName:k?"com.tencent.tmgp.speedmobile":"游戏时刻-QQ飞车手游",defaultTitle:"QQ飞车手游精彩时刻"},{appId:"wx82dd7436af5db835",gameName:"火影忍者",albumName:k?"com.tencent.KiHan":"游戏时刻-火影忍者",defaultTitle:"火影忍者精彩时刻"}],S=function(e){return e.showLoading&&s.default.showLoading("正在上传中"),new Promise((function(t,n){var i;(0,c.default)("/cgi-bin/gameobjectstoragewap/putobject",JSON.stringify({method:"POST",data:e.data,image_compress:!!e.compress,image_compress_quality:null!==(i=e.compressQuality)&&void 0!==i?i:100}),(function(i){var r;e.showLoading&&s.default.hideLoading(),0===(null==i?void 0:i.errcode)&&null!=i&&null!==(r=i.data)&&void 0!==r&&r.url?t({url:i.data.url}):n(i)}),n)}))};t.uploadImage=S;var I=function(e){var t,n,i,l={},c={},b={};null===(t=e.sourceType)||void 0===t||t.forEach((function(e){l[e]=!0})),null===(n=e.mediaType)||void 0===n||n.forEach((function(e){c[e]=!0})),null===(i=e.sizeType)||void 0===i||i.forEach((function(e){b[e]=!0}));var y,I,C=function(e){return new Promise((function(t,n){var i,r;(null==e||null===(i=e.err_msg)||void 0===i?void 0:i.indexOf("cancel"))>-1||(null==e||null===(r=e.err_desc)||void 0===r?void 0:r.indexOf("cancel"))>-1?t({cancel:!0}):n(e)}))},O=function(){var t=(0,o.default)(r.default.mark((function t(n){var i,o,a,l,d,c,u,f,p;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],o=0;case 2:if(!(o<n.length)){t.next=20;break}if(a=n[o],l=void 0,!e.autoUploadCdn&&!e.localData){t.next=16;break}return t.prev=6,t.next=9,A("getLocalImgData",{localId:a.localId});case 9:d=t.sent,l=d.localData,k&&(l=(l=l.replace(/\n/g,"")).match(/^data:(.*);base64,/)?l:"data:image/jpeg;base64,".concat(l)),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(6);case 16:l?i.push({localId:a.localId,localData:l}):i.push({localId:a.localId});case 17:o++,t.next=2;break;case 20:if(!e.autoUploadCdn){t.next=42;break}s.default.showLoading("正在上传中",{timeout:1e3*i.length}),c=0;case 23:if(!(c<i.length)){t.next=41;break}if(u=i[c],f="",!u.localData){t.next=36;break}return t.prev=27,t.next=30,S({data:u.localData,showLoading:!1,compress:e.uploadCompress,compressQuality:e.uploadCompressQuality});case 30:p=t.sent,f=p.url,t.next=36;break;case 34:t.prev=34,t.t1=t.catch(27);case 36:u.url=f,e.localData||delete u.localData;case 38:c++,t.next=23;break;case 41:s.default.hideLoading();case 42:return t.abrupt("return",i);case 43:case"end":return t.stop()}}),t,null,[[6,14],[27,34]])})));return function(e){return t.apply(this,arguments)}}();if(l.game)return A("chooseHaowanMedia",{galleryType:l.game&&l.album?1:l.game?2:0,mediaType:c.image&&c.video?3:c.video?2:1,limitCount:null!==(y=e.count)&&void 0!==y?y:1,albumInfos:x,defaultSelectTab:null!==(I=e.defaultSelectTab)&&void 0!==I?I:0}).then((function(e){if(e.localIds){var t="string"==typeof e.localIds?JSON.parse(e.localIds):e.localIds,n=[],i=[];return t.forEach((function(t){if(2===e.type||"size"in t){var r={};e.transInfo?r=JSON.parse(e.transInfo):t.transInfo&&(r=JSON.parse(t.transInfo));var o=e.pageType||w;o===w?i.push({appId:e.appId,appName:e.appName,localId:t.localId,thumbLocalId:t.thumbLocalId,duration:Number(t.duration),height:Number(t.height),width:Number(t.width),size:Number(t.size),transInfo:r,pageType:o}):o===v&&i.push({appId:e.appId,appName:e.appName,url:t.videoUrl,thumbUrl:t.thumbUrl,title:t.title,subTitle:t.subTitle,duration:Number(t.duration),createTimeSec:t.createTimeSec,transInfo:r,pageType:o})}else n.push(t)})),Promise.resolve({video_list:i,image_list:n})}return Promise.resolve({video_list:[],image_list:[]})})).catch(C);var E=function(t){var n,i,a;return A("chooseMedia",{sourceType:t,mediaType:c.image&&c.video?"".concat(u,"|").concat(f):c.video?f:u,sizeType:b.compressed&&b.original?"".concat(m,"|").concat(_):b.compressed?m:_,maxDuration:null!==(n=e.maxDuration)&&void 0!==n?n:10,count:null!==(i=e.count)&&void 0!==i?i:1,camera:null!==(a=e.camera)&&void 0!==a?a:h}).then(function(){var e=(0,o.default)(r.default.mark((function e(t){var n,i,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.localIds){e.next=12;break}return n="string"==typeof t.localIds?JSON.parse(t.localIds):t.localIds,i=[],o=[],n.forEach((function(e){"size"in e?o.push({localId:e.localId,thumbLocalId:e.thumbLocalId,duration:Number(e.duration),height:Number(e.height),width:Number(e.width),size:Number(e.size)}):i.push(e)})),e.t0=Promise,e.next=8,O(i);case 8:return e.t1=e.sent,e.t2=o,e.t3={image_list:e.t1,video_list:e.t2},e.abrupt("return",e.t0.resolve.call(e.t0,e.t3));case 12:return e.abrupt("return",Promise.reject(t));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(C)},T=function(){return c.image&&c.video?E(p):c.video?A("chooseVideo",{sourceType:l.album&&l.camera?"".concat(p,"|").concat(g):l.camera?g:p,maxDuration:null!==(t=e.maxDuration)&&void 0!==t?t:10,camera:null!==(n=e.camera)&&void 0!==n?n:h}).then((function(e){return e.localId?Promise.resolve({video_list:[{localId:e.localId,thumbLocalId:e.thumbLocalId,duration:Number(e.duration),height:Number(e.height),width:Number(e.width),size:Number(e.size)}]}):Promise.reject(e)})).catch(C):A("chooseImage",{sourceType:["album"],scene:"1",count:null!==(i=e.count)&&void 0!==i?i:1}).then(function(){var e=(0,o.default)(r.default.mark((function e(t){var n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.localIds){e.next=9;break}return n="string"==typeof t.localIds?JSON.parse(t.localIds):t.localIds,i=n.map((function(e){return{localId:e}})),e.t0=Promise,e.next=6,O(i);case 6:return e.t1=e.sent,e.t2={image_list:e.t1},e.abrupt("return",e.t0.resolve.call(e.t0,e.t2));case 9:return e.abrupt("return",Promise.reject(t));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(C);var t,n,i};return l.album&&l.camera?k&&d.default.isLuggage?new Promise((function(e,t){a.default.show({actionList:[c.video?"拍摄":"拍照","从手机相册选择"],clickCbk:function(n){return 0===n?E(g).then(e).catch(t):T().then(e).catch(t)},cancelCbk:function(){return e({cancel:!0})}})})):E("".concat(p,"|").concat(g)):l.camera?E(g):k?T():E(p)};t.choose=I;var C={preivewImage:b,previewVideo:y,uploadImage:S,choose:I};t.default=C},function(e,t,n){"use strict";var i=n(0),r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.default=void 0;var o=i(n(12)),a=i(n(19)),s=i(n(13)),l=i(n(8)),d=i(n(2)),c=i(n(6)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e,t){return new Promise((function(n,i){l.default.verifyJsapi(l.default.apis,(function(){l.default.invoke(e,t,(function(e){var t;(null==e||null===(t=e.err_msg)||void 0===t?void 0:t.indexOf("ok"))>-1?n(e):i(e)}))}))}))},m=function(e){return new Promise(function(){var t=(0,s.default)(o.default.mark((function t(n,i){var r,a,s,f,p,m,h;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"geoLocation",s=!0,d.default.isWechat||(s=!1),d.default.isLuggage&&d.default.versionCompare(d.default.clientVersion(!0),"8.0.14")<0&&(s=!1),console.log("canUserApi",s),f=function(e){return new Promise((function(t,n){(0,c.default)("/cgi-bin/gamecenterwap/getlbsinfo",JSON.stringify(g({method:"POST"},e)),(function(i){0===i.errcode&&i.data?t(g(g({},e),{},{location:i.data})):n(i)}),n)}))},s?l.default.VerifyJsapiModule.callAfterLoaded((function(t){var r=u.getValue(t,"sign.noncestr"),o=u.getValue(t,"sign.signature"),a=u.getValue(t,"sign.timestamp");_("geoLocation",{scope:"jsapi_location",signType:"sha1",addrSign:o,timeStamp:a,nonceStr:r,verifyAppId:"wx62d9035fd4fd2059",verifySignType:"sha1",verifyNonceStr:r,verifySignature:o,verifyTimestamp:a}).then((function(t){if(console.log(t,8008980980),"latitude"in t&&"longitude"in t){var r={latitude:Number(t.latitude),longitude:Number(t.longitude)};null!=e&&e.lbs?f(r).then((function(e){console.log("getLbsInfo",e),n(e)})).catch((function(e){console.log("getsafd: ",e),i(e)})):n(r)}else i()})).catch(i)})):null!==(r=navigator)&&void 0!==r&&null!==(a=r.geolocation)&&void 0!==a&&a.getCurrentPosition?(m=!1,h=setTimeout((function(){m||(m=!0,i("timeout"))}),null!==(p=null==e?void 0:e.timeout)&&void 0!==p?p:15e3),navigator.geolocation.getCurrentPosition((function(t){if(!m){h&&clearTimeout(h),m=!0;var r={latitude:t.coords.latitude,longitude:t.coords.longitude};null!=e&&e.lbs?f(r).then(n).catch(i):n(r)}}),(function(e){m||(h&&clearTimeout(h),m=!0,i(e))}),{enableHighAccuracy:!0})):i();case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())};t.get=m;var h={get:m};t.default=h},function(e,t,n){var i=n(2).default,r=n(3);try{var o=window,a=!!i.isMinigame(),s=r.getQueryStr("SDKVersion"),l=88,d=88,c=56,u=32,f=["absolute","relative","fixed","sticky"];if(r.getQueryStr("menuButtonBoundingClientRect")){var p=JSON.parse(decodeURIComponent(r.getQueryStr("menuButtonBoundingClientRect")));l=p.top+p.height+12,d=l,c=p.top,u=p.height}var g="\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          width: 100%;\n          height: ".concat(l,"px;\n          z-index: 100003;\n          background-color: ").concat("#333333",";"),_="\n          margin-top: ".concat(c,"px;\n          height: ").concat(u,"px;\n          align-items: center;\n          display: flex;\n\n        "),m='\n          <div class="wxgame-navigation__goback" style="'.concat(_,'">\n            <img class="wxgame-navigation__goback-icon" style="').concat("width: 9px; height: 16px; margin-left: 16px",'" src="https://mmgame.qpic.cn/image/af231f44c25feed440fc74f6f802228451d6ca121d0a4eb5cd7f6903cb8fd847/0"/>\n          </div>\n        '),h=function(){var e=document.querySelector(".wxgame-navigation"),t=o.getComputedStyle(document.body).getPropertyValue("position");document.body.scrollTop>0||window.pageYOffset>0?e&&(e.style.position="fixed",e.style.top=0):e&&"absolute"!==e.style.position&&(e.style.position="absolute",f.findIndex((function(e){return t===e}))>-1&&(e.style.top="-".concat(d,"px")))};o.location.host&&"game.weixin.qq.com"==o.location.host&&a&&function e(){if(document.body){var t,n,i,r=!1;if(null!==(t=WXGAME)&&void 0!==t&&null!==(n=t.GlobalConfig)&&void 0!==n&&null!==(i=n.ui)&&void 0!==i&&i.getCustomNavigationConfig()){var a=WXGAME.GlobalConfig.ui.getCustomNavigationConfig();a.ignore_margin_top&&(d=0),a.transparent&&(r=!0)}document.body.style.marginTop="".concat(d,"px");var l=document.createElement("div");l.classList.add("wxgame-navigation"),l.style=g;var c=o.getComputedStyle(document.body).getPropertyValue("position");f.findIndex((function(e){return c===e}))>-1&&(l.style.top="-".concat(d,"px")),r&&(l.style.backgroundColor="transparent"),l.innerHTML=s?"":m,document.body.appendChild(l);var u=document.querySelector(".wxgame-navigation__goback");u&&u.addEventListener("click",(function(){s||history.back()}),!1),function(){var e=window.MutationObserver,t=document.body;new e((function(e){e.forEach((function(e){if("attributes"==e.type){t.style.marginTop!=="".concat(d,"px")&&(t.style.marginTop="".concat(d,"px"));var n=window.getComputedStyle(t).getPropertyValue("position"),i=document.querySelector(".wxgame-navigation");f.findIndex((function(e){return n===e}))>-1?i&&(i.style.top="-".concat(d,"px")):i&&(i.style.top="0")}}))})).observe(t,{attributes:!0})}(),window.addEventListener("scroll",h)}else setTimeout((function(){e()}),300)}()}catch(e){console.log("错误信息：",e)}e.exports={setColor:function(e){if(i.isMinigame()){if(!e)return;!function t(){var n,i,r=document.querySelector(".wxgame-navigation");if(r){if(r.style.backgroundColor=e.color,n=e.color,(299*(i=function(e){var t=e.toLowerCase(),n=[];if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var i="#",r=1;r<4;r+=1)i+=t.slice(r,r+1).concat(t.slice(r,r+1));t=i}for(r=1;r<7;r+=2)n.push(parseInt("0x"+t.slice(r,r+2)))}return n}(n))[0]+587*i[1]+114*i[1])/1e3>192){var o=document.querySelector(".wxgame-navigation__goback-icon");null==o||o.setAttribute("src","https://mmgame.qpic.cn/image/1c613e1cf24f731242e5db4b5640aef0a079d353cd55bc29dbd181ca844b646a/0")}}else setTimeout((function(){t()}),300)}()}}}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(9)),o=i(n(10)),a=i(n(19));function s(){var e=Date.now();return Math.floor(e/1e3)}var l,d=function(){function e(t){var n,i,o;(0,r.default)(this,e),(0,a.default)(this,"metaList",[]),(0,a.default)(this,"maxMetaLength",200),(0,a.default)(this,"totalSize",0),this.maxSize=null!==(n=null==t?void 0:t.maxSize)&&void 0!==n?n:4194304,this.expire=null!==(i=null==t?void 0:t.expire)&&void 0!==i?i:2592e3,this.metaListKey=null!==(o=null==t?void 0:t.metaKey)&&void 0!==o?o:"__eevee_store_lru_cache_meta_list__","undefined"==typeof localStorage?(this.nativeStorage={length:0,clear:function(){},getItem:function(e){return null},key:function(e){return null},removeItem:function(e){},setItem:function(e,t){}},this.nativeStorageSetItem=this.nativeStorage.setItem,this.nativeStorageGetItem=this.nativeStorage.getItem):(this.nativeStorage=localStorage,this.nativeStorageSetItem=Storage.prototype.setItem.bind(localStorage),this.nativeStorageGetItem=Storage.prototype.getItem.bind(localStorage),this.overwriteStorage(),this.init())}return(0,o.default)(e,[{key:"get",value:function(e,t){return this.getItem(e,t)}},{key:"set",value:function(e,t,n){this.setItem(e,t,n)}},{key:"remove",value:function(e){var t=this.metaList.findIndex((function(t){return t.k===e}));this.removeMeta(t,!0)}},{key:"clear",value:function(){this.metaList=[],this.nativeStorage.clear()}},{key:"getMetaList",value:function(){var e=this.nativeStorageGetItem(this.metaListKey);return this.deserialize(e)}},{key:"init",value:function(){var e,t=this,n=this.getMetaList();Date.now();e=n,"[object Array]"!==Object.prototype.toString.call(e)&&(n=[]),this.metaList=n,this.initMetaList(),this.updateMetaList(),this.totalSize=n.reduce((function(e,t){return e+t.s}),0),this.metaList.length&&setTimeout((function(){t.clearExpiredData(),t.updateMetaList()}),5e3)}},{key:"overwriteStorage",value:function(){var e=this,t=Storage.prototype.getItem,n=Storage.prototype.setItem;Storage.prototype.getItem=function(n){return this===localStorage?e.getItem(n):t.call(this,n)},Storage.prototype.setItem=function(t,i){return this===localStorage?e.setItem(t,i):n.call(this,t,i)}}},{key:"needRemoveCache",value:function(e){var t,n;return null===(t=WXGAME.GlobalConfig)||void 0===t||null===(n=t.cache)||void 0===n?void 0:n.needRemoveCache(e)}},{key:"getExpireCacheConfig",value:function(e){var t,n;return null===(t=WXGAME.GlobalConfig)||void 0===t||null===(n=t.cache)||void 0===n?void 0:n.getExpireCacheConfig(e)}},{key:"getItem",value:function(e,t){if(this.metaListKey===e)return null;var n=this.needRemoveCache(e),i=this.metaList.findIndex((function(t){return t.k===e}));if(n)return this.removeMeta(i,!0),null;var r=this.nativeStorageGetItem(e);return t?this.deserialize(r):r}},{key:"setItem",value:function(e,t,n){if(this.metaListKey!==e)if(e.length>200)console.error("Current key is over length, please limit 200. key: ".concat(e));else{var i,r=this.needRemoveCache(e),o=this.getExpireCacheConfig(e),a="string"==typeof t?t:String(t),l=this.sizeof(a),d=this.metaList.findIndex((function(t){return t.k===e})),c=s();r?this.removeMeta(d,!0):(d>-1?(i=this.metaList[d],this.totalSize=this.totalSize-i.s+l,i.s=l,i.t=c,this.metaList.splice(d,1)):(i={k:e,s:l,t:c,w:n||0},this.totalSize=this.totalSize+l),o&&o.expire_time&&(i.e=o.expire_time),this.metaList.push(i),(this.metaList.length>=this.maxMetaLength||this.totalSize>=this.maxSize)&&(this.clearExpiredData(),this.clearOldUsedData()),this.updateMetaList(),this.safeSetItem(e,a))}}},{key:"serialize",value:function(e){var t,n;if(n=e,"[object String]"===Object.prototype.toString.call(n))return e;try{t=JSON.stringify(e)}catch(e){t="{}"}return t}},{key:"deserialize",value:function(e){var t,n={};if(t=e,"[object Object]"===Object.prototype.toString.call(t))return e;try{n=JSON.parse(e)}catch(t){n=e}return n}},{key:"initMetaList",value:function(){var e=this,t=s();Object.keys(this.nativeStorage).forEach((function(n){if(n!==e.metaListKey&&"string"==typeof e.nativeStorage[n]){var i=e.sizeof(e.nativeStorage[n]),r=e.metaList.find((function(e){return e.k===n}));r?r.s=i:e.metaList.push({k:n,s:i,t:t,w:0})}}))}},{key:"removeMeta",value:function(e,t){if(-1!==e){var n=this.metaList[e];n&&(this.nativeStorage.removeItem(n.k),this.totalSize=this.totalSize-n.s,this.metaList.splice(e,1),t&&this.updateMetaList())}}},{key:"clearExpiredData",value:function(){var e=this,t=s(),n=[];this.metaList.forEach((function(i,r){var o=!1;i.e&&i.t+i.e<t&&(o=!0),i.t+e.expire<t&&(o=!0),o&&n.push(r)})),n.forEach((function(t){e.removeMeta(t,!1)}))}},{key:"clearOldUsedData",value:function(){for(;this.metaList.length>this.maxMetaLength;)this.removeMeta(0);for(;this.totalSize>this.maxSize&&this.metaList.length;)this.removeMeta(0)}},{key:"updateMetaList",value:function(){if(this.metaList.length){var e=this.metaListKey,t=this.serialize(this.metaList);this.safeSetItem(e,t)}}},{key:"sizeof",value:function(e){return"string"==typeof e?2*e.length:2*String(e).length}},{key:"clearWhenQuotaExceeded",value:function(){this.maxSize=this.maxSize-.1*e.maxSize,this.clearExpiredData(),this.clearOldUsedData(),this.updateMetaList()}},{key:"safeSetItem",value:function(t,n){for(var i=!1;!i;)if(this.maxSize<=e.minSize)this.nativeStorage.clear(),t!==this.metaListKey&&this.nativeStorageSetItem(t,n),this.metaList=this.metaList.filter((function(e){return e.k===t})),this.updateMetaList(),i=!0;else try{this.nativeStorageSetItem(t,n),i=!0}catch(e){var r;-1!==(null===(r=e.toString())||void 0===r?void 0:r.indexOf("QuotaExceeded"))?(this.clearWhenQuotaExceeded(),i=!1):i=!0}this.maxSize=e.maxSize}}]),e}();(0,a.default)(d,"maxSize",4194304),(0,a.default)(d,"minSize",524288);t.default=function(){return l||(l=new d),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){return['<div class="_js_portal_app_info_left">','<div class="_js_portal_app_info_appname">'.concat(e.Name,"</div>"),'<div class="_js_portal_app_info_developer">',"<span>".concat(e.DownloadInfo.android_operator||"腾讯科技","</span>"),"</div>",'<div class="_js_portal_app_info_version">'.concat(e.DownloadInfo.android_pkg_version||"1.0.0","</div>"),"</div>",'<div class="_js_portal_app_info_buttons">','<a class="_js_portal_app_info_link _js_portal_app_info_link_privacy" href="javascript:void(0);">隐私政策</a>','<span class="_js_portal_app_info_divide">|</span>','<a class="_js_portal_app_info_link _js_portal_app_info_link_permission" href="javascript:void(0);">应用权限</a>',"</div>"].join("")},r=function(){return["::-webkit-scrollbar {","display: none;","}","#_js_portal_app_info{","position: relative;","background-color: #fff;","font-size: 12px;","color: rgba(0, 0, 0, .5);","padding: 6px 8px;","display: none;","zoom: 0.7;","align-items: center;","justify-content: space-between;","}","@font-face{",'font-family: "WeChatGameIcon";','src: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAAKAIAAAwAgT1MvMli+crIAAACsAAAAYGNtYXAAngKbAAABDAAAAUpnbHlmtkmLkAAAAlgAAABYaGVhZBdvfMYAAAKwAAAANmhoZWEGsgLnAAAC6AAAACRobXR4BKgBrAAAAwwAAAAIbG9jYQAsABQAAAMUAAAABm1heHAABQALAAADHAAAACBuYW1lX9OoDwAAAzwAAAIrcG9zdP/cADQAAAVoAAAAJgAEAlQBkAAFAAACigK8AAAAjAKKArwAAAHgADEBAgAAAgAFAwAAAAAAAAAAAAMQAAAAAAAAAAAAAABQZkVkAIAAcgByAyD/OABaAwUAZAAAAAEAAAAAAnoCawAAACAAAgAAAAMAAAADAAAAHAABAAAAAABEAAMAAQAAABwABAAoAAAABgAEAAEAAgBy/////wAAAHL//////48AAQABAAAAAAAAAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAIQAAASoCmgADAAcAADcRIREnMxEjIQEJ6MfHAAKa/WYhAlgAAAABAYv/1wMwAtQACAAABScJATcBFhQHAco/AUD+wD8BVBISKT8BPwE/P/6sEjEQAAABAAAAAQAAgPg3mF8PPPUACwPoAAAAANqNVm8AAAAA2nHixwAh/9cDMALUAAAACAACAAAAAAAAAAEAAAMF/5wAWgM8ACEADAMwAAEAAAAAAAAAAAAAAAAAAAACAWwAIQM8AYsAAAAUACwAAAABAAAAAgAJAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAAAFAAAAAEAAAAAAAEADgAUAAEAAAAAAAIABwAiAAEAAAAAAAMAKgApAAEAAAAAAAQADgBTAAEAAAAAAAUAEABhAAEAAAAAAAYADgBxAAMAAQQJAAAAKAB/AAMAAQQJAAEAHACnAAMAAQQJAAIADgDDAAMAAQQJAAMAVADRAAMAAQQJAAQAHAElAAMAAQQJAAUAIAFBAAMAAQQJAAYAHAFhQ29weXJpZ2h0IChjKSAyMDIwLCBXZUNoYXRHYW1lSWNvblJlZ3VsYXJGb250Rm9yZ2UgMi4wIDogV2VDaGF0R2FtZUljb24gOiAzMS0zLTIwMjBXZUNoYXRHYW1lSWNvblZlcnNpb24gMDAxLjAwMCBXZUNoYXRHYW1lSWNvbgBDAG8AcAB5AHIAaQBnAGgAdAAgACgAYwApACAAMgAwADIAMAAsACAAVwBlAEMAaABhAHQARwBhAG0AZQBJAGMAbwBuAFIAZQBnAHUAbABhAHIARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIABXAGUAQwBoAGEAdABHAGEAbQBlAEkAYwBvAG4AIAA6ACAAMwAxAC0AMwAtADIAMAAyADAAVwBlAEMAaABhAHQARwBhAG0AZQBJAGMAbwBuAFYAZQByAHMAaQBvAG4AIAAwADAAMQAuADAAMAAwACAAVwBlAEMAaABhAHQARwBhAG0AZQBJAGMAbwBuAAACAAAAAAAA/4MAMgAAAAAAAAAAAAAAAAAAAAAAAAACAAIAAABVAAA=); format("truetype")',"font-style: normal;","font-weight: normal;","}","._js_portal_app_info_arrow{","font-family: WeChatGameIcon;","}","._js_portal_app_info_appname{","font-size: 10PX;","white-space: nowrap;","width: fit-content;","}","._js_portal_app_info_developer{","font-size: 10PX;","white-space: nowrap;","overflow: scroll;","margin-left: 8px;","}","._js_portal_app_info_version{","font-size: 10PX;","white-space: nowrap;","width: fit-content;","margin-left: 8px;","}","._js_portal_app_info_buttons{","margin-left: 8px;","display: flex;","right: 16px;","bottom: 8px;","font-size: 13px;","color: #576b95;","}","._js_portal_app_info_left{","display: flex;","align-items: center;","max-width: calc(100% - 120px);","}","._js_portal_app_info_divide{","color: rgba(0, 0, 0, .1);","margin: 0 4px;","}","._js_portal_app_info_link{","text-decoration: none;","color: #576b95;","white-space: nowrap;","width: fit-content;","font-size: 10PX;","}","._js_portal_app_info_all {background-color: ".concat(wxPortal.navigationBarColor||"#fff"," !important; color: ").concat(wxPortal.navigationBarTextColor||"rgba(0, 0, 0, .5)"," !important; top: 0; z-index: 9999; width: auto; position: sticky !important;} ._js_portal_app_info_link{ color: ").concat(wxPortal.navigationBarLinkColor||"#576b95"," !important; }")].join("")},o=function(){if("undefined"!=typeof window&&WXGAME.Env.isAndroid){var e=0===location.href.indexOf("https://game.weixin.qq.com/cgi-bin/actnew/newportalact/"),t=["wx62d9035fd4fd2059","wxcaef3ea29a5478a8"],n=function(e,n,o){var a=document.querySelector(e),s=o?"_js_portal_app_info_all _js_portal_app_info_all_cloud_game":"_js_portal_app_info_all";n&&WXGAME.AppBtn.getAppItemByAppId([n],(function(e){if(e&&0===e.errcode&&e.appitem_list){var o=e.appitem_list[0]||{};if(o.AppID&&0===o.AppType&&-1===t.indexOf(n))if(a){var l=document.createElement("style");a.innerHTML=i(o),l.innerHTML=r(),document.head.appendChild(l)}else{var d=document.createElement("div"),c=document.createElement("style");d.className=s,d.id="_js_portal_app_info",d.innerHTML=i(o),c.innerHTML=r(),document.head.appendChild(c),document.body.insertBefore(d,document.body.firstElementChild)}else a&&-1!==t.indexOf(n)&&document.body.removeChild(a)}}))};if(e){var o=wxPortal.appId,a=wxPortal.cloudGameAppID;"complete"===document.readyState?(n("._js_portal_app_info_all",o),a&&n("._js_portal_app_info_all_cloud_game",a,!0)):window.addEventListener("load",(function(){n("._js_portal_app_info_all",o),a&&n("._js_portal_app_info_all_cloud_game",a,!0)}),!1)}}};t.default=o},function(e,t,n){var i=n(2).default;try{var r=!!i.isPcWechat,o=0,a=function(e){e.style.maxWidth="800PX",e.style.margin="0 auto",e.style.minWidth="auto"};if(r){!function e(){if(document.body){var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=document.body,i=new t((function(e){e.forEach((function(e){"attributes"===e.type&&"style"===e.attributeName&&a(document.body)}))}));document.body.classList.add("wg_pc_mode"),a(document.body),i.observe(n,{attributes:!0})}else o<3&&(setTimeout((function(){e()}),300),o++)}()}}catch(e){console.log("addPCStyle error",e)}}]);(function(){if(typeof window !== "undefined") window.__BuildEnv__={"buildTime":"2024-02-04 16:45:24","kulplib":{"version":"1.4.94"},"kulp":{"version":"1.4.11"},"wxgamelib":{"version":"1.2.232"},"buildVersion":"20240204164524"}})();
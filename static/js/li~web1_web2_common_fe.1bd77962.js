(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["web1_web2_common~advanced/menuSetting~bizpage/list~cardticket/member_message~discuss/list~discuss/li~web1_web2_common"],{"../../packages/mmbizweb-web2-common/biz_common/jquery.validate.js":function(Ne,Te,pe){var we;function ve(Ce){"@babel/helpers - typeof";return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},ve(Ce)}/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 JÃ¶rn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */!(we=function(){(function(L){L.extend(L.fn,{validate:function O(g){if(!this.length){if(g&&g.debug&&window.console){}return}var _=L.data(this[0],"validator");if(_){return _}this.attr("novalidate","novalidate");_=new L.validator(g,this[0]);L.data(this[0],"validator",_);if(_.settings.onsubmit){this.validateDelegate(":submit","click",function(D){if(_.settings.submitHandler){_.submitButton=D.target}if(L(D.target).hasClass("cancel")){_.cancelSubmit=true}if(L(D.target).attr("formnovalidate")!==void 0){_.cancelSubmit=true}});this.submit(function(D){if(_.settings.debug){D.preventDefault()}function J(){var I;if(_.settings.submitHandler){if(_.submitButton){I=L("<input type='hidden'/>").attr("name",_.submitButton.name).val(L(_.submitButton).val()).appendTo(_.currentForm)}_.settings.submitHandler.call(_,_.currentForm,D);if(_.submitButton){I.remove()}return false}return true}if(_.cancelSubmit){_.cancelSubmit=false;return J()}if(_.form()){if(_.pendingRequest){_.formSubmitted=true;return false}return J()}else{_.focusInvalid();return false}})}return _},valid:function O(){if(L(this[0]).is("form")){return this.validate().form()}else{var g=true;var _=L(this[0].form).validate();this.each(function(){g=g&&_.element(this)});return g}},removeAttrs:function O(g){var _={},D=this;L.each(g.split(/\s/),function(J,I){_[I]=D.attr(I);D.removeAttr(I)});return _},rules:function O(g,_){var D=this[0];if(g){var J=L.data(D.form,"validator").settings;var I=J.rules;var P=L.validator.staticRules(D);switch(g){case"add":L.extend(P,L.validator.normalizeRule(_));delete P.messages;I[D.name]=P;if(_.messages){J.messages[D.name]=L.extend(J.messages[D.name],_.messages)}break;case"remove":if(!_){delete I[D.name];return P}var X={};L.each(_.split(/\s/),function(ee,M){X[M]=P[M];delete P[M]});return X}}var te=L.validator.normalizeRules(L.extend({},L.validator.classRules(D),L.validator.attributeRules(D),L.validator.dataRules(D),L.validator.staticRules(D)),D);if(te.required){var Q=te.required;delete te.required;te=L.extend({required:Q},te)}return te}});L.extend(L.expr[":"],{blank:function O(g){return!L.trim(""+L(g).val())},filled:function O(g){return!!L.trim(""+L(g).val())},unchecked:function O(g){return!L(g).prop("checked")}});L.validator=function(O,g){this.settings=L.extend(true,{},L.validator.defaults,O);this.currentForm=g;this.init()};L.validator.format=function(O,g){if(arguments.length===1){return function(){var _=L.makeArray(arguments);_.unshift(O);return L.validator.format.apply(this,_)}}if(arguments.length>2&&g.constructor!==Array){g=L.makeArray(arguments).slice(1)}if(g.constructor!==Array){g=[g]}L.each(g,function(_,D){O=O.replace(new RegExp("\\{"+_+"\\}","g"),function(){return D})});return O};L.extend(L.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:L([]),errorLabelContainer:L([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function O(g,_){this.lastActive=g;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,g,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(g)).hide()}},onfocusout:function O(g,_){if(!this.checkable(g)){this.element(g)}},onkeyup:function O(g,_){if(_.which===9&&this.elementValue(g)===""){return}else if(g.name in this.submitted||g===this.lastElement){this.element(g)}},onclick:function O(g,_){if(g.name in this.submitted){this.element(g)}else if(g.parentNode.name in this.submitted){this.element(g.parentNode)}},highlight:function O(g,_,D){if(g.type==="radio"){this.findByName(g.name).addClass(_).removeClass(D)}else{L(g).addClass(_).removeClass(D)}},unhighlight:function O(g,_,D){if(g.type==="radio"){this.findByName(g.name).removeClass(_).addClass(D)}else{L(g).removeClass(_).addClass(D)}}},setDefaults:function O(g){L.extend(L.validator.defaults,g)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:L.validator.format("Please enter no more than {0} characters."),minlength:L.validator.format("Please enter at least {0} characters."),rangelength:L.validator.format("Please enter a value between {0} and {1} characters long."),range:L.validator.format("Please enter a value between {0} and {1}."),max:L.validator.format("Please enter a value less than or equal to {0}."),min:L.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function O(){this.labelContainer=L(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||L(this.currentForm);this.containers=L(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var g=this.groups={};L.each(this.settings.groups,function(J,I){if(typeof I==="string"){I=I.split(/\s/)}L.each(I,function(P,X){g[X]=J})});var _=this.settings.rules;L.each(_,function(J,I){_[J]=L.validator.normalizeRule(I)});function D(J){var I=L.data(this[0].form,"validator"),P="on"+J.type.replace(/^validate/,"");if(I.settings[P]){I.settings[P].call(I,this[0],J)}}L(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",D).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",D);if(this.settings.invalidHandler){L(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function O(){this.checkForm();L.extend(this.submitted,this.errorMap);this.invalid=L.extend({},this.errorMap);if(!this.valid()){L(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function O(){this.prepareForm();for(var g=0,_=this.currentElements=this.elements();_[g];g++){this.check(_[g])}return this.valid()},element:function O(g){g=this.validationTargetFor(this.clean(g));this.lastElement=g;this.prepareElement(g);this.currentElements=L(g);var _=this.check(g)!==false;if(_){delete this.invalid[g.name]}else{this.invalid[g.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return _},showErrors:function O(g){if(g){L.extend(this.errorMap,g);this.errorList=[];for(var _ in g){this.errorList.push({message:g[_],element:this.findByName(_)[0]})}this.successList=L.grep(this.successList,function(D){return!(D.name in g)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function O(){if(L.fn.resetForm){L(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function O(){return this.objectLength(this.invalid)},objectLength:function O(g){var _=0;for(var D in g){_++}return _},hideErrors:function O(){this.addWrapper(this.toHide).hide()},valid:function O(){return this.size()===0},size:function O(){return this.errorList.length},focusInvalid:function O(){if(this.settings.focusInvalid){try{L(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(g){}}},findLastActive:function O(){var g=this.lastActive;return g&&L.grep(this.errorList,function(_){return _.element.name===g.name}).length===1&&g},elements:function O(){var g=this,_={};return L(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&g.settings.debug&&window.console){}if(this.name in _||!g.objectLength(L(this).rules())){return false}_[this.name]=true;return true})},clean:function O(g){return L(g)[0]},errors:function O(){var g=this.settings.errorClass.replace(" ",".");return L(this.settings.errorElement+"."+g,this.errorContext)},reset:function O(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=L([]);this.toHide=L([]);this.currentElements=L([])},prepareForm:function O(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function O(g){this.reset();this.toHide=this.errorsFor(g)},elementValue:function O(g){var _=L(g).attr("type"),D=L(g).val();if(_==="radio"||_==="checkbox"){return L("input[name='"+L(g).attr("name")+"']:checked").val()}if(typeof D==="string"){return D.replace(/\r/g,"")}return D},check:function O(g){g=this.validationTargetFor(this.clean(g));var _=L(g).rules();var D=false;var J=this.elementValue(g);var I;for(var P in _){var X={method:P,parameters:_[P]};try{I=L.validator.methods[P].call(this,J,g,X.parameters);if(I==="dependency-mismatch"){D=true;continue}D=false;if(I==="pending"){this.toHide=this.toHide.not(this.errorsFor(g));return}if(!I){this.formatAndAdd(g,X);return false}}catch(te){if(this.settings.debug&&window.console){}throw te}}if(D){return}if(this.objectLength(_)){this.successList.push(g)}return true},customDataMessage:function O(g,_){return L(g).data("msg-"+_.toLowerCase())||g.attributes&&L(g).attr("data-msg-"+_.toLowerCase())},customMessage:function O(g,_){var D=this.settings.messages[g];return D&&(D.constructor===String?D:D[_])},findDefined:function O(){for(var g=0;g<arguments.length;g++){if(arguments[g]!==void 0){return arguments[g]}}return void 0},defaultMessage:function O(g,_){return this.findDefined(this.customMessage(g.name,_),this.customDataMessage(g,_),!this.settings.ignoreTitle&&g.title||void 0,L.validator.messages[_],"<strong>Warning: No message defined for "+g.name+"</strong>")},formatAndAdd:function O(g,_){var D=this.defaultMessage(g,_.method),J=/\$?\{(\d+)\}/g;if(typeof D==="function"){D=D.call(this,_.parameters,g)}else if(J.test(D)){D=L.validator.format(D.replace(J,"{$1}"),_.parameters)}this.errorList.push({message:D,element:g});this.errorMap[g.name]=D;this.submitted[g.name]=D},addWrapper:function O(g){if(this.settings.wrapper){g=g.add(g.parent(this.settings.wrapper))}return g},defaultShowErrors:function O(){var g,_;for(g=0;this.errorList[g];g++){var D=this.errorList[g];if(this.settings.highlight){this.settings.highlight.call(this,D.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(D.element,D.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(g=0;this.successList[g];g++){this.showLabel(this.successList[g])}}if(this.settings.unhighlight){for(g=0,_=this.validElements();_[g];g++){this.settings.unhighlight.call(this,_[g],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function O(){return this.currentElements.not(this.invalidElements())},invalidElements:function O(){return L(this.errorList).map(function(){return this.element})},showLabel:function O(g,_){var D=this.errorsFor(g);if(D.length){D.removeClass(this.settings.validClass).addClass(this.settings.errorClass);D.html(_)}else{D=L("<"+this.settings.errorElement+">").attr("for",this.idOrName(g)).addClass(this.settings.errorClass).html(_||"");if(this.settings.wrapper){D=D.hide().show().wrap("<"+this.settings.wrapper+" class='frm_msg fail'/>").parent()}if(!this.labelContainer.append(D).length){if(this.settings.errorPlacement){this.settings.errorPlacement(D,L(g))}else{D.insertAfter(g)}}}if(!_&&this.settings.success){D.text("");if(typeof this.settings.success==="string"){D.addClass(this.settings.success)}else{this.settings.success(D,g)}}this.toShow=this.toShow.add(D)},errorsFor:function O(g){var _=this.idOrName(g);return this.errors().filter(function(){return L(this).attr("for")===_})},idOrName:function O(g){return this.groups[g.name]||(this.checkable(g)?g.name:g.id||g.name)},validationTargetFor:function O(g){if(this.checkable(g)){g=this.findByName(g.name).not(this.settings.ignore)[0]}return g},checkable:function O(g){return/radio|checkbox/i.test(g.type)},findByName:function O(g){return L(this.currentForm).find("[name='"+g+"']")},getLength:function O(g,_){switch(_.nodeName.toLowerCase()){case"select":return L("option:selected",_).length;case"input":if(this.checkable(_)){return this.findByName(_.name).filter(":checked").length}}return g.length},depend:function O(g,_){return this.dependTypes[ve(g)]?this.dependTypes[ve(g)](g,_):true},dependTypes:{"boolean":function O(g,_){return g},"string":function O(g,_){return!!L(g,_.form).length},"function":function O(g,_){return g(_)}},optional:function O(g){var _=this.elementValue(g);return!L.validator.methods.required.call(this,_,g)&&"dependency-mismatch"},startRequest:function O(g){if(!this.pending[g.name]){this.pendingRequest++;this.pending[g.name]=true}},stopRequest:function O(g,_){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[g.name];if(_&&this.pendingRequest===0&&this.formSubmitted&&this.form()){L(this.currentForm).submit();this.formSubmitted=false}else if(!_&&this.pendingRequest===0&&this.formSubmitted){L(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function O(g){return L.data(g,"previousValue")||L.data(g,"previousValue",{old:null,valid:true,message:this.defaultMessage(g,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function O(g,_){if(g.constructor===String){this.classRuleSettings[g]=_}else{L.extend(this.classRuleSettings,g)}},classRules:function O(g){var _={};var D=L(g).attr("class");if(D){L.each(D.split(" "),function(){if(this in L.validator.classRuleSettings){L.extend(_,L.validator.classRuleSettings[this])}})}return _},attributeRules:function O(g){var _={};var D=L(g);var J=D[0].getAttribute("type");for(var I in L.validator.methods){var P;if(I==="required"){P=D.get(0).getAttribute(I);if(P===""){P=true}P=!!P}else{P=D.attr(I)}if(/min|max/.test(I)&&(J===null||/number|range|text/.test(J))){P=Number(P)}if(P){_[I]=P}else if(J===I&&J!=="range"){_[I]=true}}if(_.maxlength&&/-1|2147483647|524288/.test(_.maxlength)){delete _.maxlength}return _},dataRules:function O(g){var _,D,J={},I=L(g);for(_ in L.validator.methods){D=I.data("rule-"+_.toLowerCase());if(D!==void 0){J[_]=D}}return J},staticRules:function O(g){var _={};var D=L.data(g.form,"validator");if(D.settings.rules){_=L.validator.normalizeRule(D.settings.rules[g.name])||{}}return _},normalizeRules:function O(g,_){L.each(g,function(D,J){if(J===false){delete g[D];return}if(J.param||J.depends){var I=true;switch(ve(J.depends)){case"string":I=!!L(J.depends,_.form).length;break;case"function":I=J.depends.call(_,_);break}if(I){if(typeof J!="string"){g[D]=J.param!==void 0?J.param:true}}else{delete g[D]}}});L.each(g,function(D,J){g[D]=L.isFunction(J)?J(_):J});L.each(["minlength","maxlength"],function(){if(g[this]){g[this]=Number(g[this])}});L.each(["rangelength","range"],function(){var D;if(g[this]){if(L.isArray(g[this])){g[this]=[Number(g[this][0]),Number(g[this][1])]}else if(typeof g[this]==="string"){D=g[this].split(/[\s,]+/);g[this]=[Number(D[0]),Number(D[1])]}}});if(L.validator.autoCreateRanges){if(g.min&&g.max){g.range=[g.min,g.max];delete g.min;delete g.max}if(g.minlength&&g.maxlength){g.rangelength=[g.minlength,g.maxlength];delete g.minlength;delete g.maxlength}}return g},normalizeRule:function O(g){if(typeof g==="string"){var _={};L.each(g.split(/\s/),function(){_[this]=true});g=_}return g},addMethod:function O(g,_,D){L.validator.methods[g]=_;L.validator.messages[g]=D!==void 0?D:L.validator.messages[g];if(_.length<3){L.validator.addClassRules(g,L.validator.normalizeRule(g))}},methods:{required:function O(g,_,D){if(!this.depend(D,_)){return"dependency-mismatch"}if(_.nodeName.toLowerCase()==="select"){var J=L(_).val();return J&&J.length>0}if(this.checkable(_)){return this.getLength(g,_)>0}return L.trim(g).length>0},email:function O(g,_){return this.optional(_)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(g)},url:function O(g,_){return this.optional(_)||/^(https?|s?ftp|weixin):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(g)},date:function O(g,_){return this.optional(_)||!/Invalid|NaN/.test(new Date(g).toString())},dateISO:function O(g,_){return this.optional(_)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(g)},number:function O(g,_){return this.optional(_)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(g)},digits:function O(g,_){return this.optional(_)||/^\d+$/.test(g)},creditcard:function O(g,_){if(this.optional(_)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(g)){return false}var D=0,J=0,I=false;g=g.replace(/\D/g,"");for(var P=g.length-1;P>=0;P--){var X=g.charAt(P);J=parseInt(X,10);if(I){if((J*=2)>9){J-=9}}D+=J;I=!I}return D%10===0},minlength:function O(g,_,D){var J=L.isArray(g)?g.length:this.getLength(L.trim(g),_);return this.optional(_)||J>=D},maxlength:function O(g,_,D){var J=L.isArray(g)?g.length:this.getLength(L.trim(g),_);return this.optional(_)||J<=D},rangelength:function O(g,_,D){var J=L.isArray(g)?g.length:this.getLength(L.trim(g),_);return this.optional(_)||J>=D[0]&&J<=D[1]},min:function O(g,_,D){return this.optional(_)||g>=D},max:function O(g,_,D){return this.optional(_)||g<=D},range:function O(g,_,D){return this.optional(_)||g>=D[0]&&g<=D[1]},equalTo:function O(g,_,D){var J=L(D);if(this.settings.onfocusout){J.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){L(_).valid()})}return g===J.val()},remote:function O(g,_,D){if(this.optional(_)){return"dependency-mismatch"}var J=this.previousValue(_);if(!this.settings.messages[_.name]){this.settings.messages[_.name]={}}J.originalMessage=this.settings.messages[_.name].remote;this.settings.messages[_.name].remote=J.message;D=typeof D==="string"&&{url:D}||D;if(J.old===g){return J.valid}J.old=g;var I=this;this.startRequest(_);var P={};P[_.name]=g;L.ajax(L.extend(true,{url:D,mode:"abort",port:"validate"+_.name,dataType:"json",data:P,success:function X(te){I.settings.messages[_.name].remote=J.originalMessage;var Q=te===true||te==="true";if(Q){var ee=I.formSubmitted;I.prepareElement(_);I.formSubmitted=ee;I.successList.push(_);delete I.invalid[_.name];I.showErrors()}else{var M={};var F=te||I.defaultMessage(_,"remote");M[_.name]=J.message=L.isFunction(F)?F(g):F;I.invalid[_.name]=true;I.showErrors(M)}J.valid=Q;I.stopRequest(_,Q)}},D));return"pending"}}});L.format=L.validator.format})(jQuery);(function(L){var O={};if(L.ajaxPrefilter){L.ajaxPrefilter(function(_,D,J){var I=_.port;if(_.mode==="abort"){if(O[I]){O[I].abort()}O[I]=J}})}else{var g=L.ajax;L.ajax=function(_){var D=("mode"in _?_:L.ajaxSettings).mode,J=("port"in _?_:L.ajaxSettings).port;if(D==="abort"){if(O[J]){O[J].abort()}O[J]=g.apply(this,arguments);return O[J]}return g.apply(this,arguments)}}})(jQuery);(function(L){L.extend(L.fn,{validateDelegate:function O(g,_,D){return this.bind(_,function(J){var I=L(J.target);if(I.is(g)){return D.apply(I,arguments)}})}})})(jQuery);(function(L){L.validator.defaults.errorClass="frm_msg_content";L.validator.defaults.errorElement="span";L.validator.defaults.errorPlacement=function(O,g){g.parent().after(O)};L.validator.defaults.wrapper="p";L.validator.messages={required:"\u5FC5\u9009\u5B57\u6BB5",remote:"\u8BF7\u4FEE\u6B63\u8BE5\u5B57\u6BB5",email:"\u8BF7\u8F93\u5165\u6B63\u786E\u683C\u5F0F\u7684\u7535\u5B50\u90AE\u4EF6",url:"\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u7F51\u5740",date:"\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u65E5\u671F",dateISO:"\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u65E5\u671F (ISO).",number:"\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u6570\u5B57",digits:"\u53EA\u80FD\u8F93\u5165\u6574\u6570",creditcard:"\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u4FE1\u7528\u5361\u53F7",equalTo:"\u8BF7\u518D\u6B21\u8F93\u5165\u76F8\u540C\u7684\u503C",accept:"\u8BF7\u8F93\u5165\u62E5\u6709\u5408\u6CD5\u540E\u7F00\u540D\u7684\u5B57\u7B26\u4E32",maxlength:L.validator.format("\u8BF7\u8F93\u5165\u4E00\u4E2A\u957F\u5EA6\u6700\u591A\u662F {0} \u7684\u5B57\u7B26\u4E32"),minlength:L.validator.format("\u8BF7\u8F93\u5165\u4E00\u4E2A\u957F\u5EA6\u6700\u5C11\u662F {0} \u7684\u5B57\u7B26\u4E32"),rangelength:L.validator.format("\u8BF7\u8F93\u5165\u4E00\u4E2A\u957F\u5EA6\u4ECB\u4E8E {0} \u548C {1} \u4E4B\u95F4\u7684\u5B57\u7B26\u4E32"),range:L.validator.format("\u8BF7\u8F93\u5165\u4E00\u4E2A\u4ECB\u4E8E {0} \u548C {1} \u4E4B\u95F4\u7684\u503C"),max:L.validator.format("\u8BF7\u8F93\u5165\u4E00\u4E2A\u6700\u5927\u4E3A {0} \u7684\u503C"),min:L.validator.format("\u8BF7\u8F93\u5165\u4E00\u4E2A\u6700\u5C0F\u4E3A {0} \u7684\u503C")};(function(){var O=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1];var g=[1,0,10,9,8,7,6,5,4,3,2];function _(P){var X=0;var te;if(P[17].toLowerCase()=="x"){P[17]=10}for(var Q=0;Q<17;Q++){X+=O[Q]*P[Q]}te=X%11;if(P[17]==g[te]){return true}else{return false}}function D(P,X){var te=X||18;var Q=P.substring(6,10);var ee=P.substring(10,12);var M=P.substring(12,14);var F=new Date(Q,parseFloat(ee)-1,parseFloat(M));if(new Date().getFullYear()-parseInt(Q)<te){return false}if(F.getFullYear()!=parseFloat(Q)||F.getMonth()!=parseFloat(ee)-1||F.getDate()!=parseFloat(M)){return false}else{return true}}function J(P){var X=P.substring(6,8);var te=P.substring(8,10);var Q=P.substring(10,12);var ee=new Date(X,parseFloat(te)-1,parseFloat(Q));if(ee.getYear()!=parseFloat(X)||ee.getMonth()!=parseFloat(te)-1||ee.getDate()!=parseFloat(Q)){return false}else{return true}}function I(P,X){P=L.trim(P.replace(/ /g,""));if(P.length==15){return false}else if(P.length==18){var te=P.split("");if(D(P,X)&&_(te)){return true}else{return false}}else{return false}}L.validator.addMethod("idcard",function(P,X,te){return I(P,te)},"\u8EAB\u4EFD\u8BC1\u683C\u5F0F\u4E0D\u6B63\u786E\uFF0C\u6216\u8005\u5E74\u9F84\u672A\u6EE118\u5468\u5C81\uFF0C\u8BF7\u91CD\u65B0\u586B\u5199");L.validator.addMethod("mobile",function(P,X,te){P=L.trim(P);return/^1\d{10}$/.test(P)},"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801");L.validator.addMethod("telephone",function(P,X){P=L.trim(P);return/^\d{1,4}(-\d{1,12})+$/.test(P)},"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u5EA7\u673A\u53F7\u7801\uFF0C\u5982020-12345678");L.validator.addMethod("verifycode",function(P,X){P=L.trim(P);return/^\d{6}$/.test(P)},"\u9A8C\u8BC1\u7801\u5E94\u4E3A6\u4F4D\u6570\u5B57");L.validator.addMethod("byteRangeLength",function(P,X,te){return this.optional(X)||P.len()<=te[1]&&P.len()>=te[0]},"\u5FC5\u987B\u4E3A{0}\u5230{1}\u4E2A\u5B57\u8282\u4E4B\u95F4")})()})(jQuery);var Ce={optional:function L(O){return false},getLength:function L(O){return!O?0:O.length}};function ne(L,O,g){return $.validator.methods[L].call(Ce,O,null,g)};var U=$.validator;U.rules={};$.each(U.methods,function(L,O){U.rules[L]=function(g,_){return O.call(Ce,g,null,_)}});return U}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/biz_common/utils/comm_store.js":function(Ne,Te,pe){var we;function ve(Ce){"@babel/helpers - typeof";return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},ve(Ce)}!(we=function(){var Ce={web:{get:function L(O,g,_){O.get({url:"/cgi-bin/mmbizfrontendcommstore?operate_type=GetServiceData&service_name="+g.key+"&service_option=1",success:function D(J){ne(Ce.web.get,O,J,g,_)},error:g.error})},set:function L(O,g,_){O.post({url:"/cgi-bin/mmbizfrontendcommstore",data:{operate_type:"SetServiceData",service_name:g.key,service_data:JSON.stringify(g.value)},success:function D(J){U(Ce.web.set,O,J,g,_)},error:g.error})}},wap:{get:function L(O,g,_){O({type:"GET",dataType:"json",url:"/mp/frontendcommstore?operate_type=GetServiceData&service_name="+g.key+"&service_option=1",success:function D(J){ne(Ce.wap.get,O,J,g,_)},error:g.error})},set:function L(O,g,_){O({type:"POST",dataType:"json",url:"/mp/frontendcommstore",data:{operate_type:"SetServiceData",service_name:g.key,service_data:JSON.stringify(g.value)},success:function D(J){U(Ce.wap.set,O,J,g,_)},error:g.error})}}};var ne=function L(O,g,_,D,J){if(_&&_.base_resp&&_.base_resp.ret===0){switch(_.err_code){case 0:try{typeof D.success==="function"&&D.success(JSON.parse(_.service_data))}catch(I){typeof D.error==="function"&&D.error(_)}break;case 21396001:typeof D.success==="function"&&D.success(null);break;case 21396002:case 21396003:if(J<3){O(g,D,J+1)}else{typeof D.error==="function"&&D.error(_)}break;case 21396005:typeof D.error==="function"&&D.error(_);break;case 21396007:typeof D.error==="function"&&D.error(_);break;default:typeof D.error==="function"&&D.error(_)}}else{typeof D.error==="function"&&D.error(_)}};var U=function L(O,g,_,D,J){if(_&&_.base_resp&&_.base_resp.ret===0){switch(_.err_code){case 0:typeof D.success==="function"&&D.success();break;case 21396002:case 21396003:if(J<3){O(g,D,J+1)}else{typeof D.error==="function"&&D.error(_)}break;case 21396005:typeof D.error==="function"&&D.error(_);break;case 21396006:typeof D.error==="function"&&D.error(_);break;case 21396007:typeof D.error==="function"&&D.error(_);break;default:typeof D.error==="function"&&D.error(_)}}else{typeof D.error==="function"&&D.error(_)}};return{get:function L(O,g,_){Ce[O].get(g,_,0)},set:function L(O,g,_){if(ve(_.value)!=="object"){return}Ce[O].set(g,_,0)}}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/biz_common/utils/emoji_data.js":function(Ne,Te,pe){var we;function ve(Ce){"@babel/helpers - typeof";return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},ve(Ce)};(function(Ce){var ne=(typeof window==="undefined"?"undefined":ve(window))==="object"&&window||(typeof self==="undefined"?"undefined":ve(self))==="object"&&self;if(true){!(we=function(U,L,O){return Ce(L)}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))}else{}})(function(Ce){return[{id:0,cn:"[\u5FAE\u7B11]",hk:"[\u5FAE\u7B11]",us:"[Smile]",code:"/::)",web_code:"/\u5FAE\u7B11",style:"icon_smiley_0"},{id:1,cn:"[\u6487\u5634]",hk:"[\u6487\u5634]",us:"[Grimace]",code:"/::~",web_code:"/\u6487\u5634",style:"icon_smiley_1"},{id:2,cn:"[\u8272]",hk:"[\u8272]",us:"[Drool]",code:"/::B",web_code:"/\u8272",style:"icon_smiley_2"},{id:3,cn:"[\u53D1\u5446]",hk:"[\u767C\u5446]",us:"[Scowl]",code:"/::|",web_code:"/\u53D1\u5446",style:"icon_smiley_3"},{id:4,cn:"[\u5F97\u610F]",hk:"[\u5F97\u610F]",us:"[CoolGuy]",code:"/:8-)",web_code:"/\u5F97\u610F",style:"icon_smiley_4"},{id:5,cn:"[\u6D41\u6CEA]",hk:"[\u6D41\u6DDA]",us:"[Sob]",code:"/::<",web_code:"/\u6D41\u6CEA",style:"icon_smiley_5"},{id:6,cn:"[\u5BB3\u7F9E]",hk:"[\u5BB3\u7F9E]",us:"[Shy]",code:"/::$",web_code:"/\u5BB3\u7F9E",style:"icon_smiley_6"},{id:7,cn:"[\u95ED\u5634]",hk:"[\u9589\u5634]",us:"[Silent]",code:"/::X",web_code:"/\u95ED\u5634",style:"icon_smiley_7"},{id:8,cn:"[\u7761]",hk:"[\u7761]",us:"[Sleep]",code:"/::Z",web_code:"/\u7761",style:"icon_smiley_8"},{id:9,cn:"[\u5927\u54ED]",hk:"[\u5927\u54ED]",us:"[Cry]",code:"/::'(",web_code:"/\u5927\u54ED",style:"icon_smiley_9"},{id:10,cn:"[\u5C34\u5C2C]",hk:"[\u5C37\u5C2C]",us:"[Awkward]",code:"/::-|",web_code:"/\u5C34\u5C2C",style:"icon_smiley_10"},{id:11,cn:"[\u53D1\u6012]",hk:"[\u767C\u6012]",us:"[Angry]",code:"/::@",web_code:"/\u53D1\u6012",style:"icon_smiley_11"},{id:12,cn:"[\u8C03\u76AE]",hk:"[\u8ABF\u76AE]",us:"[Tongue]",code:"/::P",web_code:"/\u8C03\u76AE",style:"icon_smiley_12"},{id:13,cn:"[\u5472\u7259]",hk:"[\u5472\u7259]",us:"[Grin]",code:"/::D",web_code:"/\u5472\u7259",style:"icon_smiley_13"},{id:14,cn:"[\u60CA\u8BB6]",hk:"[\u9A5A\u8A1D]",us:"[Surprise]",code:"/::O",web_code:"/\u60CA\u8BB6",style:"icon_smiley_14"},{id:15,cn:"[\u96BE\u8FC7]",hk:"[\u96E3\u904E]",us:"[Frown]",code:"/::(",web_code:"/\u96BE\u8FC7",style:"icon_smiley_15"},{id:16,cn:"[\u9177]",hk:"[\u9177]",us:"[Ruthless]",code:"/::+",web_code:"/\u9177",style:"icon_smiley_16"},{id:17,cn:"[\u51B7\u6C57]",hk:"[\u51B7\u6C57]",us:"[Blush]",code:"/:--b",web_code:"/\u51B7\u6C57",style:"icon_smiley_17"},{id:18,cn:"[\u6293\u72C2]",hk:"[\u6293\u72C2]",us:"[Scream]",code:"/::Q",web_code:"/\u6293\u72C2",style:"icon_smiley_18"},{id:19,cn:"[\u5410]",hk:"[\u5410]",us:"[Puke]",code:"/::T",web_code:"/\u5410",style:"icon_smiley_19"},{id:20,cn:"[\u5077\u7B11]",hk:"[\u5077\u7B11]",us:"[Chuckle]",code:"/:,@P",web_code:"/\u5077\u7B11",style:"icon_smiley_20"},{id:21,cn:"[\u6109\u5FEB]",hk:"[\u6109\u5FEB]",us:"[Joyful]",code:"/:,@-D",web_code:"/\u53EF\u7231",style:"icon_smiley_21"},{id:22,cn:"[\u767D\u773C]",hk:"[\u767D\u773C]",us:"[Slight]",code:"/::d",web_code:"/\u767D\u773C",style:"icon_smiley_22"},{id:23,cn:"[\u50B2\u6162]",hk:"[\u50B2\u6162]",us:"[Smug]",code:"/:,@o",web_code:"/\u50B2\u6162",style:"icon_smiley_23"},{id:24,cn:"[\u9965\u997F]",hk:"[\u9951\u9913]",us:"[Hungry]",code:"/::g",web_code:"/\u9965\u997F",style:"icon_smiley_24"},{id:25,cn:"[\u56F0]",hk:"[\u7D2F]",us:"[Drowsy]",code:"/:|-)",web_code:"/\u56F0",style:"icon_smiley_25"},{id:26,cn:"[\u60CA\u6050]",hk:"[\u9A5A\u6050]",us:"[Panic]",code:"/::!",web_code:"/\u60CA\u6050",style:"icon_smiley_26"},{id:27,cn:"[\u6D41\u6C57]",hk:"[\u6D41\u6C57]",us:"[Sweat]",code:"/::L",web_code:"/\u6D41\u6C57",style:"icon_smiley_27"},{id:28,cn:"[\u61A8\u7B11]",hk:"[\u5927\u7B11]",us:"[Laugh]",code:"/::>",web_code:"/\u61A8\u7B11",style:"icon_smiley_28"},{id:29,cn:"[\u60A0\u95F2]",hk:"[\u60A0\u9591]",us:"[Commando]",code:"/::,@",web_code:"/\u5927\u5175",style:"icon_smiley_29"},{id:30,cn:"[\u594B\u6597]",hk:"[\u596E\u9B25]",us:"[Determined]",code:"/:,@f",web_code:"/\u594B\u6597",style:"icon_smiley_30"},{id:31,cn:"[\u5492\u9A82]",hk:"[\u5492\u7F75]",us:"[Scold]",code:"/::-S",web_code:"/\u5492\u9A82",style:"icon_smiley_31"},{id:32,cn:"[\u7591\u95EE]",hk:"[\u7591\u554F]",us:"[Shocked]",code:"/:?",web_code:"/\u7591\u95EE",style:"icon_smiley_32"},{id:33,cn:"[\u5618]",hk:"[\u5653]",us:"[Shhh]",code:"/:,@x",web_code:"/\u5618",style:"icon_smiley_33"},{id:34,cn:"[\u6655]",hk:"[\u6688]",us:"[Dizzy]",code:"/:,@@",web_code:"/\u6655",style:"icon_smiley_34"},{id:35,cn:"[\u75AF\u4E86]",hk:"[\u760B\u4E86]",us:"[Tormented]",code:"/::8",web_code:"/\u6298\u78E8",style:"icon_smiley_35"},{id:36,cn:"[\u8870]",hk:"[\u8870]",us:"[Toasted]",code:"/:,@!",web_code:"/\u8870",style:"icon_smiley_36"},{id:37,cn:"[\u9AB7\u9AC5]",hk:"[\u9AB7\u9ACF\u982D]",us:"[Skull]",code:"/:!!!",web_code:"/\u9AB7\u9AC5",style:"icon_smiley_37"},{id:38,cn:"[\u6572\u6253]",hk:"[\u6572\u6253]",us:"[Hammer]",code:"/:xx",web_code:"/\u6572\u6253",style:"icon_smiley_38"},{id:39,cn:"[\u518D\u89C1]",hk:"[\u518D\u898B]",us:"[Wave]",code:"/:bye",web_code:"/\u518D\u89C1",style:"icon_smiley_39"},{id:40,cn:"[\u64E6\u6C57]",hk:"[\u64E6\u6C57]",us:"[Speechless]",code:"/:wipe",web_code:"/\u64E6\u6C57",style:"icon_smiley_40"},{id:41,cn:"[\u62A0\u9F3B]",hk:"[\u6473\u9F3B]",us:"[NosePick]",code:"/:dig",web_code:"/\u62A0\u9F3B",style:"icon_smiley_41"},{id:42,cn:"[\u9F13\u638C]",hk:"[\u9F13\u638C]",us:"[Clap]",code:"/:handclap",web_code:"/\u9F13\u638C",style:"icon_smiley_42"},{id:43,cn:"[\u7CD7\u5927\u4E86]",hk:"[\u7F9E\u8FB1]",us:"[Shame]",code:"/:&-(",web_code:"/\u7CD7\u5927\u4E86",style:"icon_smiley_43"},{id:44,cn:"[\u574F\u7B11]",hk:"[\u58DE\u7B11]",us:"[Trick]",code:"/:B-)",web_code:"/\u574F\u7B11",style:"icon_smiley_44"},{id:45,cn:"[\u5DE6\u54FC\u54FC]",hk:"[\u5DE6\u54FC\u54FC]",us:"[Bah\uFF01L]",code:"/:<@",web_code:"/\u5DE6\u54FC\u54FC",style:"icon_smiley_45"},{id:46,cn:"[\u53F3\u54FC\u54FC]",hk:"[\u53F3\u54FC\u54FC]",us:"[Bah\uFF01R]",code:"/:@>",web_code:"/\u53F3\u54FC\u54FC",style:"icon_smiley_46"},{id:47,cn:"[\u54C8\u6B20]",hk:"[\u54C8\u6B20]",us:"[Yawn]",code:"/::-O",web_code:"/\u54C8\u6B20",style:"icon_smiley_47"},{id:48,cn:"[\u9119\u89C6]",hk:"[\u9119\u8996]",us:"[Pooh-pooh]",code:"/:>-|",web_code:"/\u9119\u89C6",style:"icon_smiley_48"},{id:49,cn:"[\u59D4\u5C48]",hk:"[\u59D4\u5C48]",us:"[Shrunken]",code:"/:P-(",web_code:"/\u59D4\u5C48",style:"icon_smiley_49"},{id:50,cn:"[\u5FEB\u54ED\u4E86]",hk:"[\u5FEB\u54ED\u4E86]",us:"[TearingUp]",code:"/::'|",web_code:"/\u5FEB\u54ED\u4E86",style:"icon_smiley_50"},{id:51,cn:"[\u9634\u9669]",hk:"[\u9670\u96AA]",us:"[Sly]",code:"/:X-)",web_code:"/\u9634\u9669",style:"icon_smiley_51"},{id:52,cn:"[\u4EB2\u4EB2]",hk:"[\u89AA\u89AA]",us:"[Kiss]",code:"/::*",web_code:"/\u4EB2\u4EB2",style:"icon_smiley_52"},{id:53,cn:"[\u5413]",hk:"[\u5687]",us:"[Wrath]",code:"/:@x",web_code:"/\u5413",style:"icon_smiley_53"},{id:54,cn:"[\u53EF\u601C]",hk:"[\u53EF\u6190]",us:"[Whimper]",code:"/:8*",web_code:"/\u53EF\u601C",style:"icon_smiley_54"},{id:55,cn:"[\u83DC\u5200]",hk:"[\u83DC\u5200]",us:"[Cleaver]",code:"/:pd",web_code:"/\u83DC\u5200",style:"icon_smiley_55"},{id:56,cn:"[\u897F\u74DC]",hk:"[\u897F\u74DC]",us:"[Watermelon]",code:"/:<W>",web_code:"/\u897F\u74DC",style:"icon_smiley_56"},{id:57,cn:"[\u5564\u9152]",hk:"[\u5564\u9152]",us:"[Beer]",code:"/:beer",web_code:"/\u5564\u9152",style:"icon_smiley_57"},{id:58,cn:"[\u7BEE\u7403]",hk:"[\u7C43\u7403]",us:"[Basketball]",code:"/:basketb",web_code:"/\u7BEE\u7403",style:"icon_smiley_58"},{id:59,cn:"[\u4E52\u4E53]",hk:"[\u4E52\u4E53]",us:"[PingPong]",code:"/:oo",web_code:"/\u4E52\u4E53",style:"icon_smiley_59"},{id:60,cn:"[\u5496\u5561]",hk:"[\u5496\u5561]",us:"[Coffee]",code:"/:coffee",web_code:"/\u5496\u5561",style:"icon_smiley_60"},{id:61,cn:"[\u996D]",hk:"[\u98EF]",us:"[Rice]",code:"/:eat",web_code:"/\u996D",style:"icon_smiley_61"},{id:62,cn:"[\u732A\u5934]",hk:"[\u8C6C\u982D]",us:"[Pig]",code:"/:pig",web_code:"/\u732A\u5934",style:"icon_smiley_62"},{id:63,cn:"[\u73AB\u7470]",hk:"[\u73AB\u7470]",us:"[Rose]",code:"/:rose",web_code:"/\u73AB\u7470",style:"icon_smiley_63"},{id:64,cn:"[\u51CB\u8C22]",hk:"[\u67AF\u840E]",us:"[Wilt]",code:"/:fade",web_code:"/\u51CB\u8C22",style:"icon_smiley_64"},{id:65,cn:"[\u5634\u5507]",hk:"[\u5634\u5507]",us:"[Lips]",code:"/:showlove",web_code:"/\u793A\u7231",style:"icon_smiley_65"},{id:66,cn:"[\u7231\u5FC3]",hk:"[\u611B\u5FC3]",us:"[Heart]",code:"/:heart",web_code:"/\u7231\u5FC3",style:"icon_smiley_66"},{id:67,cn:"[\u5FC3\u788E]",hk:"[\u5FC3\u788E]",us:"[BrokenHeart]",code:"/:break",web_code:"/\u5FC3\u788E",style:"icon_smiley_67"},{id:68,cn:"[\u86CB\u7CD5]",hk:"[\u86CB\u7CD5]",us:"[Cake]",code:"/:cake",web_code:"/\u86CB\u7CD5",style:"icon_smiley_68"},{id:69,cn:"[\u95EA\u7535]",hk:"[\u9583\u96FB]",us:"[Lightning]",code:"/:li",web_code:"/\u95EA\u7535",style:"icon_smiley_69"},{id:70,cn:"[\u70B8\u5F39]",hk:"[\u70B8\u5F48]",us:"[Bomb]",code:"/:bome",web_code:"/\u70B8\u5F39",style:"icon_smiley_70"},{id:71,cn:"[\u5200]",hk:"[\u5200]",us:"[Dagger]",code:"/:kn",web_code:"/\u5200",style:"icon_smiley_71"},{id:72,cn:"[\u8DB3\u7403]",hk:"[\u8DB3\u7403]",us:"[Soccer]",code:"/:footb",web_code:"/\u8DB3\u7403",style:"icon_smiley_72"},{id:73,cn:"[\u74E2\u866B]",hk:"[\u7532\u87F2]",us:"[Ladybug]",code:"/:ladybug",web_code:"/\u74E2\u866B",style:"icon_smiley_73"},{id:74,cn:"[\u4FBF\u4FBF]",hk:"[\u4FBF\u4FBF]",us:"[Poop]",code:"/:shit",web_code:"/\u4FBF\u4FBF",style:"icon_smiley_74"},{id:75,cn:"[\u6708\u4EAE]",hk:"[\u6708\u4EAE]",us:"[Moon]",code:"/:moon",web_code:"/\u6708\u4EAE",style:"icon_smiley_75"},{id:76,cn:"[\u592A\u9633]",hk:"[\u592A\u967D]",us:"[Sun]",code:"/:sun",web_code:"/\u592A\u9633",style:"icon_smiley_76"},{id:77,cn:"[\u793C\u7269]",hk:"[\u79AE\u7269]",us:"[Gift]",code:"/:gift",web_code:"/\u793C\u7269",style:"icon_smiley_77"},{id:78,cn:"[\u62E5\u62B1]",hk:"[\u64C1\u62B1]",us:"[Hug]",code:"/:hug",web_code:"/\u62E5\u62B1",style:"icon_smiley_78"},{id:79,cn:"[\u5F3A]",hk:"[\u5F37]",us:"[ThumbsUp]",code:"/:strong",web_code:"/\u5F3A",style:"icon_smiley_79"},{id:80,cn:"[\u5F31]",hk:"[\u5F31]",us:"[ThumbsDown]",code:"/:weak",web_code:"/\u5F31",style:"icon_smiley_80"},{id:81,cn:"[\u63E1\u624B]",hk:"[\u63E1\u624B]",us:"[Shake]",code:"/:share",web_code:"/\u63E1\u624B",style:"icon_smiley_81"},{id:82,cn:"[\u80DC\u5229]",hk:"[\u52DD\u5229]",us:"[Peace]",code:"/:v",web_code:"/\u80DC\u5229",style:"icon_smiley_82"},{id:83,cn:"[\u62B1\u62F3]",hk:"[\u62B1\u62F3]",us:"[Fight]",code:"/:@)",web_code:"/\u62B1\u62F3",style:"icon_smiley_83"},{id:84,cn:"[\u52FE\u5F15]",hk:"[\u52FE\u5F15]",us:"[Beckon]",code:"/:jj",web_code:"/\u52FE\u5F15",style:"icon_smiley_84"},{id:85,cn:"[\u62F3\u5934]",hk:"[\u62F3\u982D]",us:"[Fist]",code:"/:@@",web_code:"/\u62F3\u5934",style:"icon_smiley_85"},{id:86,cn:"[\u5DEE\u52B2]",hk:"[\u5DEE\u52C1]",us:"[Pinky]",code:"/:bad",web_code:"/\u5DEE\u52B2",style:"icon_smiley_86"},{id:87,cn:"[\u7231\u4F60]",hk:"[\u611B\u4F60]",us:"[RockOn]",code:"/:lvu",web_code:"/\u7231\u4F60",style:"icon_smiley_87"},{id:88,cn:"[NO]",hk:"[NO]",us:"[Nuh-uh]",code:"/:no",web_code:"/NO",style:"icon_smiley_88"},{id:89,cn:"[OK]",hk:"[OK]",us:"[OK]",code:"/:ok",web_code:"/OK",style:"icon_smiley_89"},{id:90,cn:"[\u7231\u60C5]",hk:"[\u611B\u60C5]",us:"[InLove]",code:"/:love",web_code:"/\u7231\u60C5",style:"icon_smiley_90"},{id:91,cn:"[\u98DE\u543B]",hk:"[\u98DB\u543B]",us:"[Blowkiss]",code:"/:<L>",web_code:"/\u98DE\u543B",style:"icon_smiley_91"},{id:92,cn:"[\u8DF3\u8DF3]",hk:"[\u8DF3\u8DF3]",us:"[Waddle]",code:"/:jump",web_code:"/\u8DF3\u8DF3",style:"icon_smiley_92"},{id:93,cn:"[\u53D1\u6296]",hk:"[\u767C\u6296]",us:"[Tremble]",code:"/:shake",web_code:"/\u53D1\u6296",style:"icon_smiley_93"},{id:94,cn:"[\u6004\u706B]",hk:"[\u5674\u706B]",us:"[Aaagh!]",code:"/:<O>",web_code:"/\u6004\u706B",style:"icon_smiley_94"},{id:95,cn:"[\u8F6C\u5708]",hk:"[\u8F49\u5708]",us:"[Twirl]",code:"/:circle",web_code:"/\u8F6C\u5708",style:"icon_smiley_95"},{id:96,cn:"[\u78D5\u5934]",hk:"[\u78D5\u982D]",us:"[Kotow]",code:"/:kotow",web_code:"/\u78D5\u5934",style:"icon_smiley_96"},{id:97,cn:"[\u56DE\u5934]",hk:"[\u56DE\u982D]",us:"[Dramatic]",code:"/:turn",web_code:"/\u56DE\u5934",style:"icon_smiley_97"},{id:98,cn:"[\u8DF3\u7EF3]",hk:"[\u8DF3\u7E69]",us:"[JumpRope]",code:"/:skip",web_code:"/\u8DF3\u7EF3",style:"icon_smiley_98"},{id:99,cn:"[\u6295\u964D]",hk:"[\u6295\u964D]",us:"[Surrender]",code:"/:oY",web_code:"/\u6325\u624B",style:"icon_smiley_99"},{id:100,cn:"[\u6FC0\u52A8]",hk:"[\u6FC0\u52D5]",us:"[Hooray]",code:"/:#-0",web_code:"/\u6FC0\u52A8",style:"icon_smiley_100"},{id:101,cn:"[\u4E71\u821E]",hk:"[\u4E82\u821E]",us:"[Meditate]",code:"/:hiphot",web_code:"/\u8857\u821E",style:"icon_smiley_101"},{id:102,cn:"[\u732E\u543B]",hk:"[\u737B\u543B]",us:"[Smooch]",code:"/:kiss",web_code:"/\u732E\u543B",style:"icon_smiley_102"},{id:103,cn:"[\u5DE6\u592A\u6781]",hk:"[\u5DE6\u592A\u6975]",us:"[TaiChi L]",code:"/:<&",web_code:"/\u5DE6\u592A\u6781",style:"icon_smiley_103"},{id:104,cn:"[\u53F3\u592A\u6781]",hk:"[\u53F3\u592A\u6975]",us:"[TaiChi R]",code:"/:&>",web_code:"/\u53F3\u592A\u6781",style:"icon_smiley_104"},{id:204,cn:"[\u563F\u54C8]",hk:"[\u543C\u563F]",us:"[Hey]",code:"",web_code:"",style:"icon_emoji_wx_4"},{id:205,cn:"[\u6342\u8138]",hk:"[\u63A9\u9762]",us:"[Facepalm]",code:"",web_code:"",style:"icon_emoji_wx_5"},{id:202,cn:"[\u5978\u7B11]",hk:"[\u5978\u7B11]",us:"[Smirk]",code:"",web_code:"",style:"icon_emoji_wx_2"},{id:206,cn:"[\u673A\u667A]",hk:"[\u6A5F\u667A]",us:"[Smart]",code:"",web_code:"",style:"icon_emoji_wx_6"},{id:212,cn:"[\u76B1\u7709]",hk:"[\u76BA\u7709]",us:"[Moue]",code:"",web_code:"",style:"icon_emoji_wx_12"},{id:211,cn:"[\u8036]",hk:"[\u6B50\u8036]",us:"[Yeah!]",code:"",web_code:"",style:"icon_emoji_wx_11"},{id:207,cn:"[\u8336]",hk:"[\u8336]",us:"[Tea]",code:"",web_code:"",style:"icon_emoji_wx_7"},{id:209,cn:"[\u7EA2\u5305]",hk:"[Packet]",us:"[Packet]",code:"",web_code:"",style:"icon_emoji_wx_9"},{id:210,cn:"[\u8721\u70DB]",hk:"[\u881F\u71ED]",us:"[Candle]",code:"",web_code:"",style:"icon_emoji_wx_10"},{id:215,cn:"[\u798F]",hk:"[\u798F]",us:"[Blessing]",code:"",web_code:"",style:"icon_emoji_wx_15"},{id:214,cn:"[\u9E21]",hk:"[\u5C0F\u96DE]",us:"[Chick]",code:"",web_code:"",style:"icon_emoji_wx_14"},{id:300,cn:"[\u7B11\u8138]",emoji:"\u{1F604}",hk:"",us:"",code:"\\ue415",web_code:"",style:"icon_emoji_ios_0"},{id:301,cn:"[\u751F\u75C5]",emoji:"\u{1F637}",hk:"",us:"",code:"\\ue40c",web_code:"",style:"icon_emoji_ios_1"},{id:302,cn:"[\u7834\u6D95\u4E3A\u7B11]",emoji:"\u{1F602}",hk:"",us:"",code:"\\ue412",web_code:"",style:"icon_emoji_ios_2"},{id:303,cn:"[\u5410\u820C]",emoji:"\u{1F61D}",hk:"",us:"",code:"\\ue409",web_code:"",style:"icon_emoji_ios_3"},{id:304,cn:"[\u8138\u7EA2]",emoji:"\u{1F633}",hk:"",us:"",code:"\\ue40d",web_code:"",style:"icon_emoji_ios_4"},{id:305,cn:"[\u6050\u60E7]",emoji:"\u{1F631}",hk:"",us:"",code:"\\ue107",web_code:"",style:"icon_emoji_ios_5"},{id:306,cn:"[\u5931\u671B]",emoji:"\u{1F614}",hk:"",us:"",code:"\\ue403",web_code:"",style:"icon_emoji_ios_6"},{id:307,cn:"[\u65E0\u8BED]",emoji:"\u{1F612}",hk:"",us:"",code:"\\ue40e",web_code:"",style:"icon_emoji_ios_7"},{id:308,cn:"[\u9B3C\u9B42]",emoji:"\u{1F47B}",hk:"",us:"",code:"\\ue11b",web_code:"",style:"icon_emoji_ios_8"},{id:309,cn:"[\u5408\u5341]",emoji:"\u{1F64F}",hk:"",us:"[Worship]",code:"\\ue41d",web_code:"",style:"icon_emoji_ios_9"},{id:310,cn:"[\u5F3A\u58EE]",emoji:"\u{1F4AA}",hk:"",us:"",code:"\\ue14c",web_code:"",style:"icon_emoji_ios_10"},{id:311,cn:"[\u5E86\u795D]",emoji:"\u{1F389}",hk:"",us:"[Party]",code:"\\ue312",web_code:"",style:"icon_emoji_ios_11"},{id:312,cn:"[\u793C\u7269]",emoji:"\u{1F381}",hk:"",us:"",code:"\\ue112",web_code:"",style:"icon_emoji_ios_12"},{id:313,cn:"[\u5403\u74DC]",hk:"[\u5403\u897F\u74DC]",us:"[Onlooker]",code:"",web_code:"",style:"icon_emoji_wx_Watermelon"},{id:314,cn:"[\u52A0\u6CB9]",hk:"[\u52A0\u6CB9]",us:"[GoForIt]",code:"",web_code:"",style:"icon_emoji_wx_Addoil"},{id:315,cn:"[\u6C57]",hk:"[\u6C57]",us:"[Sweats]",code:"",web_code:"",style:"icon_emoji_wx_Sweat"},{id:316,cn:"[\u5929\u554A]",hk:"[\u5929\u554A]",us:"[OMG]",code:"",web_code:"",style:"icon_emoji_wx_Shocked"},{id:317,cn:"[Emm]",hk:"[\u4E00\u8A00\u96E3\u76E1]",us:"[Emm]",code:"",web_code:"",style:"icon_emoji_wx_Cold"},{id:318,cn:"[\u793E\u4F1A\u793E\u4F1A]",hk:"[\u5931\u656C\u5931\u656C]",us:"[Respect]",code:"",web_code:"",style:"icon_emoji_wx_Social"},{id:319,cn:"[\u65FA\u67F4]",hk:"[\u65FA\u67F4]",us:"[Doge]",code:"",web_code:"",style:"icon_emoji_wx_Yellowdog"},{id:320,cn:"[\u597D\u7684]",hk:"[\u597D\u7684]",us:"[NoProb]",code:"",web_code:"",style:"icon_emoji_wx_NoProb"},{id:321,cn:"[\u6253\u8138]",hk:"[\u6253\u81C9]",us:"[MyBad]",code:"",web_code:"",style:"icon_emoji_wx_Slap"},{id:322,cn:"[\u52A0\u6CB9\u52A0\u6CB9]",hk:"[\u52A0\u6CB9\uFF01]",us:"[KeepFighting]",code:"",web_code:"",style:"icon_emoji_wx_KeepFighting"},{id:323,cn:"[\u54C7]",hk:"[\u54C7]",us:"[Wow]",code:"",web_code:"",style:"icon_emoji_wx_Wow"},{id:324,cn:"[\u767C]",hk:"[\u767C]",us:"[Rich]",code:"",web_code:"",style:"icon_emoji_wx_16"},{id:"17_1",cn:"[\u56E7]",hk:"[\u56E7]",us:"[Blush]",code:"",web_code:"",style:"icon_smiley_17"},{id:"39_1",cn:"[\u518D\u89C1]",hk:"[\u518D\u898B]",us:"[Bye]",code:"",web_code:"",style:"icon_smiley_39"},{id:"83_1",cn:"[\u62B1\u62F3]",hk:"[\u62B1\u62F3]",us:"[Salute]",code:"",web_code:"",style:"icon_smiley_83"},{id:"212_1",cn:"[\u76B1\u7709]",hk:"[\u76BA\u7709]",us:"[Concerned]",code:"",web_code:"",style:"icon_emoji_wx_12"},{id:325,cn:"[\u88C2\u5F00]",hk:"[\u5D29\u6F70]",us:"[Broken]",code:"",web_code:"",style:"icon_emoji_wx_Broken"},{id:326,cn:"[\u82E6\u6DA9]",hk:"[\u96E3\u53D7]",us:"[Hurt]",code:"",web_code:"",style:"icon_emoji_wx_Hurt"},{id:327,cn:"[\u53F9\u6C14]",hk:"[\u5606\u606F]",us:"[Sigh]",code:"",web_code:"",style:"icon_emoji_wx_Sigh"},{id:328,cn:"[\u8BA9\u6211\u770B\u770B]",hk:"[\u8B93\u6211\u770B\u770B]",us:"[LetMeSee]",code:"",web_code:"",style:"icon_emoji_wx_LetMeSee"},{id:329,cn:"[666]",hk:"[666]",us:"[Awesome]",code:"",web_code:"",style:"icon_emoji_wx_Awesome"},{id:330,cn:"[\u7FFB\u767D\u773C]",hk:"[\u7FFB\u767D\u773C]",us:"[Boring]",code:"",web_code:"",style:"icon_emoji_wx_Boring"}]})},"../../packages/mmbizweb-web2-common/biz_common/utils/monitor.js":function(Ne,Te,pe){var we;!(we=function(ve){var Ce=[];var ne="/mp/jsmonitor?#wechat_redirect";var U={};if(typeof window!=="undefined"&&window.__monitor){return window.__monitor}U._reportOptions={idkey:{}};function L(g,_){if(g===null)return{};var D={};var J=Object.keys(g);for(var I=0;I<J.length;I++){var P=J[I];if(_.indexOf(P)>=0)continue;D[P]=g[P]}return D}function O(g){var _=[];var D=null;for(D in g){if(Object.prototype.hasOwnProperty.call(g,D)){_.push(D+"="+encodeURIComponent(g[D]))}}return _.join("&")}U.getReportData=function(g){g=g||{};var _=U._reportOptions.idkey||{};var D=null;var J,I;try{for(D in _){if(Object.prototype.hasOwnProperty.call(_,D)&&_[D]){Ce.push(D+"_"+_[D])}}}catch(X){return false}if(Ce.length===0){return false}try{var P=U._reportOptions;if(P!==null&&P!==void 0){for(I in P){if(Object.prototype.hasOwnProperty.call(P,I)){J[I]=P[I]}}}}catch(X){J={}}J.idkey=Ce.join(";");J.t=Math.random();if(g.remove!==false){Ce=[];U._reportOptions={idkey:{}}}return J};U.setLogs=function(g){var _=g.id;var D=g.key;var J=g.value;var I=L(g,["id","key","value"]);var P=U._reportOptions.idkey||{};var X=_+"_"+D;if(P[X]){P[X]+=J}else{P[X]=J}U._reportOptions.idkey=P;try{if(I!==null&&I!==void 0){for(var te in I){if(Object.prototype.hasOwnProperty.call(I,te)){U._reportOptions[te]=I[te]}}}}catch(Q){}return U};U.setAvg=function(g,_,D){var J=U._reportOptions.idkey||{};var I=g+"_"+_;var P=g+"_"+(_-1);if(J[I]){J[I]+=D}else{J[I]=D}if(J[P]){J[P]+=1}else{J[P]=1}U._reportOptions.idkey=J;return U};U.setSum=function(g,_,D){var J=U._reportOptions.idkey;var I=g+"_"+_;if(J[I]){J[I]+=D}else{J[I]=D}U._reportOptions.idkey=J;return U};U.send=function(g,_,D){if(g!==false){g=true}var J=U.getReportData();D=D||"";if(!J){return}if(!!_&&_ instanceof Function){_({url:D+ne,type:"POST",mayAbort:true,data:J,async:g,timeout:2e3})}else{new Image().src=D+"/mp/jsmonitor?"+O(J)+"#wechat_redirect"}};typeof window!=="undefined"&&(window.__monitor=U);return U}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/biz_common/utils/string/html.js":function(Ne,Te,pe){var we;!(we=function(ve){String.prototype.html=function(Ce){var ne=["&#96;","`","&#39;","'","&quot;",'"',"&nbsp;"," ","&gt;",">","&lt;","<","&yen;","\xA5","&amp;","&","&#60;","<","&#62;",">"];var U=["&","&amp;","\xA5","&yen;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;","`","&#96;"];var L;if(Ce){L=U}else{L=ne}for(var O=0,g=this;O<L.length;O+=2){g=g.replace(new RegExp(L[O],"g"),L[O+1])}return g};String.prototype.htmlEncode=function(){return this.html(true)};String.prototype.htmlDecode=function(){return this.html(false)};String.prototype.getPureText=function(){return this.replace(/<\/?[^>]*\/?>/g,"")};String.prototype.htmlLite=function(Ce){var ne=["&#96;","`","&#39;","'","&quot;",'"',"&gt;",">","&lt;","<","&amp;","&"];if(Ce){ne.reverse()}for(var U=0,L=this;U<ne.length;U+=2){L=L.replace(new RegExp(ne[U],"g"),ne[U+1])}return L};String.prototype.htmlEncodeLite=function(){return this.htmlLite(true)};String.prototype.htmlDecodeLite=function(){return this.htmlLite(false)};return{htmlDecode:function Ce(ne){return ne.htmlDecode()},htmlEncode:function Ce(ne){return ne.htmlEncode()},getPureText:function Ce(ne){return ne.getPureText()},htmlEncodeLite:function Ce(ne){return ne.htmlEncodeLite()},htmlDecodeLite:function Ce(ne){return ne.htmlDecodeLite()}}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/biz_common/utils/wxgspeedsdk.js":function(Ne,Te,pe){var we;!(we=function(ve){var Ce={};var ne;var U="https://badjs.weixinbridge.com/frontend/reportspeed?";function L(Q){if(!Q.pid||!Q.speeds){return-1}if(!Q.speeds.length>0){var ee=Q.speeds;Q.speeds=[];Q.speeds.push(ee)}if(Q.user_define){ne=Q.user_define}var M=J(Q);for(var F=0;F<Q.speeds.length;F++){var Y=Q.speeds[F];Y.time=parseInt(Y.time);if(Y.sid>20&&Y.time>=0)D(M,Y.sid,Y.time)}}function O(){X(function(){setTimeout(function(){for(var Q in Ce){I({pid_uin_rid:Q,speeds:Ce[Q],user_define:ne},U)}Ce={}},100)})}function g(Q){X(function(){if(!Q.pid||!Q.time)return-1;var ee=J(Q);D(ee,9,Q.time)})}function _(Q){X(function(){var ee=J(Q);if(!Ce[ee])Ce[ee]=[];var M=window.performance||window.msPerformance||window.webkitPerformance||{};if(!!M&&!!M.timing){var F=M.timing||{};D(ee,1,F.domainLookupEnd-F.domainLookupStart);D(ee,2,location.protocol=="https:"&&F.secureConnectionStart!=0?F.connectEnd-F.secureConnectionStart:0);D(ee,3,F.connectEnd-F.connectStart);D(ee,4,F.responseStart-F.requestStart);D(ee,5,F.responseEnd-F.responseStart);D(ee,6,F.domContentLoadedEventStart-F.domLoading);D(ee,7,F.domComplete==0?0:F.domComplete-F.domLoading);D(ee,8,F.loadEventEnd==0?0:F.loadEventEnd-F.loadEventStart);(function(Y){setTimeout(function(){if(F.loadEventEnd){D(ee,7,F.domComplete==0?0:F.domComplete-F.domLoading);D(ee,8,F.loadEventEnd==0?0:F.loadEventEnd-F.loadEventStart)}},0)})(Ce);if(!Ce[ee][9]){D(ee,9,F.domContentLoadedEventStart-F.navigationStart)}D(ee,10,F.redirectEnd-F.redirectStart);D(ee,11,F.domainLookupStart-F.fetchStart);D(ee,12,F.domLoading-F.responseStart)}})}function D(Q,ee,M){Ce[Q]=Ce[Q]||[];Ce[Q][ee]=Ce[Q][ee]||[];if(M<0)return;if(ee<21)Ce[Q][ee][0]=M;else Ce[Q][ee].push(M)}function J(Q){if(!Q||!Q.pid){console&&void 0;return}return Q.pid+"_"+(Q.uin||0)+"_"+(Q.rid||0)}function I(Q,ee){var M=Q.pid_uin_rid.split("_");if(M.length==3){var F="pid="+M[0]+"&uin="+M[1]+"&rid="+M[2]}else{console&&void 0;return}if(Q.user_define){F+="&user_define="+Q.user_define}var Y=ee+F+"&speeds=";var z="";var R=[];for(var N=1;N<Q.speeds.length;N++){if(Q.speeds[N]){for(var j=0;j<Q.speeds[N].length;j++){var W=N+"_"+Q.speeds[N][j];if(Y.length+z.length+W.length<1024){z=z+W+";"}else{if(!!z.length){R.push(Y+z.substring(0,z.length-1))}z=W+";"}}if(N==Q.speeds.length-1){R.push(Y+z.substring(0,z.length-1))}}}for(var N=0;N<R.length;N++){new Image().src=R[N]}}var P=[];function X(Q){if(document.readyState=="complete"){Q()}else{P.push(Q)}}if(window.addEventListener){window.addEventListener("load",te,false)}else if(window.attachEvent){window.attachEvent("onload",te)}function te(){for(var Q=0;Q<P.length;Q++){P[Q]()}P=[]}return{saveSpeeds:L,send:O,setFirstViewTime:g,setBasicTime:_}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/common/qq/emoji.js":function(Ne,Te,pe){var we;!(we=function(ve,Ce,ne){pe("../../packages/mmbizweb-web2-common/edit_css/widget/emoji.css");var U='<span class="emoji emoji%s"></span>';var L=pe("../../packages/mmbizweb-web2-common/biz_common/utils/emoji_data.js");var O='<img class="icon_emotion_single %s" src="/mpres/zh_CN/htmledition/comm_htmledition/images/pic/common/pic_blank.gif"></img>';var g={"\u2600":"2600","\u2601":"2601","\u2614":"2614","\u26C4":"26c4","\u26A1":"26a1","\u{1F300}":"1f300","\u{1F301}":"1f301","\u{1F302}":"1f302","\u{1F303}":"1f303","\u{1F304}":"1f304","\u{1F305}":"1f305","\u{1F306}":"1f306","\u{1F307}":"1f307","\u{1F308}":"1f308","\u2744":"2744","\u26C5":"26c5","\u{1F309}":"1f309","\u{1F30A}":"1f30a","\u{1F30B}":"1f30b","\u{1F30C}":"1f30c","\u{1F30F}":"1f30f","\u{1F311}":"1f311","\u{1F314}":"1f314","\u{1F313}":"1f313","\u{1F319}":"1f319","\u{1F315}":"1f315","\u{1F31B}":"1f31b","\u{1F31F}":"1f31f","\u{1F320}":"1f320","\u{1F550}":"1f550","\u{1F551}":"1f551","\u{1F552}":"1f552","\u{1F553}":"1f553","\u{1F554}":"1f554","\u{1F555}":"1f555","\u{1F556}":"1f556","\u{1F557}":"1f557","\u{1F558}":"1f558","\u{1F559}":"1f559","\u{1F55A}":"1f55a","\u{1F55B}":"1f55b","\u231A":"231a","\u231B":"231b","\u23F0":"23f0","\u23F3":"23f3","\u2648":"2648","\u2649":"2649","\u264A":"264a","\u264B":"264b","\u264C":"264c","\u264D":"264d","\u264E":"264e","\u264F":"264f","\u2650":"2650","\u2651":"2651","\u2652":"2652","\u2653":"2653","\u26CE":"26ce","\u{1F340}":"1f340","\u{1F337}":"1f337","\u{1F331}":"1f331","\u{1F341}":"1f341","\u{1F338}":"1f338","\u{1F339}":"1f339","\u{1F342}":"1f342","\u{1F343}":"1f343","\u{1F33A}":"1f33a","\u{1F33B}":"1f33b","\u{1F334}":"1f334","\u{1F335}":"1f335","\u{1F33E}":"1f33e","\u{1F33D}":"1f33d","\u{1F344}":"1f344","\u{1F330}":"1f330","\u{1F33C}":"1f33c","\u{1F33F}":"1f33f","\u{1F352}":"1f352","\u{1F34C}":"1f34c","\u{1F34E}":"1f34e","\u{1F34A}":"1f34a","\u{1F353}":"1f353","\u{1F349}":"1f349","\u{1F345}":"1f345","\u{1F346}":"1f346","\u{1F348}":"1f348","\u{1F34D}":"1f34d","\u{1F347}":"1f347","\u{1F351}":"1f351","\u{1F34F}":"1f34f","\u{1F440}":"1f440","\u{1F442}":"1f442","\u{1F443}":"1f443","\u{1F444}":"1f444","\u{1F445}":"1f445","\u{1F484}":"1f484","\u{1F485}":"1f485","\u{1F486}":"1f486","\u{1F487}":"1f487","\u{1F488}":"1f488","\u{1F464}":"1f464","\u{1F466}":"1f466","\u{1F467}":"1f467","\u{1F468}":"1f468","\u{1F469}":"1f469","\u{1F46A}":"1f46a","\u{1F46B}":"1f46b","\u{1F46E}":"1f46e","\u{1F46F}":"1f46f","\u{1F470}":"1f470","\u{1F471}":"1f471","\u{1F472}":"1f472","\u{1F473}":"1f473","\u{1F474}":"1f474","\u{1F475}":"1f475","\u{1F476}":"1f476","\u{1F477}":"1f477","\u{1F478}":"1f478","\u{1F479}":"1f479","\u{1F47A}":"1f47a","\u{1F47B}":"1f47b","\u{1F47C}":"1f47c","\u{1F47D}":"1f47d","\u{1F47E}":"1f47e","\u{1F47F}":"1f47f","\u{1F480}":"1f480","\u{1F481}":"1f481","\u{1F482}":"1f482","\u{1F483}":"1f483","\u{1F40C}":"1f40c","\u{1F40D}":"1f40d","\u{1F40E}":"1f40e","\u{1F414}":"1f414","\u{1F417}":"1f417","\u{1F42B}":"1f42b","\u{1F418}":"1f418","\u{1F428}":"1f428","\u{1F412}":"1f412","\u{1F411}":"1f411","\u{1F419}":"1f419","\u{1F41A}":"1f41a","\u{1F41B}":"1f41b","\u{1F41C}":"1f41c","\u{1F41D}":"1f41d","\u{1F41E}":"1f41e","\u{1F420}":"1f420","\u{1F421}":"1f421","\u{1F422}":"1f422","\u{1F424}":"1f424","\u{1F425}":"1f425","\u{1F426}":"1f426","\u{1F423}":"1f423","\u{1F427}":"1f427","\u{1F429}":"1f429","\u{1F41F}":"1f41f","\u{1F42C}":"1f42c","\u{1F42D}":"1f42d","\u{1F42F}":"1f42f","\u{1F431}":"1f431","\u{1F433}":"1f433","\u{1F434}":"1f434","\u{1F435}":"1f435","\u{1F436}":"1f436","\u{1F437}":"1f437","\u{1F43B}":"1f43b","\u{1F439}":"1f439","\u{1F43A}":"1f43a","\u{1F42E}":"1f42e","\u{1F430}":"1f430","\u{1F438}":"1f438","\u{1F43E}":"1f43e","\u{1F432}":"1f432","\u{1F43C}":"1f43c","\u{1F43D}":"1f43d","\u{1F620}":"1f620","\u{1F629}":"1f629","\u{1F632}":"1f632","\u{1F61E}":"1f61e","\u{1F635}":"1f635","\u{1F630}":"1f630","\u{1F612}":"1f612","\u{1F60D}":"1f60d","\u{1F624}":"1f624","\u{1F61C}":"1f61c","\u{1F61D}":"1f61d","\u{1F60B}":"1f60b","\u{1F618}":"1f618","\u{1F61A}":"1f61a","\u{1F637}":"1f637","\u{1F633}":"1f633","\u{1F603}":"1f603","\u{1F605}":"1f605","\u{1F606}":"1f606","\u{1F601}":"1f601","\u{1F602}":"1f602","\u{1F60A}":"1f60a","\u263A":"263a","\u{1F604}":"1f604","\u{1F622}":"1f622","\u{1F62D}":"1f62d","\u{1F628}":"1f628","\u{1F623}":"1f623","\u{1F621}":"1f621","\u{1F60C}":"1f60c","\u{1F616}":"1f616","\u{1F614}":"1f614","\u{1F631}":"1f631","\u{1F62A}":"1f62a","\u{1F60F}":"1f60f","\u{1F613}":"1f613","\u{1F625}":"1f625","\u{1F62B}":"1f62b","\u{1F609}":"1f609","\u{1F63A}":"1f63a","\u{1F638}":"1f638","\u{1F639}":"1f639","\u{1F63D}":"1f63d","\u{1F63B}":"1f63b","\u{1F63F}":"1f63f","\u{1F63E}":"1f63e","\u{1F63C}":"1f63c","\u{1F640}":"1f640","\u{1F645}":"1f645","\u{1F646}":"1f646","\u{1F647}":"1f647","\u{1F648}":"1f648","\u{1F64A}":"1f64a","\u{1F649}":"1f649","\u{1F64B}":"1f64b","\u{1F64C}":"1f64c","\u{1F64D}":"1f64d","\u{1F64E}":"1f64e","\u{1F64F}":"1f64f","\u{1F3E0}":"1f3e0","\u{1F3E1}":"1f3e1","\u{1F3E2}":"1f3e2","\u{1F3E3}":"1f3e3","\u{1F3E5}":"1f3e5","\u{1F3E6}":"1f3e6","\u{1F3E7}":"1f3e7","\u{1F3E8}":"1f3e8","\u{1F3E9}":"1f3e9","\u{1F3EA}":"1f3ea","\u{1F3EB}":"1f3eb","\u26EA":"26ea","\u26F2":"26f2","\u{1F3EC}":"1f3ec","\u{1F3EF}":"1f3ef","\u{1F3F0}":"1f3f0","\u{1F3ED}":"1f3ed","\u2693":"2693","\u{1F3EE}":"1f3ee","\u{1F5FB}":"1f5fb","\u{1F5FC}":"1f5fc","\u{1F5FD}":"1f5fd","\u{1F5FE}":"1f5fe","\u{1F5FF}":"1f5ff","\u{1F45E}":"1f45e","\u{1F45F}":"1f45f","\u{1F460}":"1f460","\u{1F461}":"1f461","\u{1F462}":"1f462","\u{1F463}":"1f463","\u{1F453}":"1f453","\u{1F455}":"1f455","\u{1F456}":"1f456","\u{1F451}":"1f451","\u{1F454}":"1f454","\u{1F452}":"1f452","\u{1F457}":"1f457","\u{1F458}":"1f458","\u{1F459}":"1f459","\u{1F45A}":"1f45a","\u{1F45B}":"1f45b","\u{1F45C}":"1f45c","\u{1F45D}":"1f45d","\u{1F4B0}":"1f4b0","\u{1F4B1}":"1f4b1","\u{1F4B9}":"1f4b9","\u{1F4B2}":"1f4b2","\u{1F4B3}":"1f4b3","\u{1F4B4}":"1f4b4","\u{1F4B5}":"1f4b5","\u{1F4B8}":"1f4b8","\u{1F1E8}\u{1F1F3}":"1f1e81f1f3","\u{1F1E9}\u{1F1EA}":"1f1e91f1ea","\u{1F1EA}\u{1F1F8}":"1f1ea1f1f8","\u{1F1EB}\u{1F1F7}":"1f1eb1f1f7","\u{1F1EC}\u{1F1E7}":"1f1ec1f1e7","\u{1F1EE}\u{1F1F9}":"1f1ee1f1f9","\u{1F1EF}\u{1F1F5}":"1f1ef1f1f5","\u{1F1F0}\u{1F1F7}":"1f1f01f1f7","\u{1F1F7}\u{1F1FA}":"1f1f71f1fa","\u{1F1FA}\u{1F1F8}":"1f1fa1f1f8","\u{1F525}":"1f525","\u{1F526}":"1f526","\u{1F527}":"1f527","\u{1F528}":"1f528","\u{1F529}":"1f529","\u{1F52A}":"1f52a","\u{1F52B}":"1f52b","\u{1F52E}":"1f52e","\u{1F52F}":"1f52f","\u{1F530}":"1f530","\u{1F531}":"1f531","\u{1F489}":"1f489","\u{1F48A}":"1f48a","\u{1F170}":"1f170","\u{1F171}":"1f171","\u{1F18E}":"1f18e","\u{1F17E}":"1f17e","\u{1F380}":"1f380","\u{1F381}":"1f381","\u{1F382}":"1f382","\u{1F384}":"1f384","\u{1F385}":"1f385","\u{1F38C}":"1f38c","\u{1F386}":"1f386","\u{1F388}":"1f388","\u{1F389}":"1f389","\u{1F38D}":"1f38d","\u{1F38E}":"1f38e","\u{1F393}":"1f393","\u{1F392}":"1f392","\u{1F38F}":"1f38f","\u{1F387}":"1f387","\u{1F390}":"1f390","\u{1F383}":"1f383","\u{1F38A}":"1f38a","\u{1F38B}":"1f38b","\u{1F391}":"1f391","\u{1F4DF}":"1f4df","\u260E":"260e","\u{1F4DE}":"1f4de","\u{1F4F1}":"1f4f1","\u{1F4F2}":"1f4f2","\u{1F4DD}":"1f4dd","\u{1F4E0}":"1f4e0","\u2709":"2709","\u{1F4E8}":"1f4e8","\u{1F4E9}":"1f4e9","\u{1F4EA}":"1f4ea","\u{1F4EB}":"1f4eb","\u{1F4EE}":"1f4ee","\u{1F4F0}":"1f4f0","\u{1F4E2}":"1f4e2","\u{1F4E3}":"1f4e3","\u{1F4E1}":"1f4e1","\u{1F4E4}":"1f4e4","\u{1F4E5}":"1f4e5","\u{1F4E6}":"1f4e6","\u{1F4E7}":"1f4e7","\u{1F520}":"1f520","\u{1F521}":"1f521","\u{1F522}":"1f522","\u{1F523}":"1f523","\u{1F524}":"1f524","\u2712":"2712","\u{1F4BA}":"1f4ba","\u{1F4BB}":"1f4bb","\u270F":"270f","\u{1F4CE}":"1f4ce","\u{1F4BC}":"1f4bc","\u{1F4BD}":"1f4bd","\u{1F4BE}":"1f4be","\u{1F4BF}":"1f4bf","\u{1F4C0}":"1f4c0","\u2702":"2702","\u{1F4CD}":"1f4cd","\u{1F4C3}":"1f4c3","\u{1F4C4}":"1f4c4","\u{1F4C5}":"1f4c5","\u{1F4C1}":"1f4c1","\u{1F4C2}":"1f4c2","\u{1F4D3}":"1f4d3","\u{1F4D6}":"1f4d6","\u{1F4D4}":"1f4d4","\u{1F4D5}":"1f4d5","\u{1F4D7}":"1f4d7","\u{1F4D8}":"1f4d8","\u{1F4D9}":"1f4d9","\u{1F4DA}":"1f4da","\u{1F4DB}":"1f4db","\u{1F4DC}":"1f4dc","\u{1F4CB}":"1f4cb","\u{1F4C6}":"1f4c6","\u{1F4CA}":"1f4ca","\u{1F4C8}":"1f4c8","\u{1F4C9}":"1f4c9","\u{1F4C7}":"1f4c7","\u{1F4CC}":"1f4cc","\u{1F4D2}":"1f4d2","\u{1F4CF}":"1f4cf","\u{1F4D0}":"1f4d0","\u{1F4D1}":"1f4d1","\u{1F3BD}":"1f3bd","\u26BE":"26be","\u26F3":"26f3","\u{1F3BE}":"1f3be","\u26BD":"26bd","\u{1F3BF}":"1f3bf","\u{1F3C0}":"1f3c0","\u{1F3C1}":"1f3c1","\u{1F3C2}":"1f3c2","\u{1F3C3}":"1f3c3","\u{1F3C4}":"1f3c4","\u{1F3C6}":"1f3c6","\u{1F3C8}":"1f3c8","\u{1F3CA}":"1f3ca","\u{1F683}":"1f683","\u{1F687}":"1f687","\u24C2":"24c2","\u{1F684}":"1f684","\u{1F685}":"1f685","\u{1F697}":"1f697","\u{1F699}":"1f699","\u{1F68C}":"1f68c","\u{1F68F}":"1f68f","\u{1F6A2}":"1f6a2","\u2708":"2708","\u26F5":"26f5","\u{1F689}":"1f689","\u{1F680}":"1f680","\u{1F6A4}":"1f6a4","\u{1F695}":"1f695","\u{1F69A}":"1f69a","\u{1F692}":"1f692","\u{1F691}":"1f691","\u{1F693}":"1f693","\u26FD":"26fd","\u{1F17F}":"1f17f","\u{1F6A5}":"1f6a5","\u{1F6A7}":"1f6a7","\u{1F6A8}":"1f6a8","\u2668":"2668","\u26FA":"26fa","\u{1F3A0}":"1f3a0","\u{1F3A1}":"1f3a1","\u{1F3A2}":"1f3a2","\u{1F3A3}":"1f3a3","\u{1F3A4}":"1f3a4","\u{1F3A5}":"1f3a5","\u{1F3A6}":"1f3a6","\u{1F3A7}":"1f3a7","\u{1F3A8}":"1f3a8","\u{1F3A9}":"1f3a9","\u{1F3AA}":"1f3aa","\u{1F3AB}":"1f3ab","\u{1F3AC}":"1f3ac","\u{1F3AD}":"1f3ad","\u{1F3AE}":"1f3ae","\u{1F004}":"1f004","\u{1F3AF}":"1f3af","\u{1F3B0}":"1f3b0","\u{1F3B1}":"1f3b1","\u{1F3B2}":"1f3b2","\u{1F3B3}":"1f3b3","\u{1F3B4}":"1f3b4","\u{1F0CF}":"1f0cf","\u{1F3B5}":"1f3b5","\u{1F3B6}":"1f3b6","\u{1F3B7}":"1f3b7","\u{1F3B8}":"1f3b8","\u{1F3B9}":"1f3b9","\u{1F3BA}":"1f3ba","\u{1F3BB}":"1f3bb","\u{1F3BC}":"1f3bc","\u303D":"303d","\u{1F4F7}":"1f4f7","\u{1F4F9}":"1f4f9","\u{1F4FA}":"1f4fa","\u{1F4FB}":"1f4fb","\u{1F4FC}":"1f4fc","\u{1F48B}":"1f48b","\u{1F48C}":"1f48c","\u{1F48D}":"1f48d","\u{1F48E}":"1f48e","\u{1F48F}":"1f48f","\u{1F490}":"1f490","\u{1F491}":"1f491","\u{1F492}":"1f492","\u{1F51E}":"1f51e","\xA9":"a9","\xAE":"ae","\u2122":"2122","\u2139":"2139","#\u20E3":"2320e3","1\u20E3":"3120e3","2\u20E3":"3220e3","3\u20E3":"3320e3","4\u20E3":"3420e3","5\u20E3":"3520e3","6\u20E3":"3620e3","7\u20E3":"3720e3","8\u20E3":"3820e3","9\u20E3":"3920e3","0\u20E3":"3020e3","\u{1F51F}":"1f51f","\u{1F4F6}":"1f4f6","\u{1F4F3}":"1f4f3","\u{1F4F4}":"1f4f4","\u{1F354}":"1f354","\u{1F359}":"1f359","\u{1F370}":"1f370","\u{1F35C}":"1f35c","\u{1F35E}":"1f35e","\u{1F373}":"1f373","\u{1F366}":"1f366","\u{1F35F}":"1f35f","\u{1F361}":"1f361","\u{1F358}":"1f358","\u{1F35A}":"1f35a","\u{1F35D}":"1f35d","\u{1F35B}":"1f35b","\u{1F362}":"1f362","\u{1F363}":"1f363","\u{1F371}":"1f371","\u{1F372}":"1f372","\u{1F367}":"1f367","\u{1F356}":"1f356","\u{1F365}":"1f365","\u{1F360}":"1f360","\u{1F355}":"1f355","\u{1F357}":"1f357","\u{1F368}":"1f368","\u{1F369}":"1f369","\u{1F36A}":"1f36a","\u{1F36B}":"1f36b","\u{1F36C}":"1f36c","\u{1F36D}":"1f36d","\u{1F36E}":"1f36e","\u{1F36F}":"1f36f","\u{1F364}":"1f364","\u{1F374}":"1f374","\u2615":"2615","\u{1F378}":"1f378","\u{1F37A}":"1f37a","\u{1F375}":"1f375","\u{1F376}":"1f376","\u{1F377}":"1f377","\u{1F37B}":"1f37b","\u{1F379}":"1f379","\u2197":"2197","\u2198":"2198","\u2196":"2196","\u2199":"2199","\u2934":"2934","\u2935":"2935","\u2194":"2194","\u2195":"2195","\u2B06":"2b06","\u2B07":"2b07","\u27A1":"27a1","\u2B05":"2b05","\u25B6":"25b6","\u25C0":"25c0","\u23E9":"23e9","\u23EA":"23ea","\u23EB":"23eb","\u23EC":"23ec","\u{1F53A}":"1f53a","\u{1F53B}":"1f53b","\u{1F53C}":"1f53c","\u{1F53D}":"1f53d","\u2B55":"2b55","\u274C":"274c","\u274E":"274e","\u2757":"2757","\u2049":"2049","\u203C":"203c","\u2753":"2753","\u2754":"2754","\u2755":"2755","\u3030":"3030","\u27B0":"27b0","\u27BF":"27bf","\u2764":"2764","\u{1F493}":"1f493","\u{1F494}":"1f494","\u{1F495}":"1f495","\u{1F496}":"1f496","\u{1F497}":"1f497","\u{1F498}":"1f498","\u{1F499}":"1f499","\u{1F49A}":"1f49a","\u{1F49B}":"1f49b","\u{1F49C}":"1f49c","\u{1F49D}":"1f49d","\u{1F49E}":"1f49e","\u{1F49F}":"1f49f","\u2665":"2665","\u2660":"2660","\u2666":"2666","\u2663":"2663","\u{1F6AC}":"1f6ac","\u{1F6AD}":"1f6ad","\u267F":"267f","\u{1F6A9}":"1f6a9","\u26A0":"26a0","\u26D4":"26d4","\u267B":"267b","\u{1F6B2}":"1f6b2","\u{1F6B6}":"1f6b6","\u{1F6B9}":"1f6b9","\u{1F6BA}":"1f6ba","\u{1F6C0}":"1f6c0","\u{1F6BB}":"1f6bb","\u{1F6BD}":"1f6bd","\u{1F6BE}":"1f6be","\u{1F6BC}":"1f6bc","\u{1F6AA}":"1f6aa","\u{1F6AB}":"1f6ab","\u2714":"2714","\u{1F191}":"1f191","\u{1F192}":"1f192","\u{1F193}":"1f193","\u{1F194}":"1f194","\u{1F195}":"1f195","\u{1F196}":"1f196","\u{1F197}":"1f197","\u{1F198}":"1f198","\u{1F199}":"1f199","\u{1F19A}":"1f19a","\u{1F201}":"1f201","\u{1F202}":"1f202","\u{1F232}":"1f232","\u{1F233}":"1f233","\u{1F234}":"1f234","\u{1F235}":"1f235","\u{1F236}":"1f236","\u{1F21A}":"1f21a","\u{1F237}":"1f237","\u{1F238}":"1f238","\u{1F239}":"1f239","\u{1F22F}":"1f22f","\u{1F23A}":"1f23a","\u3299":"3299","\u3297":"3297","\u{1F250}":"1f250","\u{1F251}":"1f251","\u2795":"2795","\u2796":"2796","\u2716":"2716","\u2797":"2797","\u{1F4A0}":"1f4a0","\u{1F4A1}":"1f4a1","\u{1F4A2}":"1f4a2","\u{1F4A3}":"1f4a3","\u{1F4A4}":"1f4a4","\u{1F4A5}":"1f4a5","\u{1F4A6}":"1f4a6","\u{1F4A7}":"1f4a7","\u{1F4A8}":"1f4a8","\u{1F4A9}":"1f4a9","\u{1F4AA}":"1f4aa","\u{1F4AB}":"1f4ab","\u{1F4AC}":"1f4ac","\u2728":"2728","\u2734":"2734","\u2733":"2733","\u26AA":"26aa","\u26AB":"26ab","\u{1F534}":"1f534","\u{1F535}":"1f535","\u{1F532}":"1f532","\u{1F533}":"1f533","\u2B50":"2b50","\u2B1C":"2b1c","\u2B1B":"2b1b","\u25AB":"25ab","\u25AA":"25aa","\u25FD":"25fd","\u25FE":"25fe","\u25FB":"25fb","\u25FC":"25fc","\u{1F536}":"1f536","\u{1F537}":"1f537","\u{1F538}":"1f538","\u{1F539}":"1f539","\u2747":"2747","\u{1F4AE}":"1f4ae","\u{1F4AF}":"1f4af","\u21A9":"21a9","\u21AA":"21aa","\u{1F503}":"1f503","\u{1F50A}":"1f50a","\u{1F50B}":"1f50b","\u{1F50C}":"1f50c","\u{1F50D}":"1f50d","\u{1F50E}":"1f50e","\u{1F512}":"1f512","\u{1F513}":"1f513","\u{1F50F}":"1f50f","\u{1F510}":"1f510","\u{1F511}":"1f511","\u{1F514}":"1f514","\u2611":"2611","\u{1F518}":"1f518","\u{1F516}":"1f516","\u{1F517}":"1f517","\u{1F519}":"1f519","\u{1F51A}":"1f51a","\u{1F51B}":"1f51b","\u{1F51C}":"1f51c","\u{1F51D}":"1f51d","\u2003":"2003","\u2002":"2002","\u2005":"2005","\u2705":"2705","\u270A":"270a","\u270B":"270b","\u270C":"270c","\u{1F44A}":"1f44a","\u{1F44D}":"1f44d","\u261D":"261d","\u{1F446}":"1f446","\u{1F447}":"1f447","\u{1F448}":"1f448","\u{1F449}":"1f449","\u{1F44B}":"1f44b","\u{1F44F}":"1f44f","\u{1F44C}":"1f44c","\u{1F44E}":"1f44e","\u{1F450}":"1f450","\uE04A":"2600","\uE049":"2601","\uE04B":"2614","\uE048":"26c4","\uE13D":"26a1","\uE443":"1f300","[\u9727]":"1f301","\uE43C":"1f302","\uE44B":"1f30c","\uE04D":"1f304","\uE449":"1f305","\uE146":"1f306","\uE44A":"1f307","\uE44C":"1f308","[\u96EA\u7D50\u6676]":"2744","\uE04A\uE049":"26c5","\uE43E":"1f30a","[\u706B\u5C71]":"1f30b","[\u5730\u7403]":"1f30f","\u25CF":"1f311","\uE04C":"1f31b","\u25CB":"1f315","\uE335":"1f31f","\u2606\u5F61":"1f320","\uE024":"1f550","\uE025":"1f551","\uE026":"1f552","\uE027":"1f553","\uE028":"1f554","\uE029":"1f555","\uE02A":"1f556","\uE02B":"1f557","\uE02C":"1f558","\uE02D":"23f0","\uE02E":"1f55a","\uE02F":"1f55b","[\u8155\u6642\u8A08]":"231a","[\u7802\u6642\u8A08]":"23f3","\uE23F":"2648","\uE240":"2649","\uE241":"264a","\uE242":"264b","\uE243":"264c","\uE244":"264d","\uE245":"264e","\uE246":"264f","\uE247":"2650","\uE248":"2651","\uE249":"2652","\uE24A":"2653","\uE24B":"26ce","\uE110":"1f33f","\uE304":"1f337","\uE118":"1f341","\uE030":"1f338","\uE032":"1f339","\uE119":"1f342","\uE447":"1f343","\uE303":"1f33a","\uE305":"1f33c","\uE307":"1f334","\uE308":"1f335","\uE444":"1f33e","[\u3068\u3046\u3082\u308D\u3053\u3057]":"1f33d","[\u30AD\u30CE\u30B3]":"1f344","[\u6817]":"1f330","[\u3055\u304F\u3089\u3093\u307C]":"1f352","[\u30D0\u30CA\u30CA]":"1f34c","\uE345":"1f34f","\uE346":"1f34a","\uE347":"1f353","\uE348":"1f349","\uE349":"1f345","\uE34A":"1f346","[\u30E1\u30ED\u30F3]":"1f348","[\u30D1\u30A4\u30CA\u30C3\u30D7\u30EB]":"1f34d","[\u30D6\u30C9\u30A6]":"1f347","[\u30E2\u30E2]":"1f351","\uE419":"1f440","\uE41B":"1f442","\uE41A":"1f443","\uE41C":"1f444","\uE409":"1f61d","\uE31C":"1f484","\uE31D":"1f485","\uE31E":"1f486","\uE31F":"1f487","\uE320":"1f488","\u3013":"2005","\uE001":"1f466","\uE002":"1f467","\uE004":"1f468","\uE005":"1f469","[\u5BB6\u65CF]":"1f46a","\uE428":"1f46b","\uE152":"1f46e","\uE429":"1f46f","[\u82B1\u5AC1]":"1f470","\uE515":"1f471","\uE516":"1f472","\uE517":"1f473","\uE518":"1f474","\uE519":"1f475","\uE51A":"1f476","\uE51B":"1f477","\uE51C":"1f478","[\u306A\u307E\u306F\u3052]":"1f479","[\u5929\u72D7]":"1f47a","\uE11B":"1f47b","\uE04E":"1f47c","\uE10C":"1f47d","\uE12B":"1f47e","\uE11A":"1f47f","\uE11C":"1f480","\uE253":"1f481","\uE51E":"1f482","\uE51F":"1f483","[\u30AB\u30BF\u30C4\u30E0\u30EA]":"1f40c","\uE52D":"1f40d","\uE134":"1f40e","\uE52E":"1f414","\uE52F":"1f417","\uE530":"1f42b","\uE526":"1f418","\uE527":"1f428","\uE528":"1f412","\uE529":"1f411","\uE10A":"1f419","\uE441":"1f41a","\uE525":"1f41b","[\u30A2\u30EA]":"1f41c","[\u30DF\u30C4\u30D0\u30C1]":"1f41d","[\u3066\u3093\u3068\u3046\u866B]":"1f41e","\uE522":"1f420","\uE019":"1f3a3","[\u30AB\u30E1]":"1f422","\uE523":"1f423","\uE521":"1f426","\uE055":"1f427","\uE052":"1f436","\uE520":"1f42c","\uE053":"1f42d","\uE050":"1f42f","\uE04F":"1f431","\uE054":"1f433","\uE01A":"1f434","\uE109":"1f435","\uE10B":"1f43d","\uE051":"1f43b","\uE524":"1f439","\uE52A":"1f43a","\uE52B":"1f42e","\uE52C":"1f430","\uE531":"1f438","\uE536":"1f463","[\u8FB0]":"1f432","[\u30D1\u30F3\u30C0]":"1f43c","\uE059":"1f620","\uE403":"1f64d","\uE410":"1f632","\uE058":"1f61e","\uE406":"1f62b","\uE40F":"1f630","\uE40E":"1f612","\uE106":"1f63b","\uE404":"1f63c","\uE105":"1f61c","\uE056":"1f60a","\uE418":"1f63d","\uE417":"1f61a","\uE40C":"1f637","\uE40D":"1f633","\uE057":"1f63a","\uE415\uE331":"1f605","\uE40A":"1f60c","\uE412":"1f639","\uE414":"263a","\uE415":"1f604","\uE413":"1f63f","\uE411":"1f62d","\uE40B":"1f628","\uE416":"1f64e","\uE407":"1f4ab","\uE107":"1f631","\uE408":"1f62a","\uE402":"1f60f","\uE108":"1f613","\uE401":"1f625","\uE405":"1f609","\uE423":"1f645","\uE424":"1f646","\uE426":"1f647","(/_\uFF3C)":"1f648","(\u30FB\xD7\u30FB)":"1f64a","|(\u30FB\xD7\u30FB)|":"1f649","\uE012":"270b","\uE427":"1f64c","\uE41D":"1f64f","\uE036":"1f3e1","\uE038":"1f3e2","\uE153":"1f3e3","\uE155":"1f3e5","\uE14D":"1f3e6","\uE154":"1f3e7","\uE158":"1f3e8","\uE501":"1f3e9","\uE156":"1f3ea","\uE157":"1f3eb","\uE037":"26ea","\uE121":"26f2","\uE504":"1f3ec","\uE505":"1f3ef","\uE506":"1f3f0","\uE508":"1f3ed","\uE202":"1f6a2","\uE30B":"1f376","\uE03B":"1f5fb","\uE509":"1f5fc","\uE51D":"1f5fd","[\u65E5\u672C\u5730\u56F3]":"1f5fe","[\u30E2\u30A2\u30A4]":"1f5ff","\uE007":"1f45f","\uE13E":"1f460","\uE31A":"1f461","\uE31B":"1f462","[\u30E1\u30AC\u30CD]":"1f453","\uE006":"1f45a","[\u30B8\u30FC\u30F3\u30BA]":"1f456","\uE10E":"1f451","\uE302":"1f454","\uE318":"1f452","\uE319":"1f457","\uE321":"1f458","\uE322":"1f459","[\u8CA1\u5E03]":"1f45b","\uE323":"1f45c","[\u3075\u304F\u308D]":"1f45d","\uE12F":"1f4b5","\uE149":"1f4b1","\uE14A":"1f4c8","[\u30AB\u30FC\u30C9]":"1f4b3","\uFFE5":"1f4b4","[\u98DB\u3093\u3067\u3044\u304F\u304A\u91D1]":"1f4b8","\uE513":"1f1e81f1f3","\uE50E":"1f1e91f1ea","\uE511":"1f1ea1f1f8","\uE50D":"1f1eb1f1f7","\uE510":"1f1ec1f1e7","\uE50F":"1f1ee1f1f9","\uE50B":"1f1ef1f1f5","\uE514":"1f1f01f1f7","\uE512":"1f1f71f1fa","\uE50C":"1f1fa1f1f8","\uE11D":"1f525","[\u61D0\u4E2D\u96FB\u706F]":"1f526","[\u30EC\u30F3\u30C1]":"1f527","\uE116":"1f528","[\u30CD\u30B8]":"1f529","[\u5305\u4E01]":"1f52a","\uE113":"1f52b","\uE23E":"1f52f","\uE209":"1f530","\uE031":"1f531","\uE13B":"1f489","\uE30F":"1f48a","\uE532":"1f170","\uE533":"1f171","\uE534":"1f18e","\uE535":"1f17e","\uE314":"1f380","\uE112":"1f4e6","\uE34B":"1f382","\uE033":"1f384","\uE448":"1f385","\uE143":"1f38c","\uE117":"1f386","\uE310":"1f388","\uE312":"1f389","\uE436":"1f38d","\uE438":"1f38e","\uE439":"1f393","\uE43A":"1f392","\uE43B":"1f38f","\uE440":"1f387","\uE442":"1f390","\uE445":"1f383","[\u30AA\u30E1\u30C7\u30C8\u30A6]":"1f38a","[\u4E03\u5915]":"1f38b","\uE446":"1f391","[\u30DD\u30B1\u30D9\u30EB]":"1f4df","\uE009":"1f4de","\uE00A":"1f4f1","\uE104":"1f4f2","\uE301":"1f4d1","\uE00B":"1f4e0","\uE103":"1f4e7","\uE101":"1f4eb","\uE102":"1f4ee","[\u65B0\u805E]":"1f4f0","\uE142":"1f4e2","\uE317":"1f4e3","\uE14B":"1f4e1","[\u9001\u4FE1BOX]":"1f4e4","[\u53D7\u4FE1BOX]":"1f4e5","[ABCD]":"1f520","[abcd]":"1f521","[1234]":"1f522","[\u8A18\u53F7]":"1f523","[ABC]":"1f524","[\u30DA\u30F3]":"2712","\uE11F":"1f4ba","\uE00C":"1f4bb","[\u30AF\u30EA\u30C3\u30D7]":"1f4ce","\uE11E":"1f4bc","\uE316":"1f4be","\uE126":"1f4bf","\uE127":"1f4c0","\uE313":"2702","[\u753B\u3073\u3087\u3046]":"1f4cc","[\u30AB\u30EC\u30F3\u30C0\u30FC]":"1f4c6","[\u30D5\u30A9\u30EB\u30C0]":"1f4c2","\uE148":"1f4d2","[\u540D\u672D]":"1f4db","[\u30B9\u30AF\u30ED\u30FC\u30EB]":"1f4dc","[\u30B0\u30E9\u30D5]":"1f4c9","[\u5B9A\u898F]":"1f4cf","[\u4E09\u89D2\u5B9A\u898F]":"1f4d0","\uE016":"26be","\uE014":"26f3","\uE015":"1f3be","\uE018":"26bd","\uE013":"1f3bf","\uE42A":"1f3c0","\uE132":"1f3c1","[\u30B9\u30CE\u30DC]":"1f3c2","\uE115":"1f3c3","\uE017":"1f3c4","\uE131":"1f3c6","\uE42B":"1f3c8","\uE42D":"1f3ca","\uE01E":"1f683","\uE434":"24c2","\uE435":"1f684","\uE01F":"1f685","\uE01B":"1f697","\uE42E":"1f699","\uE159":"1f68c","\uE150":"1f68f","\uE01D":"2708","\uE01C":"26f5","\uE039":"1f689","\uE10D":"1f680","\uE135":"1f6a4","\uE15A":"1f695","\uE42F":"1f69a","\uE430":"1f692","\uE431":"1f691","\uE432":"1f6a8","\uE03A":"26fd","\uE14F":"1f17f","\uE14E":"1f6a5","\uE137":"26d4","\uE123":"2668","\uE122":"26fa","\uE124":"1f3a1","\uE433":"1f3a2","\uE03C":"1f3a4","\uE03D":"1f4f9","\uE507":"1f3a6","\uE30A":"1f3a7","\uE502":"1f3a8","\uE503":"1f3ad","[\u30A4\u30D9\u30F3\u30C8]":"1f3aa","\uE125":"1f3ab","\uE324":"1f3ac","[\u30B2\u30FC\u30E0]":"1f3ae","\uE12D":"1f004","\uE130":"1f3af","\uE133":"1f3b0","\uE42C":"1f3b1","[\u30B5\u30A4\u30B3\u30ED]":"1f3b2","[\u30DC\u30FC\u30EA\u30F3\u30B0]":"1f3b3","[\u82B1\u672D]":"1f3b4","[\u30B8\u30E7\u30FC\u30AB\u30FC]":"1f0cf","\uE03E":"1f3b5","\uE326":"1f3bc","\uE040":"1f3b7","\uE041":"1f3b8","[\u30D4\u30A2\u30CE]":"1f3b9","\uE042":"1f3ba","[\u30D0\u30A4\u30AA\u30EA\u30F3]":"1f3bb","\uE12C":"303d","\uE008":"1f4f7","\uE12A":"1f4fa","\uE128":"1f4fb","\uE129":"1f4fc","\uE003":"1f48b","\uE103\uE328":"1f48c","\uE034":"1f48d","\uE035":"1f48e","\uE111":"1f48f","\uE306":"1f490","\uE425":"1f491","\uE43D":"1f492","\uE207":"1f51e","\uE24E":"a9","\uE24F":"ae","\uE537":"2122","[\uFF49]":"2139","\uE210":"2320e3","\uE21C":"3120e3","\uE21D":"3220e3","\uE21E":"3320e3","\uE21F":"3420e3","\uE220":"3520e3","\uE221":"3620e3","\uE222":"3720e3","\uE223":"3820e3","\uE224":"3920e3","\uE225":"3020e3","[10]":"1f51f","\uE20B":"1f4f6","\uE250":"1f4f3","\uE251":"1f4f4","\uE120":"1f354","\uE342":"1f359","\uE046":"1f370","\uE340":"1f35c","\uE339":"1f35e","\uE147":"1f373","\uE33A":"1f366","\uE33B":"1f35f","\uE33C":"1f361","\uE33D":"1f358","\uE33E":"1f35a","\uE33F":"1f35d","\uE341":"1f35b","\uE343":"1f362","\uE344":"1f363","\uE34C":"1f371","\uE34D":"1f372","\uE43F":"1f367","[\u8089]":"1f356","[\u306A\u308B\u3068]":"1f365","[\u3084\u304D\u3044\u3082]":"1f360","[\u30D4\u30B6]":"1f355","[\u30C1\u30AD\u30F3]":"1f357","[\u30A2\u30A4\u30B9\u30AF\u30EA\u30FC\u30E0]":"1f368","[\u30C9\u30FC\u30CA\u30C4]":"1f369","[\u30AF\u30C3\u30AD\u30FC]":"1f36a","[\u30C1\u30E7\u30B3]":"1f36b","[\u30AD\u30E3\u30F3\u30C7\u30A3]":"1f36d","[\u30D7\u30EA\u30F3]":"1f36e","[\u30CF\u30C1\u30DF\u30C4]":"1f36f","[\u30A8\u30D3\u30D5\u30E9\u30A4]":"1f364","\uE043":"1f374","\uE045":"2615","\uE044":"1f379","\uE047":"1f37a","\uE338":"1f375","\uE30C":"1f37b","\uE236":"2934","\uE238":"2935","\uE237":"2196","\uE239":"2199","\u21D4":"2194","\u2191\u2193":"1f503","\uE232":"2b06","\uE233":"2b07","\uE234":"27a1","\uE235":"1f519","\uE23A":"25b6","\uE23B":"25c0","\uE23C":"23e9","\uE23D":"23ea","\u25B2":"1f53c","\u25BC":"1f53d","\uE332":"2b55","\uE333":"2716","\uE021":"2757","\uFF01\uFF1F":"2049","\uFF01\uFF01":"203c","\uE020":"2753","\uE336":"2754","\uE337":"2755","\uFF5E":"27b0","\uE211":"27bf","\uE022":"2764","\uE327":"1f49e","\uE023":"1f494","\uE328":"1f497","\uE329":"1f498","\uE32A":"1f499","\uE32B":"1f49a","\uE32C":"1f49b","\uE32D":"1f49c","\uE437":"1f49d","\uE204":"1f49f","\uE20C":"2665","\uE20E":"2660","\uE20D":"2666","\uE20F":"2663","\uE30E":"1f6ac","\uE208":"1f6ad","\uE20A":"267f","[\u65D7]":"1f6a9","\uE252":"26a0","\uE136":"1f6b2","\uE201":"1f6b6","\uE138":"1f6b9","\uE139":"1f6ba","\uE13F":"1f6c0","\uE151":"1f6bb","\uE140":"1f6bd","\uE309":"1f6be","\uE13A":"1f6bc","[\u30C9\u30A2]":"1f6aa","[\u7981\u6B62]":"1f6ab","[\u30C1\u30A7\u30C3\u30AF\u30DE\u30FC\u30AF]":"2705","[CL]":"1f191","\uE214":"1f192","[FREE]":"1f193","\uE229":"1f194","\uE212":"1f195","[NG]":"1f196","\uE24D":"1f197","[SOS]":"1f198","\uE213":"1f199","\uE12E":"1f19a","\uE203":"1f201","\uE228":"1f202","[\u7981]":"1f232","\uE22B":"1f233","[\u5408]":"1f234","\uE22A":"1f235","\uE215":"1f236","\uE216":"1f21a","\uE217":"1f237","\uE218":"1f238","\uE227":"1f239","\uE22C":"1f22f","\uE22D":"1f23a","\uE315":"3299","\uE30D":"3297","\uE226":"1f250","[\u53EF]":"1f251","[\uFF0B]":"2795","[\uFF0D]":"2796","[\xF7]":"2797","\uE10F":"1f4a1","\uE334":"1f4a2","\uE311":"1f4a3","\uE13C":"1f4a4","[\u30C9\u30F3\u30C3]":"1f4a5","\uE331":"1f4a7","\uE330":"1f4a8","\uE05A":"1f4a9","\uE14C":"1f4aa","[\u30D5\u30AD\u30C0\u30B7]":"1f4ac","\uE32E":"2747","\uE205":"2734","\uE206":"2733","\uE219":"1f534","\uE21A":"25fc","\uE21B":"1f539","\uE32F":"2b50","[\u82B1\u4E38]":"1f4ae","[100\u70B9]":"1f4af","\u2190\u2518":"21a9","\u2514\u2192":"21aa","\uE141":"1f50a","[\u96FB\u6C60]":"1f50b","[\u30B3\u30F3\u30BB\u30F3\u30C8]":"1f50c","\uE114":"1f50e","\uE144":"1f510","\uE145":"1f513","\uE03F":"1f511","\uE325":"1f514","[\u30E9\u30B8\u30AA\u30DC\u30BF\u30F3]":"1f518","[\u30D6\u30C3\u30AF\u30DE\u30FC\u30AF]":"1f516","[\u30EA\u30F3\u30AF]":"1f517","[end]":"1f51a","[ON]":"1f51b","[SOON]":"1f51c","\uE24C":"1f51d","\uE010":"270a","\uE011":"270c","\uE00D":"1f44a","\uE00E":"1f44d","\uE00F":"261d","\uE22E":"1f446","\uE22F":"1f447","\uE230":"1f448","\uE231":"1f449","\uE41E":"1f44b","\uE41F":"1f44f","\uE420":"1f44c","\uE421":"1f44e","\uE422":"1f450"};String.prototype.emoji=function(){var _=this.toString();for(var D=0;D<L.length;D++){while(L[D].cn&&-1!=_.indexOf(L[D].cn)){_=_.replace(L[D].cn,O.sprintf(L[D].style))}while(L[D].hk&&-1!=_.indexOf(L[D].hk)){_=_.replace(L[D].hk,O.sprintf(L[D].style))}while(L[D].us&&-1!=_.indexOf(L[D].us)){_=_.replace(L[D].us,O.sprintf(L[D].style))}while(L[D].code&&-1!=_.indexOf(L[D].code)){_=_.replace(L[D].code,O.sprintf(L[D].style))}while(L[D].web_code&&-1!=_.indexOf(L[D].web_code)){_=_.replace(L[D].web_code,O.sprintf(L[D].style))}while(L[D].emoji&&-1!=_.indexOf(L[D].emoji)){_=_.replace(L[D].emoji,O.sprintf(L[D].style))}}for(var J in g){while(-1!=_.indexOf(J))_=_.replace(J,U.sprintf(g[J]))}return _}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/common/wx/richEditor/editorRange.js":function(Ne,Te,pe){var we;!(we=function(ve,Ce,ne){var U=function D(){return document.selection?document.selection:(window.getSelection||document.getSelection)()},L=function D(J,I,P){if(!P&&J===I){return false}if(J.compareDocumentPosition){var X=J.compareDocumentPosition(I);if(X==20||X==0){return true}}else{if(J.contains(I)){return true}}return false},O=function D(J,I){var P=I.commonAncestorContainer||I.parentElement&&I.parentElement()||null;if(P){return L(J,P,true)}return false},g=function D(J){var I=U();if(!I){return null}var P=I.getRangeAt?I.rangeCount?I.getRangeAt(0):null:I.createRange();if(!P){return null}if(J){if(O(J,P)){return P}else{return null}}else{return P}},_=function D(J){return J.parentElement?J.parentElement():J.commonAncestorContainer};ne.exports={getSelection:U,getRange:g,containsRange:O,parentContainer:_}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/common/wx/richEditor/emotionEditor.js":function(Ne,Te,pe){var we;!(we=function(ve,Ce,ne){pe("../../packages/mmbizweb-web2-common/biz_common/utils/string/html.js");var U=wx.T,L=pe("../../packages/mmbizweb-web2-common/edit_css/widget/emotion_editor.css"),O=pe("../../packages/mmbizweb-web2-common/tpl/richEditor/emotionEditor.html"),g=pe("../../packages/mmbizweb-web2-common/common/wx/richEditor/wysiwyg.js"),_=pe("../../packages/mmbizweb-web2-common/editor/common/mp_emotion.js"),D=pe("../../packages/mmbizweb-web2-common/editor/plugin/insert_sticker/stickerCommonStore.js");UndoManager=pe("../../packages/mmbizweb-web2-common/common/wx/richEditor/undoManager.js"),Upload=pe("../../packages/mmbizweb-web2-common/biz_web/utils/upload.js"),Tips=pe("../../packages/mmbizweb-web2-common/common/wx/Tips.js"),UploadCDN=Upload.uploadCdnFile,LineBreakTag="##__linebreaktag__##",LineBreakTagReg=new RegExp(LineBreakTag,"g"),Class=pe("../../packages/mmbizweb-web2-common/common/qq/Class.js"),EventBus=pe("../../packages/mmbizweb-web2-common/editor/common/eventbus.js"),PLACEHOLDER_STYLE="share-text__input_placeholder";var J=pe("../../packages/mmbizweb-web2-common/common/wx/richEditor/editorRange.js");var I={isHTML:true,wordlimit:500,hideUpload:true,hideEmotion:false,hideOprTips:false,editorTpl:O,editorTipsTpl:"",placeholder:"",showLinkAndWeapp:false,inlineToolBar:false,autoFocus:true};var P=1;function X(ee,M){var F=M;for(var Y in M)F[Y]=((M[Y]||"")+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return ee.format(F)}function te(ee,M){if(document.documentElement.clientWidth<1169){M.css({"left":ee.offset().left-ee.width()+4})}else{var F=$("#js_mp_sidemenu").width();M.css({"left":ee.offset().left-F+ee.width()/2})}}var Q=Class.declare({init:function ee(M,F){var Y=this;this.opt=$.extend(true,{},I,F);this.opt.formItemsOpt=F.formItemsOpt;F=this.opt;Y.selector$=M;F.gid=P++;Y.selector$.html(U(F.editorTpl,F));Y.emotion=new _((this.opt.$toolbar||M).find(".js_emotionArea"));Y.wysiwyg=new g(M.find(".js_editorArea"),{showLinkAndWeapp:Y.opt.showLinkAndWeapp,init:function z(){Y.updateWordLimitTips("")},textFilter:function z(R,N){R=Y.emotion.getEmotionText(R).replace(/\n/g,"").replace(/<br.*?>/ig,"\n").replace(/\n/g,LineBreakTag);if(Y.opt.showLinkAndWeapp){R=Y.filterContentWithLinkNWeapp(R)}else{R=R.replace(/<.*?>/g,"")}R=R.replace(LineBreakTagReg,"\n");if(!Y.opt.showLinkAndWeapp&&!N){R=R.html(false)}return R},nodeFilter:function z(R){var N="";if(R.nodeName.toUpperCase()==="IMG"){N=R}else if(Y.opt.showLinkAndWeapp&&R.nodeName.toUpperCase()==="A"){N=R}return N},change:function z(){var R=Y.getContentForTextPage();var N=R;if(Y.opt.showLinkAndWeapp){R=R.replace(/<(\/?)(?=((a(\s|>))|(\/a))).*?>/g,"");R=R.html(false)}var j=F.wordlimit-R.length,W=M.find(".js_editorArea"),H=M.find(".js_editorTip");if(W.attr("placeholder")){if(!N){W.addClass(PLACEHOLDER_STYLE)}else{W.removeClass(PLACEHOLDER_STYLE)}}Y.updateWordLimitTips();if(F.onChange&&typeof F.onChange=="function"){F.onChange(R)}}});if(!this.opt.hideUpload){Y.upload=UploadCDN({container:M.find(".js_upload"),type:2,multi:false,onComplete:function z(R,N,j,W,H){if(!W||!W.base_resp||W.base_resp.ret!=0){return}var w=W.content;Tips.suc("\u4E0A\u4F20\u6210\u529F");Y.wysiwyg.insertHTML(w)}})}if(this.opt.$toolbar){Y.undoManager=new UndoManager}Y._initEvent();Y.insertHTML(F.text);!F.autoFocus&&Y.blur()},_initEvent:function ee(){var M=this;var F=this,Y=$(".js_switch",this.opt.$toolbar||this.selector$),z=$(".js_editorArea",this.selector$),R=this.emotion,N=this.wysiwyg,j=window.UE&&window.UE.dom&&window.UE.dom.domUtils,W=$("#js_undo",this.opt.$toolbar||this.selector$),H=$("#js_redo",this.opt.$toolbar||this.selector$),w=$("#js_link",this.opt.$toolbar||this.selector$),T=$("#js_weapp",this.opt.$toolbar||this.selector$),k=$("#js_poi",this.opt.$toolbar||this.selector$),G=$("#js_unlink",this.opt.$toolbar||this.selector$),ce=$("#js_at",this.opt.$toolbar||this.selector$),se,ue;F.onToolHover(Y,"\u8868\u60C5");R.click(function(re){if(F.opt.hideEmotion)return false;N.insertHTML(R.getEmotionHTML(re));F.saveContent&&F.saveContent();D.setCommStore("smiley",{title:re.title,name:re.name,key:re.key});R.hide();return false});R.hide();Y.click(function(re){if(F.opt.hideEmotion)return false;if($(this).parents(".js_editor").hasClass("disabled")){return}te(Y,R.selector$);R.show()});$(document).on("click","*",function(re){if(F.opt.hideEmotion)return;var Ke=$(re.target),et=Ke.filter(".js_switch"),Re=Ke.filter(".js_emotion_i"),Oe=Ke.parents(".js_switch"),a=Ke.filter(".emotions_item");if(!et.length&&!Re.length&&!a.length&&!Oe.length){R.hide()}if(F.opt.showLinkAndWeapp){ue&&ue.hide()}if(re.target&&re.target.classList&&re.target.classList.contains("wx_at_link")){re.preventDefault()}});F.onToolHover(w,"\u8D85\u94FE\u63A5");w.click(function(){if(!M.opt.showLinkAndWeapp)return false;var re=M.wysiwyg.getSelectionRange();var Ke=re.startContainer;Ke=Ke.nodeType===1?Ke:Ke.parentNode;var et=z.find(re.startContainer).length>0||$(re.startContainer).hasClass("js_editorArea");var Re=z.find(re.endContainer).length>0||$(re.endContainer).hasClass("js_editorArea");if(!et||!Re){M.wysiwyg.focus();M.wysiwyg.setCursorToEnd();re=M.wysiwyg.getSelectionRange()}var Oe="";if(j&&(Oe=j.findParentByTagName(re.startContainer,"a",true))&&!j.isInNodeEndBoundary(re,Ke)){Oe=Oe.text}else{Oe=M.wysiwyg.getSelectionText()}EventBus.fireEvent("showLinkDialog",{type:["innerlink"],linkinfo:{title:Oe},supportType:["text"]},function(a){if(typeof a!=="undefined"){F.__insertLink(a,re);F.saveContent&&F.saveContent()}})});F.onToolHover(T,"\u5C0F\u7A0B\u5E8F");T.click(function(){if(!M.opt.showLinkAndWeapp)return false;var re=M.wysiwyg.getSelectionRange();var Ke=z.find(re.startContainer).length>0||$(re.startContainer).hasClass("js_editorArea");var et=z.find(re.endContainer).length>0||$(re.endContainer).hasClass("js_editorArea");if(!Ke||!et){M.wysiwyg.focus();M.wysiwyg.setCursorToEnd();re=M.wysiwyg.getSelectionRange()}var Re,Oe,a=false;if(j&&(Oe=j.findParentByTagName(re.startContainer,"a",true))&&Oe.getAttribute("data-miniprogram-appid")){Re={type:"text",service_type:Oe.getAttribute("data-miniprogram-servicetype")||"0",appid:Oe.getAttribute("data-miniprogram-appid"),path:Oe.getAttribute("data-miniprogram-path")||"",nickname:Oe.getAttribute("data-miniprogram-nickname")||"",applink:Oe.getAttribute("data-miniprogram-applink")||"",content:Oe.innerText||""};a=true}EventBus.fireEvent("showWeappDialog",{weappinfo:Re,type:["text"]},function(mt){if(typeof mt!=="undefined"){F.__insertWeapp(mt,re,a);F.saveContent&&F.saveContent()}})});F.onToolHover(k,"\u5730\u7406\u4F4D\u7F6E");k.click(function(){if(!M.opt.showLinkAndWeapp)return false;var re=M.wysiwyg.getSelectionRange();var Ke=z.find(re.startContainer).length>0||$(re.startContainer).hasClass("js_editorArea");var et=z.find(re.endContainer).length>0||$(re.endContainer).hasClass("js_editorArea");if(!Ke||!et){M.wysiwyg.focus();M.wysiwyg.setCursorToEnd();re=M.wysiwyg.getSelectionRange()}var Re,Oe,a=false;if(j&&(Oe=j.findParentByTagName(re.startContainer,"a",true))&&(Oe.getAttribute("data-poiid")||Oe.getAttribute("data-districtid"))){Re={id:Oe.getAttribute("data-id")||"",type:Oe.getAttribute("data-type")||"",poiid:Oe.getAttribute("data-poiid")||"",districtid:Oe.getAttribute("data-districtid")||"",name:decodeURIComponent(Oe.getAttribute("data-name")||""),address:decodeURIComponent(Oe.getAttribute("data-address")||""),longitude:Oe.getAttribute("data-longitude")||"",latitude:Oe.getAttribute("data-latitude")||"",img:decodeURIComponent(Oe.getAttribute("data-img")||""),content:Oe.innerText||"",province:Oe.getAttribute("data-province")||"",city:Oe.getAttribute("data-city")||""};a=true}if(!a&&document.querySelectorAll("a[data-poiid]").length>=50){Tips.err("\u6700\u591A\u63D2\u516550\u4E2A\u5730\u7406\u4F4D\u7F6E");return}EventBus.fireEvent("showPoiDialog",{poiData:Re||{},scene:"img-content"},function(mt){if(typeof mt!=="undefined"){F.__insertPoi(mt,re,a);F.saveContent&&F.saveContent()}})});F.onToolHover(ce,"\u63D0\u5230");var ye=this;var xe;EventBus.$on("saveSelectionRange",function(){xe=ye.wysiwyg.getSelectionRange()});EventBus.$on("insertAtUserName",function(re){if(typeof re!=="undefined"){var Ke=z.find(xe.startContainer).length>0||$(xe.startContainer).hasClass("js_editorArea");var et=z.find(xe.endContainer).length>0||$(xe.endContainer).hasClass("js_editorArea");if(!Ke||!et){ye.wysiwyg.focus();ye.wysiwyg.setCursorToEnd();xe=ye.wysiwyg.getSelectionRange()}F.__insertAt(re,xe);F.saveContent&&F.saveContent()}});if(this.opt.$toolbar){var Ae=function re(){if(!F.opt.showLinkAndWeapp)return false;if(se){if(se.data("miniprogramAppid")){T.click()}else if(se.data("poiid")){k.click()}else{w.click()}}};var le=function re(){if(!F.opt.showLinkAndWeapp)return false;if(se){$(document.createTextNode(se.text())).insertBefore(se);se.remove();ue&&ue.hide();G.find("#js_text_editor_tool_unlink").addClass("edui-state-disabled");F.saveContent()}};var Ge=function re(){var Ke=F.wysiwyg.getSelectionRange();var et=z.find(Ke.startContainer).length>0||$(Ke.startContainer).hasClass("js_editorArea");var Re=z.find(Ke.endContainer).length>0||$(Ke.endContainer).hasClass("js_editorArea");if(et&&Re&&j&&(se=j.findParentByTagName(Ke.startContainer,"a",true))){se=$(se);if(se.hasClass("js_mention_entry"))return;if(ue){ue.show();var Oe=ue.find("#js_link_place");var a="";if(se.data("miniprogramNickname")!=null){a=se.data("miniprogramNickname")}else if(se.data("poiid")!=null){a=se.text()}else{a=se.attr("href")}$(U('<a id="js_link_place" class="edui_mask_edit_meta" {if !isWeappOrPoi}target="_blank"{/if} href="{url}" {if !isWeappOrPoi}title="{url}"{/if}>{txt}</a>',{txt:a.substring(0,20)+(a.length>20?"...":""),url:se.attr("href"),isWeappOrPoi:se.data("miniprogramAppid")||se.data("poiid")})).insertBefore(Oe);Oe.remove();ue.find(".edui-popup").css("top",se.offset().top-ue.find(".edui-popup").height()).css("left",se.offset().left)}G.find("#js_text_editor_tool_unlink").removeClass("edui-state-disabled")}else{G.find("#js_text_editor_tool_unlink").addClass("edui-state-disabled")}};var We=function re(){if(F.undoManager.hasUndo){W.find("#js_text_editor_tool_undo").removeClass("edui-state-disabled")}else{W.find("#js_text_editor_tool_undo").addClass("edui-state-disabled")}if(F.undoManager.hasRedo){H.find("#js_text_editor_tool_redo").removeClass("edui-state-disabled")}else{H.find("#js_text_editor_tool_redo").addClass("edui-state-disabled")}};if(this.opt.editorLinkPopupTpl){ue=$(this.opt.editorLinkPopupTpl);ue.hide();ue.find(".js_text_editor_link_edit").click(Ae);ue.find(".js_text_editor_link_delete").click(le);$(document.body).append(ue)}F.saveContent=function(){F.undoManager.save(F.getContent());We()};var dt,at;$(document).on("selectionchange",function(){if(!F.opt.showLinkAndWeapp)return false;ue&&ue.hide();dt&&clearTimeout(dt);dt=setTimeout(Ge,300)});F.selector$.on("keyup",function(){at&&clearTimeout(at);at=setTimeout(function(){return F.saveContent()},300)});F.onToolHover(G,"\u53D6\u6D88\u8D85\u94FE\u63A5");G.click(le);F.onToolHover(W,"\u64A4\u9500");W.click(function(){if(F.undoManager.hasUndo){F.setContent(F.undoManager.undo());F.wysiwyg.setCursorToEnd()}We()});F.onToolHover(H,"\u91CD\u505A");H.click(function(){if(F.undoManager.hasRedo){F.setContent(F.undoManager.redo());F.wysiwyg.setCursorToEnd()}We()});F.undoManager.onUndump(function(){setTimeout(function(){return F.saveContent()});We()})}this.selector$.find(".js_editorArea").on("focus",function(){F.opt.ueditor&&F.opt.ueditor.disableToolbar();F.opt.onFocus&&F.opt.onFocus.call(F)}).on("click",function(){if(F.opt.formItemsOpt&&F.opt.formItemsOpt.guideWords.readonly&&!!F.opt.formItemsOpt.guideWords.readonlyTips){Tips.err(F.opt.formItemsOpt.guideWords.readonlyTips)}}).on("blur",function(){F.opt.onBlur&&F.opt.onBlur.call(F)});z.on("keydown",function(re){if(wx.isHotkey(re,"ctrl+s")||wx.isHotkey(re,"meta+s")){re.preventDefault();F.opt.ueditor.fireEvent("quicksave",false)}})},updateWordLimitTips:function ee(M){M=M!==void 0?M:this.getContent();var F=this.opt;var Y=this.selector$.find(".js_editorTip");if(F.showLinkAndWeapp){M=M.replace(/<a\s+\w[^>]*>([\s\S]*?)<\/a>/g,"$1")}var z=F.wordlimit-M.length;if(F.editorTipsTpl){Y.html(U(F.editorTipsTpl,{wordlimit:F.wordlimit,curCount:M.length}))}else{if(z<0){Y.html("\u5DF2\u8D85\u51FA<em{cls}>{l}</em>\u5B57".format({l:-z,cls:' class="warn"'}))}else{Y.html("\u8FD8\u53EF\u4EE5\u8F93\u5165<em>{l}</em>\u5B57".format({l:z}))}}},onToolHover:function ee(M,F){var Y=this;var z=$(document.body).find(".tooltip");if(!z.length){z=$(U(pe("../../packages/mmbizweb-web2-common/tpl/tooltip.html"),{content:""})).hide();$(document.body).append(z)}M.mouseenter(function(){if(!Y.opt.showLinkAndWeapp)return;if(!M.children(".edui-default").hasClass("edui-state-disabled")){M.children(".edui-default").addClass("edui-state-hover")}z.show();z.children(".tooltip_inner").text(F);z.css("top",M.offset().top-z.height()-6).css("left",M.offset().left-(z.width()-M.width())/2)});M.mouseleave(function(){if(!Y.opt.showLinkAndWeapp)return;M.children(".edui-default").removeClass("edui-state-hover");z.hide()})},setContent:function ee(M){M=M||"";if(!this.opt.showLinkAndWeapp){M=M.html(true)}M=this.opt.linebreak?M.replace(/\n/g,"<br>"):M;M=this.wysiwyg.emojiFormat(M);this.wysiwyg.setContent(M)},insertHTML:function ee(M){M=M||"";this.wysiwyg.insertHTML(M)},getContent:function ee(){var M=this.wysiwyg.getContent();M=typeof M=="string"?M.trim():"";return M},getContentForTextPage:function ee(){var M=this.wysiwyg.getContent(true);return M},getHTML:function ee(){var M=this.wysiwyg.getHTML().html(false);return typeof M=="string"?M.trim():""},focus:function ee(){this.wysiwyg.focus()},blur:function ee(){this.wysiwyg.blur()},setWordlimit:function ee(M){if(typeof M!=="number")return;this.opt.wordlimit=M;this.updateWordLimitTips()},setCursorToEnd:function ee(M){this.wysiwyg.setCursorToEnd()},filterContentWithLinkNWeapp:function ee(M){M=M.split(/(<a\s+\w[^>]*>)(.*?)(<\/a>)/);var F=function j(W,H){var w=W.match(new RegExp(H+`\\s*=\\s*["']?([^"'\\s>]+)["']?`));return w&&w[1]};var Y=function j(W){if(/^https?:\/\/mp\.weixin\.qq\.com\/(s\?|s\/|mp\/appmsg\/show\?)/.test(W)){return true}else if(/^https?:\/\/mp\.weixin\.qq\.com\/mp\/qa\?/.test(W)){return true}else if(/^https?:\/\/mp\.weixin\.qq\.com\/mp\/homepage\?/.test(W)){return true}else if(/^https?:\/\/mp\.weixin\.qq\.com\/mp\/appmsgalbum\?/.test(W)){return true}else{return false}};var z;var R=function j(W){if(W%4===1){z=false;var H=F(M[W],"href")||"";if(Y(H)){z=true}var w='<a target="_blank"';var T=F(M[W],"data-miniprogram-appid");var k=F(M[W],"data-poiid");var G=F(M[W],"data-districtid");var ce=F(M[W],"data-username");if(T){w+=' class="weapp_text_link" data-miniprogram-type="text" data-miniprogram-appid="'+T+'" data-miniprogram-path="'+(F(M[W],"data-miniprogram-path")||"")+'" data-miniprogram-applink="'+(F(M[W],"data-miniprogram-applink")||"")+'" data-miniprogram-nickname="'+(F(M[W],"data-miniprogram-nickname")||"")+'" data-miniprogram-servicetype="'+(F(M[W],"data-miniprogram-servicetype")||"0")+'"';z=true}else if(k||G){w+=' class="js_poi_entry wx_poi_link" '+["id","poiid","districtid","name","type","address","latitude","longitude","img","province","city"].map(function(ue){var ye="data-".concat(ue);return"".concat(ye,'="').concat(F(M[W],ye)||"",'"')}).join(" ");H="";z=true}else if(ce){w+=' class="js_mention_entry wx_at_link" contenteditable="false" data-username="'.concat(ce,'" data-biz=').concat(F(M[W],"data-biz")||"");z=true}else if(z){var se=F(M[W],"data-itemshowtype");se&&(w+=' data-itemshowtype="'+se+'"')}w+=' href="'+(z?H:"javascript:void 0")+'"';M[W]=z?w+">":""}else if(W%4===3){!z&&(M[W]="")}else{M[W]=M[W].replace(/<.*?>/g,"")}};for(var N=0;N<M.length;N++){R(N)}return M.join("")},disableAutoUrlDetect:function ee(){var M=this;$(".js_editorArea",this.selector$).on("paste",function(F){F.preventDefault();var Y="";if(window.clipboardData&&clipboardData.setData){Y=window.clipboardData.getData("text")||""}else{Y=(F.originalEvent||F).clipboardData.getData("text/plain")||""}var z=M.wysiwyg.getSelectionRange();if(!z.collapsed){z.deleteContents()}M.wysiwyg.insertHTML(Y)})},dumpUndoManager:function ee(){return this.undoManager&&this.undoManager.dump()},undumpUndoManager:function ee(M){this.undoManager&&this.undoManager.undump(M)},__insert:function ee(M,F){var Y=M.type;var z="";var R={type:Y,servicetype:M.service_type,appid:M.appid,nickname:M.nickname,avatar:M.headimg_url,title:M.title,imageUrl:M.cardImage,path:M.path,content:M.content};if(Y=="text"){z='<a class="weapp_text_link" data-miniprogram-appid="{appid}" data-miniprogram-path="{path}" data-miniprogram-nickname="{nickname}" href="" data-miniprogram-type="{type}" data-miniprogram-servicetype="{servicetype}">{content}</a>'}z=X(z,R);this.wysiwyg.insertHTML(z)},__insertWeapp:function ee(M,F,Y){var z={"class":"weapp_text_link",href:"javascript:void 0",textValue:M.content,"data-miniprogram-appid":M.appid,"data-miniprogram-path":M.path,"data-miniprogram-nickname":M.nickname,"data-miniprogram-type":M.type,"data-miniprogram-servicetype":M.service_type,"data-miniprogram-applink":M.applink||""};this.wysiwyg.insertWeapp(z,F,Y)},__insertLink:function ee(M,F){this.wysiwyg.insertLink(M,F)},__insertPoi:function ee(M,F,Y){this.wysiwyg.insertPoi(M,F,Y)},__insertAt:function ee(M,F,Y){this.wysiwyg.insertAt(M,F,Y)},hasOverflowed:function ee(){return this.getContent().length>this.opt.wordlimit}});ne.exports=Q}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/common/wx/richEditor/undoManager.js":function(Ne,Te,pe){var we;!(we=function(ve){function Ce(){this.list=[];this.index=0}Ce.prototype.undo=function(){if(this.hasUndo){this.index--;return this.list[this.index-1]}};Ce.prototype.redo=function(){if(this.hasRedo){return this.list[this.index++]}};Ce.prototype.save=function(ne){if(this.list[this.index-1]!==ne){this.list.length=this.index;this.list[this.index++]=ne}};Ce.prototype.dump=function(){return{list:this.list,index:this.index}};Ce.prototype.undump=function(ne){this.list=ne.list;this.index=ne.index;if(typeof this.onUndump==="function"){this.onUndump.call(null)}};Ce.prototype.onUndump=function(ne){if(typeof ne==="function"){this.onUndump=ne}};Object.defineProperties(Ce.prototype,{hasUndo:{get:function ne(){return this.index>1}},hasRedo:{get:function ne(){return this.index<this.list.length}}});return Ce}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/common/wx/richEditor/wysiwyg.js":function(Ne,Te,pe){var we;function ve(g){"@babel/helpers - typeof";return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},ve(g)}function Ce(g,_){var D=Object.keys(g);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(g);_&&(J=J.filter(function(I){return Object.getOwnPropertyDescriptor(g,I).enumerable})),D.push.apply(D,J)}return D}function ne(g){for(var _=1;_<arguments.length;_++){var D=null!=arguments[_]?arguments[_]:{};_%2?Ce(Object(D),true).forEach(function(J){U(g,J,D[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(D)):Ce(Object(D)).forEach(function(J){Object.defineProperty(g,J,Object.getOwnPropertyDescriptor(D,J))})}return g}function U(g,_,D){_=L(_);if(_ in g){Object.defineProperty(g,_,{value:D,enumerable:true,configurable:true,writable:true})}else{g[_]=D}return g}function L(g){var _=O(g,"string");return ve(_)==="symbol"?_:String(_)}function O(g,_){if(ve(g)!=="object"||g===null)return g;var D=g[Symbol.toPrimitive];if(D!==void 0){var J=D.call(g,_||"default");if(ve(J)!=="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(g)}!(we=function(g,_,D){pe("../../packages/mmbizweb-web2-common/editor/editor_all_min.js");var J=pe("../../node_modules/.pnpm/@tencent+we-emoji@1.3.13/node_modules/@tencent/we-emoji/dist/index.umd.min.js");var I=pe("../../packages/mmbizweb-web2-common/editor/common/eventbus.js");var P=/msie/.test(navigator.userAgent.toLowerCase()),X="Wysiwyg",te=pe("../../packages/mmbizweb-web2-common/common/wx/richEditor/editorRange.js"),Q="\u200B",ee=new RegExp(Q,"g"),M=pe("../../packages/mmbizweb-web2-common/common/qq/Class.js");var F="at_user_placeholder";var Y="https://mp.weixin.qq.com/mp/readtemplate?t=pages/link_mid_jump";var z=["wx_at_link","weapp_text_link","wx_poi_link"];var R=function H(w){if(!/\[[^\[\]]+\]/.test(w)){return w}return w.replace(/\[[^\[\]]+\]/g,function(T){try{var k=J.decode(T);return k}catch(G){}})};var N;var j=M.declare({init:function H(w,T){var k=this;var G=w,ce=$('<div class="edit_area"></div>');this._dom$=G;this._val="";this._lastRange=null;this._editArea$=ce;$.extend(this,T);this._initEditArea();this._initEvent();if(window.UE){this._selection=new window.UE.dom.Selection(document)}I.$on("updateItemShowType",function(se){k.showAtUser=se===8})},_initEvent:function H(){var w=this,T=function k(G){w.filterAtDom(G);w.__tid&&clearTimeout(w.__tid);w.__tid=setTimeout(function(){w._filterNode();w.change&&w.change()},10)};w._editArea$.bind({"keydown":function k(G){w._keydown(G)},"keyup":function k(G){w._keyup(G)},"compositionend":function k(G){w._compositionend(G)},"mouseup":function k(G){w._mouseup(G)},"drop":T,"paste":T,"click":function k(G){w._click(G)},"input":function k(G){w._input(G)}})},_keydown:function H(w){var T=this,k=wx.isHotkey;if(k(w,"backspace")){if($.trim(T._editArea$.html()).replace(ee,"")=="<br>"){T._editArea$.html(Q)}var G=te.getSelection();if(G.type&&G.type.toLowerCase()==="control"){w.preventDefault();G.clear()}T.removeAtLink(w)}if(k(w,"ctrlenter")||k(w,"altenter")||k(w,"enter")){w.preventDefault();if(window.UE){var ue=this.getSelectionRange();if(ue.collapsed){var ce=window.UE.dom.domUtils;var se=ce.findParentByTagName(ue.startContainer,"A");if(se){if(ue.startOffset==0){ue.setStartBefore(se).setEndBefore(se).select()}else{ue.selectNode(se).collapse().select()}}}var ue=te.getRange();if(!ue){return T}if(ue.createContextualFragment){var ye='<br/><img style="width:1px;height:1px;"></img>';var xe=ue.createContextualFragment(ye);var Ae=xe.lastChild;ue.deleteContents();ue.insertNode(xe);ue.setEndAfter(Ae);ue.setStartAfter(Ae);var G=te.getSelection();G.removeAllRanges();G.addRange(ue);if(Ae.offsetTop+17>T._editArea$[0].clientHeight+T._editArea$[0].scrollTop){T._editArea$.scrollTop(Ae.offsetTop)}document.execCommand("Delete",false,null)}else{if(P&&/>$/.test(ye)){}!!ye&&ue.pasteHTML&&ue.pasteHTML(ye);ue.collapse&&ue.collapse(false);ue.select()}}else{T.insertHTML("<br/>")._saveRang()}}if(k(w,"ctrl+b")||k(w,"meta+b")||k(w,"ctrl+i")||k(w,"meta+i")||k(w,"ctrl+u")||k(w,"meta+u")){w.preventDefault()}I.fireEvent("wysiwygEditorKeydown",w);T.keydown&&T.keydown(w)},_keyup:function H(w){var T=this;var k=$.trim(T._editArea$.html()).replace(ee,"");if(!k&&!N){T._editArea$.html(Q)}I.fireEvent("wysiwygEditorKeyup",w);T._saveRang();T.keyup&&T.keyup(w);T.save()},_input:function H(w){var T=this;T.startAtUser(w);T._saveRang()},_compositionend:function H(w){var T=this;T._saveRang();T.keyup&&T.keyup(w);T.save()},_mouseup:function H(w){var T=this;setTimeout(function(){T._saveRang()},0);T.mouseup&&T.mouseup(w);return},focus:function H(w){this._editArea$.focus();this._resotreRange()},blur:function H(){this._editArea$.blur()},_setCursorToEnd:function H(w){if(!P||!w)return;var T=te.getSelection();if(T.extend){T.extend(w,w.length);T.collapseToEnd&&T.collapseToEnd()}},setCursorToEnd:function H(){var w=te.getSelection();if(w&&this._editArea$[0]){try{this._editArea$[0].focus();w.selectAllChildren(this._editArea$[0]);w.collapseToEnd()}catch(T){}}},_click:function H(w){var T=window.UE.dom.domUtils;var k=this.getSelectionRange();var G=T.findParentByTagName(k.startContainer,"SPAN",true);I.fireEvent("setAtUserCardPosition",{node:G,isShow:false});this.restoreAtInputSpan()},insertHTML:function H(w){var T=this;T.focus();var k=te.getRange();if(!k){return T}if(k.createContextualFragment){w+='<img style="width:1px;height:1px;"></img>';var G=k.createContextualFragment(w);var ce=G.lastChild;k.deleteContents();k.insertNode(G);k.setEndAfter(ce);k.setStartAfter(ce);var se=te.getSelection();se.removeAllRanges();se.addRange(k);document.execCommand("Delete",false,null)}else{if(P&&/>$/.test(w)){}!!w&&k.pasteHTML&&k.pasteHTML(w);k.collapse&&k.collapse(false);k.select()}T._saveRang().save();return T},save:function H(k){var T=this,k=k||this.textFilter,G=T._editArea$.html();G=G.replace(ee,"");T.val=typeof k==="function"?k(G):G;T.change&&T.change();return T},_filterNode:function H(G){var T=this,k,G=G||this.nodeFilter,ce=T._editArea$.get(0),se=ce.childNodes;for(var ue=se.length-1;ue>=0;ue--){var ye=se[ue];switch(ye.nodeType){case 1:if(this.showLinkAndWeapp&&ye.nodeName.toUpperCase()!=="BR"&&ye.nodeName.toUpperCase()!=="A"||!this.showLinkAndWeapp&&ye.nodeName.toUpperCase()!=="BR"){if(ye.classList&&ye.classList.contains("js_at_user_span"))return;var xe,Ae=false;if(!(xe=G&&G(ye))){xe=ye.textContent||ye.innerText||"";Ae=true}if(Ae){xe=xe.replace(/\n/g,"")}if(xe){var le=Ae?document.createTextNode(xe):xe;!k&&(k=le);ce.replaceChild(le,ye)}else{ce.removeChild(ye)}}if(ye.tagName==="IMG"&&ye.className.indexOf("we-emoji")===-1){ce.removeChild(ye)}break;case 3:break;default:ce.removeChild(ye)}}if(window.UE){if(k){var Ge=this.getSelectionRange();Ge.selectNode(k).collapse().select(true)}}else{T._setCursorToEnd(k);return T._saveRang().save()}},getHTML:function H(){return this._editArea$.html()},getText:function H(){return this.getHTML().text()},getContent:function H(w){var T=this,k=this.textFilter,G=T._editArea$.html();G=G.replace(ee,"");T.val=typeof k==="function"?k(G,w):G;return this.val},setContent:function H(w,T){this.clear();w=w||Q;this._editArea$.html(w);if(!T){if(typeof this.textFilter=="function"){var k=this._editArea$.html().replace(ee,"");T=this.textFilter(k)}else{T=w}}this.val=T;this.setCursorToEnd();this._saveRang();this.change&&this.change()},clear:function H(){this.val="";this._editArea$.html(Q)},_initEditArea:function H(){var w=this;w._editArea$.attr("class",w._dom$.attr("class")).attr("placeholder",w._dom$.attr("placeholder")).attr("contentEditable",true).css({"overflow-y":"auto","overflow-x":"hidden"});w._dom$.after(w._editArea$).hide().data(X,w);w.init&&w.init()},_saveRang:function H(){this._lastRange=te.getRange();return this},_resotreRange:function H(){var w=this._lastRange;if(w){var T=te.getSelection();if(T.addRange){T.removeAllRanges();T.addRange(w)}else{var k=te.getRange();if(k.setEndPoint){k.setEndPoint("EndToEnd",w);k.setEndPoint("StartToStart",w)}k.select()}}return this},getSelectionRange:function H(){return this._selection&&this._selection.getRange()},getSelectionText:function H(){return this._selection&&this._selection.getText()},optimize:function H(w){var T=window.UE.dom.domUtils,k=w.startContainer,G=w.endContainer;if(k=T.findParentByTagName(k,"a",true)){w.setStartBefore(k)}if(G=T.findParentByTagName(G,"a",true)){w.setEndAfter(G)}},insertLink:function H(w,T){var k=window.UE.browser;var G=window.UE.dom.domUtils;var ce=window.UE.utils;var se=T.startContainer;var ue=T.cloneRange();this.optimize(T=T.adjustmentBoundary());if(se.nodeType==1){se=se.childNodes[T.startOffset];if(se&&se.nodeType==1&&se.tagName=="A"&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(se[k.ie?"innerText":"textContent"])){se[k.ie?"innerText":"textContent"]=ce.html(w.textValue||w.href)}}if(!ue.collapsed){T.removeInlineStyle("a");ue=T.cloneRange()}if(ue.collapsed){var ye=document.createElement("a");var xe="";if(w.textValue){xe=R(ce.unhtml(w.textValue).replace(/\n/g,"<br>"));delete w.textValue}else{xe=ce.html(w.href)}G.setAttributes(ye,w);se=G.findParentByTagName(ue.startContainer,"a",true);if(se&&G.isInNodeEndBoundary(ue,se)){T.setStartAfter(se).collapse(true)}ye.innerHTML=xe;T.insertNode(ye).selectNode(ye)}else{T.applyInlineStyle("a",w)}T.collapse().select(true);this._saveRang().save();return this},insertWeapp:function H(w,T,k){var G=window.UE.browser;var ce=window.UE.dom.domUtils;var se=window.UE.utils;var ue=T.startContainer;var ye=T.cloneRange();this.optimize(T=T.adjustmentBoundary());if(ue.nodeType==1){ue=ue.childNodes[T.startOffset];if(ue&&ue.nodeType==1&&ue.tagName=="A"&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(ue[G.ie?"innerText":"textContent"])){ue[G.ie?"innerText":"textContent"]=se.html(w.textValue||w.href)}}if(!ye.collapsed){if(!k){T.deleteContents()}ye=T.cloneRange()}var xe=document.createElement("a");var Ae="";if(w.textValue){Ae=R(se.html(w.textValue).replace(/\n/g,"<br>"));delete w.textValue}else{Ae=se.html(w.href)}ce.setAttributes(xe,w);ue=ce.findParentByTagName(ye.startContainer,"a",true);if(ue&&ce.isInNodeEndBoundary(ye,ue)){T.setStartAfter(ue).collapse(true)}xe.innerHTML=Ae;T.insertNode(xe).selectNode(xe);if(k){xe.nextElementSibling.remove()}this._insertSpace(T,xe);T.collapse(true).select(true);this._saveRang().save();return this},insertPoi:function H(w,T,k){var G=window.UE.browser;var ce=window.UE.dom.domUtils;var se=window.UE.utils;var ue=T.startContainer;var ye=T.cloneRange();this.optimize(T=T.adjustmentBoundary());if(ue.nodeType==1){ue=ue.childNodes[T.startOffset];if(ue&&ue.nodeType==1&&ue.tagName=="A"&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(ue[G.ie?"innerText":"textContent"])){ue[G.ie?"innerText":"textContent"]=se.html(w.textValue||w.href)}}if(!ye.collapsed){if(!k)T.deleteContents();ye=T.cloneRange()}var xe=document.createElement("a");xe.setAttribute("class","js_poi_entry wx_poi_link");xe.setAttribute("href","javascript:void(0)");var Ae=R(se.html(w.content).replace(/\n/g,"<br>"));delete w.content;delete w.applyAll;var le=Object.keys(w).reduce(function(Ge,We){return ne(ne({},Ge),{},U({},"data-".concat(We),We==="name"||We==="address"||We==="img"?encodeURIComponent(w[We]):w[We]))},{});ce.setAttributes(xe,le);ue=ce.findParentByTagName(ye.startContainer,"a",true);if(ue&&ce.isInNodeEndBoundary(ye,ue)){T.setStartAfter(ue).collapse(true)}xe.innerHTML=Ae;T.insertNode(xe).selectNode(xe);if(k)xe.nextElementSibling.remove();this._insertSpace(T,xe);T.collapse(true).select(true);this._saveRang().save();return this},startAtUser:function H(w){var T=this;if(wx.cgiData&&wx.cgiData.service_type!==2&&this.showAtUser&&w.originalEvent.data==="@"){this.restoreAtInputSpan();setTimeout(function(){var k=te.getSelection();var G=k.anchorNode,ce=k.anchorOffset;if(G&&G.substringData(ce-1,1)==="@"){k.anchorNode.deleteData(ce-1,1)}var se=document.createElement("span");se.textContent="@";se.className="js_at_user_span ".concat(F);var ue=k.getRangeAt(0);ue.deleteContents();ue.insertNode(se);T.handleAtUserInput(se);I.fireEvent("saveSelectionRange");ue.setStart(se,1);ue.setEnd(se,1);k.removeAllRanges();k.addRange(ue);T._saveRang().save();I.fireEvent("setAtUserCardPosition",{node:se,isShow:true,init:true})})}},filterAtDom:function H(w){var T=w.originalEvent.clipboardData||window.clipboardData;if(T){var k=T.getData("text/html");var G=T.getData("text/plain");var ce=document.createElement("div");ce.innerHTML=k;var se=document.querySelector(".js_at_user_span");var ue=ce.querySelectorAll("a.wx_at_link");if(se){if(se.classList&&se.classList.contains(F)){se.classList.remove(F)}if(G&&G.length<=10){w.preventDefault();var ye=document.createTextNode(G);this._lastRange.insertNode(ye);this._lastRange.setStartAfter(ye);this._lastRange.setEndAfter(ye);var xe=window.getSelection();xe.removeAllRanges();xe.addRange(this._lastRange);I.fireEvent("searchAtUserList",se.textContent.slice(1));return}}if(ue.length>0){w.preventDefault();ue.forEach(function(We){We.parentNode.removeChild(We)});var Ae=window.getSelection();if(!Ae.rangeCount)return;var le=Ae.getRangeAt(0);le.deleteContents();var Ge=document.createRange().createContextualFragment(ce.innerHTML);le.insertNode(Ge)}I.fireEvent("setAtUserCardPosition",{node:null,isShow:false})}},handleAtUserInput:function H(w){var T=w.textContent;var k=function ce(se){se.forEach(function(ue){if(ue.type==="characterData"){if(w.classList&&w.classList.contains(F)){w.classList.remove(F)}var ye=ue.target.textContent;if(ye!==T){T=ye;var xe=ye.slice(1);I.fireEvent("searchAtUserList",xe)}}})};var G=new MutationObserver(function(ce){k(ce)});G.observe(w,{characterData:true,subtree:true})},restoreAtInputSpan:function H(){var w=te.getSelection();var T=document.querySelector(".js_at_user_span");if(T){var k=document.createTextNode(T.innerText);T.parentNode.replaceChild(k,T);w.collapse(k,k.length);I.fireEvent("setAtUserCardPosition",{node:T,isShow:false})}},insertAt:function H(w,T,k){var G=window.UE.browser;var ce=window.UE.dom.domUtils;var se=window.UE.utils;var ue=T.startContainer;var ye=T.cloneRange();this.optimize(T=T.adjustmentBoundary());if(ue.nodeType==1){ue=ue.childNodes[T.startOffset];if(ue&&ue.nodeType==1&&ue.tagName=="A"&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(ue[G.ie?"innerText":"textContent"])){ue[G.ie?"innerText":"textContent"]=se.html(w.textValue||w.href)}}if(!ye.collapsed){if(!k)T.deleteContents();ye=T.cloneRange()}var xe=w.atUserData,Ae=w.from;var le=document.createElement("a");ce.setAttributes(le,{"class":"js_mention_entry wx_at_link","href":Y+"&biz=".concat(xe.fakeid),"target":"_blank","data-biz":xe.fakeid,"data-username":xe.username,"contenteditable":false});ue=ce.findParentByTagName(ye.startContainer,"a",true);if(ue&&ce.isInNodeEndBoundary(ye,ue)){T.setStartAfter(ue).collapse(true)}le.innerText="@"+xe.nickname;if(Ae==="editor"){var Ge=w.currentInputNode;Ge.parentNode.replaceChild(le,Ge)}T.insertNode(le).selectNode(le);this._insertSpace(T,le);T.collapse(true).select(true);this._saveRang().save();return this},_insertSpace:function H(w,T){var k=w.startContainer;var G=w.startOffset;var ce=document.createTextNode("\xA0");var se=document.createTextNode("\xA0");var ue=k.childNodes;if(k===this._editArea$[0]&&G>=2&&ue.length>G){var ye=ue[G];var xe=ue[G-1];var Ae=ue[G-2];if(!(ye.nodeType===Node.ELEMENT_NODE&&z.some(function(le){return ye.classList.contains(le)})&&xe.nodeType===Node.TEXT_NODE&&xe.nodeValue.charCodeAt(0)===160&&Ae.nodeType===Node.ELEMENT_NODE&&z.some(function(le){return Ae.classList.contains(le)}))){T.parentNode.insertBefore(ce,T)}}else{T.parentNode.insertBefore(ce,T)}T.after(se);w.setStartAfter(se)},removeAtLink:function H(w){var T=te.getRange();var k=T.startContainer;if(k===this._editArea$[0]){var G=k.childNodes;var ce=G[T.startOffset];if(!ce||ce.nodeType!==Node.ELEMENT_NODE||!ce.classList||!ce.classList.contains("wx_at_link")){return}var se;for(var ue=T.startOffset-1;ue>=0;ue--){var ye=G[ue];if(ye.nodeType===Node.TEXT_NODE&&ye.nodeValue===""){continue}if(ye.nodeType===Node.ELEMENT_NODE&&ye.classList.contains("wx_at_link")){se=ye;break}break}if(se){w.preventDefault();se.remove()}}},emojiFormat:function H(w){return R(w)}});var W=function H(w,T){return w.data(X)||new j(w,T)};document.body.addEventListener("compositionstart",function(){N=true});document.body.addEventListener("compositionend",function(){N=false});D.exports=W}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/common/wx/utils.js":function(Ne,Te,pe){var we;!(we=function(){var ve=pe("../../packages/mmbizweb-web2-common/biz_common/utils/monitor.js");function Ce(ne){var U=encodeURIComponent(ne);var L=[];for(var O=0;O<U.length;O++){var g=U.charAt(O);if(g==="%"){var _=U.charAt(O+1)+U.charAt(O+2);var D=parseInt(_,16);L.push(D);O+=2}else L.push(g.charCodeAt(0))}return L}return{formatVideoTime:function ne(U){var L=Math.floor(U%60);var O=Math.floor(U/60);L=L&&L<10?"0"+L:L;return"%s\u5206%s\u79D2".replace("%s",O).replace("%s",L)},reportConsumeTime:function ne(U){var L=new Date().getTime();var O=L-U;switch(true){case(O<=1e3&&O>0):ve.setSum(128961,26,1);break;case(O<=2e3&&O>1e3):ve.setSum(128961,27,1);break;case(O<=3e3&&O>2e3):ve.setSum(128961,28,1);break;case(O<=4e3&&O>3e3):ve.setSum(128961,29,1);break;case(O<=5e3&&O>4e3):ve.setSum(128961,30,1);break;case(O<=1e4&&O>5e3):ve.setSum(128961,31,1);break;case(O<=2e4&&O>1e4):ve.setSum(128961,32,1);break;case(O<=3e4&&O>2e4):ve.setSum(128961,33,1);break;case(O<=4e4&&O>3e4):ve.setSum(128961,34,1);break;case(O<=5e4&&O>4e4):ve.setSum(128961,35,1);break;case O>5e4:ve.setSum(128961,36,1);break}ve.send()},countStrLenByBackendRules:function ne(U){var L=0;U=U||"";var O=Ce(U);for(var g=0;g<O.length;){if(!(O[g]&128)){++L;g+=1;continue}if(!(O[g]&32)){++L;g+=2;continue}if(!(O[g]&16)){++L;g+=3;continue}if(!(O[g]&8)){++L;g+=4;continue}if(!(O[g]&4)){++L;g+=5;continue}if(!(O[g]&2)){++L;g+=6;continue}break}return L}}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/edit_css/widget/colorpicker/colorpicker.css":function(Ne,Te,pe){"use strict";pe.r(Te)},"../../packages/mmbizweb-web2-common/edit_css/widget/emoji.css":function(Ne,Te,pe){"use strict";pe.r(Te)},"../../packages/mmbizweb-web2-common/edit_css/widget/emotion_editor.css":function(Ne,Te,pe){"use strict";pe.r(Te)},"../../packages/mmbizweb-web2-common/edit_css/widget/emotion_panel.css":function(Ne,Te,pe){"use strict";pe.r(Te)},"../../packages/mmbizweb-web2-common/editor/common/clear_dom.js":function(Ne,Te,pe){var we;!(we=function(){var ve=pe("../../packages/mmbizweb-web2-common/editor/plugin/insertcode/insertCodeUtils.js");var Ce=["js_pasteword_start","js_pasteword_end"];var ne={styleKey:["line-height","max-width","letter-spacing","color","font-weight","box-sizing","word-wrap","-webkit-box-sizing","margin","padding","font-family","background-color","white-space","min-height","font-size","background-image","background-clip","background-position","background-repeat","background-size","border","bottom","display","float","height","left","max-height","min-width","text-align","text-decoration","top","position","z-index","visibility","clear"],tagName:","+["strong","span","section","br"].join(",")+",",deepLen:20,flatLen:20,data:[]};function U(M){ne.data=[];var F=M.Eles;var Y=null;var z=0;for(var R=0,N=F.length;R<N;R++){Y=F[R];if(D(Y)&&ne.tagName.indexOf(","+Y.nodeName.toLowerCase()+",")>=0){z++;if(z>=ne.flatLen){ne.data.push({type:"flat",dom:Y,parent:Y.parentElement})}}else{z=0;L(Y,ne.data)}}z=0;var j=0;var W=0;var H=0;var w=0;for(var R=0,N=ne.data.length;R<N;R++){var T=ne.data[R];if(T.type=="invisible"&&T.dom&&T.dom.parentElement){if(T.dom.id&&Ce.indexOf(T.dom.id)>-1){continue}j++;T.dom.parentElement.removeChild(T.dom)}}for(var R=0,N=ne.data.length;R<N;R++){var T=ne.data[R];if(T.type=="flat"&&T.dom&&T.parent){w++;T.parent.removeChild(T.dom)}}for(var R=0,N=ne.data.length;R<N;R++){var T=ne.data[R];if(T.type=="deep"&&T.parent&&T.end&&T.deep>=ne.deepLen){W++;H+=T.deep;var k=J(T.end,{styleHeight:T.styleHeight});T.parent.innerHTML="";T.parent.appendChild(k)}}ne.data=[];return{deepCount:W,perDeepLen:parseInt(H/W),invisibleCount:j,flatCount:w}}function L(M,F){F.push({});if(P(M)){F[F.length-1]={type:"invisible",dom:M};F.push({})}else if(Q({node:M,checkParent:false})!==2){var Y=0;for(var z=0;z<M.childNodes.length;z++){var R=M.childNodes[z];if(R.nodeType==1){if(D(R)&&ne.tagName.indexOf(","+R.nodeName.toLowerCase()+",")>=0){Y++;if(Y>=ne.flatLen){ne.data.push({type:"flat",dom:R,parent:M})}}else{Y=0;O(R,F)}}else{Y=0}}}}function O(M,F){var Y=F[F.length-1];if(P(M)){if(Y.parent&&Y.type=="deep"&&Y.deep>=ne.deepLen){Y.end=M.parentElement;F.push({})}F[F.length-1]={type:"invisible",dom:M};F.push({})}else if(M.nodeType==1&&ne.tagName.indexOf(","+M.nodeName.toLowerCase()+",")>=0&&M.childElementCount==1&&Q({node:M,checkParent:false})!==2){if(!Y.parent){Y.parent=M;Y.type="deep";Y.deep=0}else{Y.deep++}var z=g(M);if(z){Y.styleHeight=z}O(M.firstElementChild,F)}else{if(Y.parent&&Y.type=="deep"&&Y.deep>=ne.deepLen){if(M.nodeType==1){Y.end=M}else{Y.end=M.parentElement}var z=g(M);if(z){Y.styleHeight=z}F.push({})}else{F.splice(F.length-1,1);L(M,F)}}}function g(M){if(!M||M.nodeType!=1){return""}var F=M.style.height||M.getAttribute("height");if(F&&F.indexOf("%")==-1){F=parseInt(F);if(F){F+="px"}}if(F){return F}return""}function _(M){for(var F=0;F<M.childNodes.length;F++){var Y=M.childNodes[F];if(Y.nodeType==3&&$.trim(Y.nodeValue)){return false}}return true}function D(M){var F=false;if(M.childElementCount!==null){F=!M.childElementCount}else{for(var Y=0;Y<M.childNodes.length;Y++){var z=M.childNodes[Y];if(z.nodeType==1){F=false;break}}}return F&&_(M)}function J(M,F){var Y=M.cloneNode(true);var z=I(M,F);Y.style.cssText=z;return Y}function I(M,F){var Y={};var z=window.getComputedStyle(M);for(var R=0,N=ne.styleKey.length;R<N;R++){var j=ne.styleKey[R];var W=j.replace(/^\-/,"").split("-");for(var H=1;H<W.length;H++){W[H]=W[H].charAt(0).toUpperCase()+W[H].substr(1)}var w=W.join("");if(w=="backgroundColor"&&z[w].replace(/\s/g,"")=="rgba(0,0,0,0)"){continue}else{Y[j]=z[w]}}if(te(M)||X(M)){if(F.styleHeight){Y.height=F.styleHeight}else{Y.height="auto"}}var T=[];for(var R in Y){T.push(R+":"+Y[R])}return T.join(";")};function P(M){if(!M||M.nodeType!=1||Q({node:M,checkParent:false})===2){return false}var F=window.getComputedStyle(M);var Y=M.getBoundingClientRect();var z=F.getPropertyValue("display");var R=F.getPropertyValue("opacity");var N=F.getPropertyValue("visiblity");if((z==="none"||N==="hidden"||R==="0")&&!te(M)&&!X(M)){return true}else if(Y.width===0||Y.height===0){if(M.tagName.toLowerCase()==="br"){return false}if(M.querySelector("br")){return false}if(F.clear!=="none"){return false}if(te(M)||X(M)||ve.isInCodeBlock(M)){return false}if(!ee(M)){return false}return true}else{return false}}function X(M){function F(j){if(j.tagName.toLowerCase()==="img"&&j.src){return true}var W=window.getComputedStyle(j);var H=W.backgroundImage.replace(/['"]/g,"");if(/^url\(.+\)$/.test(H)){return true}return false}if(!M||M.nodeType!=1){return false}if(F(M)){return true}var Y=M.getElementsByTagName("img");if(Y&&Y.length>0){for(var z=0,R=Y.length;z<R;z++){if(Y[z].src){return true}}}var N=M.getElementsByTagName("*");if(N&&N.length>0){for(var z=0,R=N.length;z<R;z++){if(F(N[z])){return true}}}return false}function te(M){if(!M||M.nodeType!=1){return false}var F=M.tagName.toLowerCase();if(F==="svg"||F==="animate"){return true}var Y=M.getElementsByTagName("svg");if(Y&&Y.length>0){return true}var z=M.getElementsByTagName("animate");if(z&&z.length>0){return true}return false}function Q(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var F=M.node,Y=M.checkParent;if(!F){return 2}var z=F;if(z.nodeType!==1){z=z.parentElement}if(!z||z.nodeType!==1){return 2}if(Y){while(z){var R=z.contentEditable+"";if(R==="false"){return 2}else if(R==="true"){return 1}z=z.parentElement}}else{var N=z.contentEditable+"";if(N==="false"){return 2}return 3}return 2}function ee(M){var F=M.getElementsByTagName("*");if(F&&F.length>0){for(var Y=0,z=F.length;Y<z;Y++){var R=F[Y].getBoundingClientRect();if(R.width!=0&&R.height!=0){return false}}}return true}return{init:U}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/common/colorpicker.js":function(Ne,Te,pe){var we;!(we=function(ve){pe("../../packages/mmbizweb-web2-common/edit_css/widget/colorpicker/colorpicker.css");var Ce;(function(ne,U,L){var O=ne.SVGAngle||U.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",g,_,D=15,J="http://www.w3.org/2000/svg";var I=['<div class="picker-wrapper">','<div class="picker"></div>','<div class="picker-indicator"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide"></div>','<div class="slide-indicator"></div>',"</div>"].join("");function P(N){if(ne.event&&ne.event.contentOverflow!==L){return{x:ne.event.offsetX,y:ne.event.offsetY}}if(N.offsetX!==L&&N.offsetY!==L){return{x:N.offsetX,y:N.offsetY}}var j=N.target.parentNode.parentNode;return{x:N.layerX-j.offsetLeft,y:N.layerY-j.offsetTop}}function X(N,j,W){N=U.createElementNS(J,N);for(var H in j)N.setAttribute(H,j[H]);if(Object.prototype.toString.call(W)!="[object Array]")W=[W];var w=0,T=W[0]&&W.length||0;for(;w<T;w++)N.appendChild(W[w]);return N}if(O=="SVG"){_=X("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[X("defs",{},X("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[X("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),X("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),X("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),X("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),X("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),X("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),X("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),X("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),X("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),X("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]);g=X("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[X("defs",{},[X("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[X("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),X("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),X("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[X("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),X("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),X("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),X("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})])}else if(O=="VML"){_=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="red" color2="red" colors="8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow"></v:fill>',"</v:rect>","</DIV>"].join("");g=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; left: -1px; top: -1px; width: 101%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="270" color="#FFFFFF" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>",'<v:rect style="position: absolute; left: 0px; top: 0px; width: 100%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="#000000" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>","</DIV>"].join("");if(!U.namespaces["v"])U.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")}function te(N){var j,W,H,w,T;var k=N.h%360/60;T=N.v*N.s;w=T*(1-Math.abs(k%2-1));j=W=H=N.v-T;k=~~k;j+=[T,w,0,0,w,T][k];W+=[w,T,T,w,0,0][k];H+=[0,0,w,T,T,w][k];var G=Math.floor(j*255);var ce=Math.floor(W*255);var se=Math.floor(H*255);return{r:G,g:ce,b:se,hex:"#"+(16777216|se|ce<<8|G<<16).toString(16).slice(1)}}function Q(N){var j=N.r;var W=N.g;var H=N.b;if(N.r>1||N.g>1||N.b>1){j/=255;W/=255;H/=255}var w,T,k,G;k=Math.max(j,W,H);G=k-Math.min(j,W,H);w=G==0?null:k==j?(W-H)/G+(W<H?6:0):k==W?(H-j)/G+2:(j-W)/G+4;w=w%6*60;T=G==0?0:G/k;return{h:w,s:T,v:k}}function ee(N,j,W){return function(H){H=H||ne.event;var w=P(H);N.h=w.y/j.offsetHeight*360+D;var T=te({h:N.h,s:1,v:1});var k=te({h:N.h,s:N.s,v:N.v});W.style.backgroundColor=T.hex;N.callback&&N.callback(k.hex,{h:N.h-D,s:N.s,v:N.v},{r:k.r,g:k.g,b:k.b},L,w);if(H.stopPropagation){H.stopPropagation();H.preventDefault()}else{H.cancelBubble=true}return false}};function M(N,j){return function(W){W=W||ne.event;var H=P(W),w=j.offsetWidth,T=j.offsetHeight;N.s=H.x/w;N.v=(T-H.y)/T;var k=te(N);N.callback&&N.callback(k.hex,{h:N.h-D,s:N.s,v:N.v},{r:k.r,g:k.g,b:k.b},H);if(W.stopPropagation){W.stopPropagation();W.preventDefault()}else{W.cancelBubble=true}return false}};var F=0;Ce=function N(j,W,H){if(!(this instanceof Ce))return new Ce(j,W,H);this.h=0;this.s=1;this.v=1;if(!H){var w=j;w.innerHTML=I;this.slideElement=w.getElementsByClassName("slide")[0];this.pickerElement=w.getElementsByClassName("picker")[0];var T=w.getElementsByClassName("slide-indicator")[0];var k=w.getElementsByClassName("picker-indicator")[0];Ce.fixIndicators(T,k);this.callback=function(Ae,le,Ge,We,dt){Ce.positionIndicators(T,k,dt,We);W(Ae,le,Ge)}}else{this.callback=H;this.pickerElement=W;this.slideElement=j}if(O=="SVG"){var G=_.cloneNode(true);var ce=g.cloneNode(true);var se=G.getElementById("gradient-hsv");var ue=G.getElementsByTagName("rect")[0];se.id="gradient-hsv-"+F;ue.setAttribute("fill","url(#"+se.id+")");var ye=[ce.getElementById("gradient-black"),ce.getElementById("gradient-white")];var xe=ce.getElementsByTagName("rect");ye[0].id="gradient-black-"+F;ye[1].id="gradient-white-"+F;xe[0].setAttribute("fill","url(#"+ye[1].id+")");xe[1].setAttribute("fill","url(#"+ye[0].id+")");this.slideElement.appendChild(G);this.pickerElement.appendChild(ce);F++}else{this.slideElement.innerHTML=_;this.pickerElement.innerHTML=g}Y(this.slideElement,"click",ee(this,this.slideElement,this.pickerElement));Y(this.pickerElement,"click",M(this,this.pickerElement));z(this,this.slideElement,ee(this,this.slideElement,this.pickerElement));z(this,this.pickerElement,M(this,this.pickerElement))};function Y(N,j,W){if(N.attachEvent){N.attachEvent("on"+j,W)}else if(N.addEventListener){N.addEventListener(j,W,false)}}function z(N,j,W){var H=false;Y(j,"mousedown",function(w){H=true});Y(j,"mouseup",function(w){H=false});Y(j,"mouseout",function(w){H=false});Y(j,"mousemove",function(w){if(H){W(w)}})}Ce.hsv2rgb=function(N){var j=te(N);delete j.hex;return j};Ce.hsv2hex=function(N){return te(N).hex};Ce.rgb2hsv=Q;Ce.rgb2hex=function(N){return te(Q(N)).hex};Ce.hex2hsv=function(N){return Q(Ce.hex2rgb(N))};Ce.hex2rgb=function(N){return{r:parseInt(N.substr(1,2),16),g:parseInt(N.substr(3,2),16),b:parseInt(N.substr(5,2),16)}};function R(N,j,W,H){N.h=j.h%360;N.s=j.s;N.v=j.v;var w=te(N);var T={y:N.h*N.slideElement.offsetHeight/360,x:0};var k=N.pickerElement.offsetHeight;var G={x:N.s*N.pickerElement.offsetWidth,y:k-N.v*k};N.pickerElement.style.backgroundColor=te({h:N.h,s:1,v:1}).hex;N.callback&&N.callback(H||w.hex,{h:N.h,s:N.s,v:N.v},W||{r:w.r,g:w.g,b:w.b},G,T);return N};Ce.prototype.setHsv=function(N){return R(this,N)};Ce.prototype.setRgb=function(N){return R(this,Q(N),N)};Ce.prototype.setHex=function(N){return R(this,Ce.hex2hsv(N),L,N)};Ce.positionIndicators=function(N,j,W,H){if(W){N.style.top=W.y-N.offsetHeight/2+"px"}if(H){j.style.top=H.y-j.offsetHeight/2+"px";j.style.left=H.x-j.offsetWidth/2+"px"}};Ce.fixIndicators=function(N,j){j.style.pointerEvents="none";N.style.pointerEvents="none"}})(window,window.document);return Ce}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/common/eventbus.js":function(Ne,Te,pe){var we;!(we=function(ve){function Ce(U,L,O){if(window.web2_eventBus){var g=window.web2_eventBus;if(typeof O==="function"){var _=U+"_callback";g.$on(_,function(){window.web2_eventBus.$off(_);O.apply(this,arguments)})}g.$emit(U,L)}}function ne(U,L){if(window.web2_eventBus){var O=window.web2_eventBus;O.$on(U,L)}}return{fireEvent:Ce,$on:ne}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/common/init_custom.js":function(Ne,Te,pe){var we;function ve(U,L){var O=typeof Symbol!=="undefined"&&U[Symbol.iterator]||U["@@iterator"];if(!O){if(Array.isArray(U)||(O=Ce(U))||L&&U&&typeof U.length==="number"){if(O)U=O;var g=0;var _=function P(){};return{s:_,n:function P(){if(g>=U.length)return{done:true};return{done:false,value:U[g++]}},e:function P(X){throw X},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var D=true,J=false,I;return{s:function P(){O=O.call(U)},n:function P(){var X=O.next();D=X.done;return X},e:function P(X){J=true;I=X},f:function P(){try{if(!D&&O["return"]!=null)O["return"]()}finally{if(J)throw I}}}}function Ce(U,L){if(!U)return;if(typeof U==="string")return ne(U,L);var O=Object.prototype.toString.call(U).slice(8,-1);if(O==="Object"&&U.constructor)O=U.constructor.name;if(O==="Map"||O==="Set")return Array.from(U);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return ne(U,L)}function ne(U,L){if(L==null||L>U.length)L=U.length;for(var O=0,g=new Array(L);O<L;O++)g[O]=U[O];return g}!(we=function(U){var L=[{name:"mp-common-profile",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonProfile/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-search",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonSearch/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-poi",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonPoi/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-subscribe",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonSubscribe/bind_element.js")["default"],needSectionTags:false},{name:"mp-common-miniprogram",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonMiniprogram/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-sticker",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonSticker/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-product",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonProduct/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-redpacket",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonRedpacket/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-videosnap",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonVideosnap/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-cpslink",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonCpslink/bind_element.js")["default"]},{name:"mp-common-mpaudio",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonMpaudio/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-claudio",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonClaudio/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-vote",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonVote/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-qqmusic",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonQqmusic/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-clmusic",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonClmusic/bind_element.js")["default"],needSectionTags:true},{name:"mp-common-answer",bindFunction:pe("../../node_modules/.pnpm/@tencent+mp-weui@0.0.67-beta.22_@typescript-eslint+parser@4.33.0_eslint@4.19.1_typescript@5.2.2_webpack@4.41.2/node_modules/@tencent/mp-weui/dist/CommonAnswer/bind_element.js")["default"],needSectionTags:true}];function O(_){var D="wxw_wechannel_card_not_horizontal";if(_===false){this.parentNode&&this.parentNode.classList.add(D)}else{this.parentNode&&this.parentNode.classList.remove(D)}}function g(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var D=ve(L),J;try{for(D.s();!(J=D.n()).done;){var I=J.value;var P=I.bindFunction;if(I.name==="mp-common-videosnap"){P({iframeWindow:_,platform:"web",attrChangeCb:O})}else{P({iframeWindow:_,platform:"web"})}}}catch(X){D.e(X)}finally{D.f()}}return{commonCardOptions:L,initCustom:g}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/common/monitor.js":function(Ne,Te,pe){var we;!(we=function(ve){var Ce=pe("../../packages/mmbizweb-web2-common/modules/utils/cgi.js");var ne=[];var U={};U.setAvg=function(L,O,g){ne.push(L+"_"+O+"_"+g);ne.push(L+"_"+(O-1)+"_1");return U};U.setSum=function(L,O,g){ne.push(L+"_"+O+"_"+g);return U};U.send=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ne.length==0){return}var O=L.async===false?false:true;if(ne.length>60){Ce.post({url:"/mp/jsmonitor?",async:O,data:{idkey:ne.join(";")}})}else{var g=[];g.push(ne.splice(0,60));while(ne.length>0){g.push(ne.splice(0,60))}for(var _=0,D=g.length;_<D;_++){var J=new Image;J.src="//mp.weixin.qq.com/mp/jsmonitor?idkey="+g[_].join(";")+"&t="+Math.random()}}ne=[]};return U}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/common/mp_emotion.js":function(Ne,Te,pe){var we;!(we=function(ve,Ce,ne){var U=wx.T;pe("../../packages/mmbizweb-web2-common/common/qq/emoji.js");pe("../../packages/mmbizweb-web2-common/edit_css/widget/emotion_panel.css");pe("./src/htdocs/comm_htmledition/style/widget/ueditor_new/themes/we_emoji.less");var L=pe("../../packages/mmbizweb-web2-common/editor/plugin/insert_sticker/stickerCommonStore.js"),O=L.recent_use_emotions,g=L.getRecentUseEmotions;var _=pe("../../node_modules/.pnpm/@tencent+we-emoji@1.3.13/node_modules/@tencent/we-emoji/dist/index.umd.min.js"),D=_.EmojiPanelData;var J=D;var I=[];for(var P=0;P<J.length;P++){I.push({name:J[P].style,title:J[P].cn,key:J[P].key})}var X=pe("../../packages/mmbizweb-web2-common/tpl/mpEditor/plugin/emotion/other_emotion.html"),te=pe("../../packages/mmbizweb-web2-common/common/qq/Class.js");var Q='<img src="/mpres/zh_CN/htmledition/comm_htmledition/images/pic/common/pic_blank.gif" class="icon_emotion_single {name}" style="background-position: 0 0;" alt="{title}"></img>';var ee=te.declare({init:function F(Y){var z=this;this.selector$=Y;g(function(){z.getEmotionDom();z._initEvent()})},getEmotionDom:function F(){var Y=this;Y.selector$.html(U(X,{smileyData:I,recentSmileyData:O.smiley}));Y._previewArea$=this.selector$.find(".js_emotionPreviewArea")},getEmotionText:function F(Y){return Y.replace(/<img.*?alt=["]{0,1}([^"\s]*).*?>/ig,"$1")},getEmotionHTML:function F(Y){return M(Y)},_getData:function F(Y){return{title:Y.attr("data-title"),name:Y.attr("data-name"),key:Y.attr("data-key")}},_initEvent:function F(){var Y=this;Y.selector$.click(function(z){var R=Y._getData($(z.target));if(!!R.name){Y.clickCB&&Y.clickCB(R)}})},click:function F(Y){this.clickCB=Y},mouseleave:function F(Y){this.mouseleaveCB=Y;return this},mouseover:function F(Y){this.mouseoverCB=Y;return this},show:function F(){this.getEmotionDom();this.selector$.fadeIn()},hide:function F(){this.selector$.fadeOut()}});function M(F){return Q.format(F)}ee.emoji=function(F){F=F||"";return F.emoji()};ee.getEdata=function(){return I};ee.getEmotionHtml=M;ne.exports=ee}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/common/range.js":function(Ne,Te,pe){var we;!(we=function(){var ve=pe("../../packages/web-webapp-common/js/browser.js").browser;var Ce=pe("../../packages/web-webapp-common/js/editor_common_utils.js").utils;var ne=pe("../../packages/web-webapp-common/js/dtd.js").dtd;var U=pe("../../packages/web-webapp-common/js/domUtils.js").domUtils;var L=window.UE.dom;var O="js_pasteword_start";var g="js_pasteword_end";(function(){var _=0,D=U.fillChar,J=U.fillCharReg,I;var P={};function X(z){z.collapsed=z.startContainer&&z.endContainer&&z.startContainer===z.endContainer&&z.startOffset==z.endOffset}function te(z){return!z.collapsed&&z.startContainer.nodeType==1&&z.startContainer===z.endContainer&&z.endOffset-z.startOffset==1}function Q(z,R,N,j){if(!R){return j}try{if(R.nodeType==1&&(ne.$empty[R.tagName]||ne.$nonChild[R.tagName])){N=U.getNodeIndex(R)+(z?0:1);R=R.parentNode}if(z){j.startContainer=R;j.startOffset=N;if(!j.endContainer){j.collapse(true)}}else{j.endContainer=R;j.endOffset=N;if(!j.startContainer){j.collapse(false)}}X(j)}catch(W){}return j}function ee(z,R){var N=z.startContainer,j=z.endContainer,W=z.startOffset,H=z.endOffset,w=z.document,T=w.createDocumentFragment(),k,G;if(N.nodeType==1){N=N.childNodes[W]||(k=N.appendChild(w.createTextNode("")))}if(j.nodeType==1){j=j.childNodes[H]||(G=j.appendChild(w.createTextNode("")))}if(N===j&&N.nodeType==3){T.appendChild(w.createTextNode(N.substringData(W,H-W)));if(R){N.deleteData(W,H-W);z.collapse(true)}return T}var ce,se,ue=T,ye=U.findParents(N,true),xe=U.findParents(j,true);for(var Ae=0;ye[Ae]==xe[Ae];){Ae++}for(var le=Ae,Ge;Ge=ye[le];le++){ce=Ge.nextSibling;if(Ge==N){if(!k){if(z.startContainer.nodeType==3){ue.appendChild(w.createTextNode(N.nodeValue.slice(W)));if(R){N.deleteData(W,N.nodeValue.length-W)}}else{ue.appendChild(!R?N.cloneNode(true):N)}}}else{se=Ge.cloneNode(false);ue.appendChild(se)}while(ce){if(ce===j||ce===xe[le]){break}Ge=ce.nextSibling;ue.appendChild(!R?ce.cloneNode(true):ce);ce=Ge}ue=se}ue=T;if(!ye[Ae]){ue.appendChild(ye[Ae-1].cloneNode(false));ue=ue.firstChild}for(var le=Ae,We;We=xe[le];le++){ce=We.previousSibling;if(We==j){if(!G&&z.endContainer.nodeType==3){ue.appendChild(w.createTextNode(j.substringData(0,H)));if(R){j.deleteData(0,H)}}}else{se=We.cloneNode(false);ue.appendChild(se)}if(le!=Ae||!ye[Ae]){while(ce){if(ce===N){break}We=ce.previousSibling;ue.insertBefore(!R?ce.cloneNode(true):ce,ue.firstChild);ce=We}}ue=se}if(R){z.setStartBefore(!xe[Ae]?xe[Ae-1]:!ye[Ae]?ye[Ae-1]:xe[Ae]).collapse(true)}k&&U.remove(k);G&&U.remove(G);return T}var M=L.Range=function(z){var R=this;R.startContainer=R.startOffset=R.endContainer=R.endOffset=null;R.document=z;R.collapsed=true};function F(z,R){try{if(I&&U.inDoc(I,z)){if(!I.nodeValue.replace(J,"").length){var N=I.parentNode;var j=false;var W=N.getBoundingClientRect().height;U.remove(I);var H=N.getBoundingClientRect().height;if(H<W){j=true}while(N&&U.isEmptyInlineElement(N)&&(ve.safari?!(U.getPosition(N,R)&U.POSITION_CONTAINS):!N.contains(R))){I=N.parentNode;U.remove(N);N=I}var w=function T(k){if(U.isMarkNode(k)){return false}return true};if(N&&(U.getChildCount(N,w)===0||N.innerHTML.replace(J,"").length===0)&&j){N.innerHTML="<br>"}}else{I.nodeValue=I.nodeValue.replace(J,"")}}}catch(T){}}function Y(z,R){var N;z=z[R];while(z&&U.isFillChar(z)){N=z[R];U.remove(z);z=N}}M.prototype={cloneContents:function z(){return this.collapsed?null:ee(this,0)},deleteContents:function z(){var R;if(!this.collapsed){ee(this,1)}if(ve.webkit){R=this.startContainer;if(R.nodeType==3&&!R.nodeValue.length){this.setStartBefore(R).collapse(true);U.remove(R)}}return this},extractContents:function z(){return this.collapsed?null:ee(this,2)},setStart:function z(R,N){return Q(true,R,N,this)},setEnd:function z(R,N){return Q(false,R,N,this)},setStartAfter:function z(R){return this.setStart(R.parentNode,U.getNodeIndex(R)+1)},setStartBefore:function z(R){return this.setStart(R.parentNode,U.getNodeIndex(R))},setEndAfter:function z(R){return this.setEnd(R.parentNode,U.getNodeIndex(R)+1)},setEndBefore:function z(R){return this.setEnd(R.parentNode,U.getNodeIndex(R))},setStartAtFirst:function z(R){return this.setStart(R,0)},setStartAtLast:function z(R){if(R.shadow){return this}return this.setStart(R,R.nodeType==3?R.nodeValue.length:R.childNodes.length)},setEndAtFirst:function z(R){return this.setEnd(R,0)},setEndAtLast:function z(R){return this.setEnd(R,R.nodeType==3?R.nodeValue.length:R.childNodes.length)},selectNode:function z(R){return this.setStartBefore(R).setEndAfter(R)},selectNodeContents:function z(R){return this.setStart(R,0).setEndAtLast(R)},cloneRange:function z(){var R=this;return new M(R.document).setStart(R.startContainer,R.startOffset).setEnd(R.endContainer,R.endOffset)},collapse:function z(R){var N=this;if(R){N.endContainer=N.startContainer;N.endOffset=N.startOffset}else{N.startContainer=N.endContainer;N.startOffset=N.endOffset}N.collapsed=true;return N},shrinkBoundary:function z(R){var N=this,j,W=N.collapsed;function H(w){return w.nodeType==1&&!U.isBookmarkNode(w)&&!ne.$empty[w.tagName]&&!ne.$nonChild[w.tagName]&&U.isContentEditable({node:w,checkParent:true})===1}while(N.startContainer.nodeType==1&&(j=N.startContainer.childNodes[N.startOffset])&&H(j)){N.setStart(j,0)}if(W){return N.collapse(true)}if(!R){while(N.endContainer.nodeType==1&&N.endOffset>0&&(j=N.endContainer.childNodes[N.endOffset-1])&&H(j)){N.setEnd(j,j.childNodes.length)}}return N},getCommonAncestor:function z(R,N){var j=this,W=j.startContainer,H=j.endContainer;if(W===H){if(R&&te(this)){W=W.childNodes[j.startOffset];if(W.nodeType==1)return W}return N&&W.nodeType==3?W.parentNode:W}return U.getCommonAncestor(W,H)},trimBoundary:function z(R){this.txtToElmBoundary();var N=this.startContainer,j=this.startOffset,W=this.collapsed,H=this.endContainer;if(N.nodeType==3){if(j==0){this.setStartBefore(N)}else{if(j>=N.nodeValue.length){this.setStartAfter(N)}else{var w=U.split(N,j);if(N===H){this.setEnd(w,this.endOffset-j)}else if(N.parentNode===H){this.endOffset+=1}this.setStartBefore(w)}}if(W){return this.collapse(true)}}if(!R){j=this.endOffset;H=this.endContainer;if(H.nodeType==3){if(j==0){this.setEndBefore(H)}else{j<H.nodeValue.length&&U.split(H,j);this.setEndAfter(H)}}}return this},txtToElmBoundary:function z(R){function N(j,W){var H=j[W+"Container"],w=j[W+"Offset"];if(H.nodeType==3){if(!w){j["set"+W.replace(/(\w)/,function(T){return T.toUpperCase()})+"Before"](H)}else if(w>=H.nodeValue.length){j["set"+W.replace(/(\w)/,function(T){return T.toUpperCase()})+"After"](H)}}}if(R||!this.collapsed){N(this,"start");N(this,"end")}return this},insertNode:function z(R,N){var j=R,W=1;if(R.nodeType==11){j=R.firstChild;W=R.childNodes.length}this.trimBoundary(true);var H=this.startContainer,w=this.startOffset;var T=H.childNodes[w];if(N){}if(T){H.insertBefore(R,T)}else{H.appendChild(R)}if(j.parentNode===this.endContainer){this.endOffset=this.endOffset+W}return this.setStartBefore(j)},setCursor:function z(R,N){return this.collapse(!R).select(N)},createBookmark:function z(R,N){var j,W=U.createBookmarkNode(this.document,_++);if(!this.collapsed){j=W.cloneNode(true);j.id=U.bookmarkPrefix+"end_"+(N?"":_++)}this.insertNode(W);if(j){this.collapse().insertNode(j).setEndBefore(j)}this.setStartAfter(W);return{start:R?W.id:W,end:j?R?j.id:j:null,id:R}},createPasteBlockContent:function z(R){var N=this.createPasteBookmark();var j=document.createElement("div");j.innerHTML=R;if(U.isBlockElm(j.firstChild)||U.isBlockElm2(j.firstChild)){j.firstChild.insertBefore(N.startNode,j.firstChild.firstChild);P.startNode=true}else{j.insertBefore(N.startNode,j.firstChild);P.startNode=false}if(U.isBlockElm(j.lastChild)||U.isBlockElm2(j.lastChild)){j.lastChild.appendChild(N.endNode);P.endNode=true}else{j.appendChild(N.endNode);P.endNode=false}return j.innerHTML},createPasteBookmark:function z(){var R=document.createElement("span"),N=document.createElement("span");R.id=O;N.id=g;return{startNode:R,endNode:N}},createCollapsePasteBookmark:function z(){var R=document.createElement("span"),N=document.createElement("span");R.id=O;N.id=g;this.insertNode(R);this.collapse().insertNode(N);return{startNode:R,endNode:N}},moveToCollapsePasteBookmark:function z(){var R=this.document.getElementById(O),N=this.document.getElementById(g);this.setStartBefore(R);this.setEndAfter(N);this.deleteContents()},getPasteBookMarkStatus:function z(){return P},getPasteBookMark:function z(){var R=this.document.getElementById(O),N=this.document.getElementById(g);return{startNode:R,endNode:N}},moveToPasteBookmark:function z(R){var N=this.document.getElementById(O),j=this.document.getElementById(g);if(N){if(P.startNode&&N.parentNode){if(N.parentNode&&N===N.parentNode.firstChild&&N.parentNode.nodeName!=="BODY"){this.setStartBefore(N.parentNode)}else if(N.parentNode.parentNode&&N.parentNode.parentNode.nodeName==="BODY"){this.setStartBefore(N)}else{this.setStartBefore(N.parentNode)}}else{this.setStartBefore(N)}}if(j){if(P.endNode&&j.parentNode){if(j.parentNode&&j===j.parentNode.lastChild&&j.parentNode.nodeName!=="BODY"){this.setEndAfter(j.parentNode)}else if(j.parentNode.parentNode&&j.parentNode.parentNode.nodeName==="BODY"){this.setEndAfter(j)}else{this.setEndAfter(j.parentNode)}}else{this.setEndAfter(j)}}if(R){this.deleteContents()}return this},moveToBookmark:function z(R){var N=R.id?this.document.getElementById(R.start):R.start,j=R.end&&R.id?this.document.getElementById(R.end):R.end;if(N){this.setStartBefore(N);U.remove(N)}if(j){this.setEndBefore(j);U.remove(j)}else{this.collapse(true)}return this},enlarge:function z(R,N){var j=U.isBody,W,H,w=this.document.createTextNode("");if(R){H=this.startContainer;if(H.nodeType==1){if(H.childNodes[this.startOffset]){W=H=H.childNodes[this.startOffset]}else{H.appendChild(w);W=H=w}}else{W=H}while(1){if(U.isBlockElm(H)){H=W;while((W=H.previousSibling)&&!U.isBlockElm(W)){H=W}this.setStartBefore(H);break}W=H;H=H.parentNode}H=this.endContainer;if(H.nodeType==1){if(W=H.childNodes[this.endOffset]){H.insertBefore(w,W)}else{H.appendChild(w)}W=H=w}else{W=H}while(1){if(U.isBlockElm(H)){H=W;while((W=H.nextSibling)&&!U.isBlockElm(W)){H=W}this.setEndAfter(H);break}W=H;H=H.parentNode}if(w.parentNode===this.endContainer){this.endOffset--}U.remove(w)}if(!this.collapsed){while(this.startOffset==0){if(N&&N(this.startContainer)){break}if(j(this.startContainer)){break}this.setStartBefore(this.startContainer)}while(this.endOffset==(this.endContainer.nodeType==1?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)){if(N&&N(this.endContainer)){break}if(j(this.endContainer)){break}this.setEndAfter(this.endContainer)}}return this},adjustmentBoundary:function z(){if(!this.collapsed){while(!U.isBody(this.startContainer)&&this.startOffset==this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length&&this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length){this.setStartAfter(this.startContainer)}while(!U.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[this.endContainer.nodeType==3?"nodeValue":"childNodes"].length){this.setEndBefore(this.endContainer)}}return this},applyBlockStyle:function z(){var R=this;var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.collapsed||Object.prototype.toString.call(N.attrs)!=="[object Object]"&&N.removeOrigin!==true){return this}var j=this.trimBoundary().enlarge(false).createBookmark();var W=this.enlarge(true).createBookmark();var H=function n(){U.remove(W.start);U.remove(W.end);R.moveToBookmark(j).adjustmentBoundary()};var w=U.getCommonAncestor(j.start,j.end);if(!w||!w.getElementsByTagName){H();return this}var T=U.getCommonAncestor(W.start,W.end);if(!T||!T.getElementsByTagName){H();return this}var k=U.getCommonAncestor(w,T);if(!k||!k.getElementsByTagName){H();return this}var G=U.getTreeWalker({root:k,whatToShow:window.NodeFilter.SHOW_ALL,filterMarkNode:false,filterFillchar:true,filter:function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t.node.nodeType===1&&t.node.tagName.toLowerCase()==="br"){return false}else if(U.isBookmarkNode(t.node)){return true}else if(U.isMarkNode(t.node)){return false}return true}});if(!G){H();return this}var ce=[];var se=[];var ue=false;var ye=false;while(G.nextNode()){var xe=G.currentNode;if(xe===j.start){ue=true;continue}if(xe===W.start){continue}if(xe===j.end||xe===W.end){if(ye){break}ye=true;continue}if(ue&&U.isBlockElm(xe)){ce.push(xe)}else if(ye){se.push(xe)}}for(var Ae=0,le=se.length;Ae<le;Ae++){var Ge=se[Ae];for(var We=0;We<ce.length;We++){var dt=ce[We];if(Ge===dt||dt.contains(Ge)){ce.splice(We,1);We--}}}if(N.ignoreUnEditable!==false||N.distUnEditableParentAttr!==false){for(var at=0;at<ce.length;at++){var re=ce[at];if(N.ignoreUnEditable!==false&&U.isContentEditable({node:re,checkParent:true})===2){ce.splice(at,1);at--;continue}if(N.distUnEditableParentAttr!==false&&U.isContainUneditable({node:re})){re.setAttribute("data-containuneditable","1")}}}var Ke={};var et="";var Re="";if(Object.prototype.toString.call(N.attrs)==="[object Object]"){for(var Oe in N.attrs){if(Object.prototype.hasOwnProperty.call(N.attrs,Oe)){var a=Oe+":"+N.attrs[Oe]+";";if(U.isUneditableApplyStyle({styleKey:Oe})){et+=a;Ke[Oe]=N.attrs[Oe]}Re+=Oe+":"+N.attrs[Oe]+";"}}}var mt={};var Tt="";var St="";if(Object.prototype.toString.call(N.liAttrs)==="[object Object]"){for(var ct in N.liAttrs){if(Object.prototype.hasOwnProperty.call(N.liAttrs,ct)){var Mt=ct+":"+N.liAttrs[ct]+";";if(U.isUneditableApplyStyle({styleKey:ct})){Tt+=Mt;mt[ct]=N.liAttrs[ct]}St+=ct+":"+N.liAttrs[ct]+";"}}}var Bt={};var Rt="";var fe="";if(Object.prototype.toString.call(N.listAttrs)==="[object Object]"){for(var f in N.listAttrs){if(Object.prototype.hasOwnProperty.call(N.listAttrs,f)){var E=f+":"+N.listAttrs[f]+";";if(U.isUneditableApplyStyle({styleKey:f})){Rt+=E;Bt[f]=N.listAttrs[f]}fe+=f+":"+N.listAttrs[f]+";"}}}for(var B=0,m=ce.length;B<m;B++){var u=ce[B];var o=et;var d=Ke;var s=Re;var e=N.attrs;if(St&&u.nodeName.toLowerCase()==="li"){o=Tt;d=mt;s=St;e=N.liAttrs}else if(fe&&/^(ol)|(ul)$/i.test(u.nodeName)){o=Rt;d=Bt;s=fe;e=N.listAttrs}if(u.getAttribute("data-containuneditable")==="1"){if(N.removeOrigin===true){u.style.cssText=o;if(!o){u.removeAttribute("style")}}else if(o){U.setStyles(u,d)}u.removeAttribute("data-containuneditable")}else{if(N.removeOrigin===true){u.style.cssText=s;if(!s){u.removeAttribute("style")}}else if(s){U.setStyles(u,e)}}}H();return this},applyInlineStyle:function z(R,N,j){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!R){return this}if(this.collapsed)return this;this.trimBoundary().enlarge(false,function(et){return et.nodeType==1&&U.isBlockElm(et)}).adjustmentBoundary();var H=this.createBookmark(),w=H.end,T=function et(Re){if(W.ignoreUnEditable===true&&U.isContentEditable({node:Re,checkParent:true})===2){return false}return Re.nodeType==1?Re.tagName.toLowerCase()!="br":!U.isWhitespace(Re)},k=U.getNextDomNode(H.start,false,T),G,ce,se=this.cloneRange();while(k&&U.getPosition(k,w)&U.POSITION_PRECEDING){if(k.nodeType==3||!!ne[R]&&!!ne[R][k.tagName]||U.isMarkNode(k)){se.setStartBefore(k);G=k;while(G&&(G.nodeType==3||!!ne[R]&&!!ne[R][G.tagName]||U.isMarkNode(G))&&G!==w){ce=G;G=U.getNextDomNode(G,G.nodeType==1,null,function(et){return ne[R][et.tagName]})}var ue=se.setEndAfter(ce).extractContents(),ye;if(j&&j.length>0){var xe,Ae;Ae=xe=j[0].cloneNode(false);for(var le=1,Ge;Ge=j[le++];){xe.appendChild(Ge.cloneNode(false));xe=xe.firstChild}ye=xe}else{ye=se.document.createElement(R)}if(N){U.setAttributes(ye,N)}ye.appendChild(ue);se.insertNode(j?Ae:ye);var We;if(R=="span"&&N.style&&/text\-decoration/.test(N.style)&&(We=U.findParentByTagName(ye,"a",true))){U.setAttributes(We,N);U.remove(ye,true);ye=We}else{U.mergeSibling(ye);U.clearEmptySibling(ye)}U.mergeChild(ye,N);k=U.getNextDomNode(ye,false,T);var dt=ye.parentNode;U.mergeToParent(ye);if(W.liStyle&&ye.parentNode){if(!U.inDoc(ye,this.document)){ye=dt}var at=U.findParentByTagName(ye,"li");if(at){var re=U.replaceFillChar(ye.innerText||"").replace(/\n+$/g,"");var Ke=U.replaceFillChar(at.innerText||"").replace(/\n+$/g,"");if(Ke===re){U.setStyles(at,W.liStyle)}}}if(G===w){break}}else{k=U.getNextDomNode(k,true,T)}}return this.moveToBookmark(H)},calParentFontSize:function z(){try{}catch(R){}},removeInlineStyle:function z(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.collapsed)return this;R=Ce.isArray(R)?R:[R];this.shrinkBoundary().adjustmentBoundary();var j=this.startContainer,W=this.endContainer;while(1){if(j.nodeType==1){if(Ce.indexOf(R,j.tagName.toLowerCase())>-1){break}if(j.tagName.toLowerCase()=="body"){j=null;break}}j=j.parentNode}while(1){if(W.nodeType==1){if(Ce.indexOf(R,W.tagName.toLowerCase())>-1){break}if(W.tagName.toLowerCase()=="body"){W=null;break}}W=W.parentNode}var H=this.createBookmark(),w,T;if(j&&(N.ignoreUnEditable!==true||U.isContentEditable({node:j,checkParent:true})!==2)){T=this.cloneRange().setEndBefore(H.start).setStartBefore(j);w=T.extractContents();T.insertNode(w);U.clearEmptySibling(j,true);j.parentNode.insertBefore(H.start,j)}if(W&&(N.ignoreUnEditable!==true||U.isContentEditable({node:W,checkParent:true})!==2)){T=this.cloneRange().setStartAfter(H.end).setEndAfter(W);w=T.extractContents();T.insertNode(w);U.clearEmptySibling(W,false,true);W.parentNode.insertBefore(H.end,W.nextSibling)}var k=U.getNextDomNode(H.start,false,function(ue){return ue.nodeType==1}),G;while(k&&k!==H.end){G=U.getNextDomNode(k,true,function(ue){return ue.nodeType==1});if(Ce.indexOf(R,k.tagName.toLowerCase())>-1&&(N.ignoreUnEditable!==true||U.isContentEditable({node:k,checkParent:true})!==2)){if(N.liStyle){var ce=U.findParentByTagName(k,"li");if(ce){for(var se in N.liStyle){if(N.liStyle.hasOwnProperty(se)&&U.getStyle(ce,se)===N.liStyle[se]){U.removeStyle(ce,se)}}}}U.remove(k,true)}k=G}return this.moveToBookmark(H)},getClosedNode:function z(){var R;if(!this.collapsed){var N=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(te(N)){var j=N.startContainer.childNodes[N.startOffset];if(j&&j.nodeType==1&&(ne.$empty[j.tagName]||ne.$nonChild[j.tagName])){R=j}}}return R},select:ve.ie?function(z,R){var N;if(!this.collapsed){this.shrinkBoundary()}var j=this.getClosedNode();if(j&&!R){try{N=this.document.body.createControlRange();N.addElement(j);N.select()}catch(ce){}return this}var W=this.createBookmark(),H=W.start,w;N=this.document.body.createTextRange();N.moveToElementText(H);N.moveStart("character",1);if(!this.collapsed){var T=this.document.body.createTextRange();w=W.end;T.moveToElementText(w);N.setEndPoint("EndToEnd",T)}else{if(!z&&this.startContainer.nodeType!=3){var k=this.document.createTextNode(D),G=this.document.createElement("span");G.appendChild(this.document.createTextNode(D));H.parentNode.insertBefore(G,H);H.parentNode.insertBefore(k,H);F(this.document,k);I=k;Y(G,"previousSibling");Y(H,"nextSibling");N.moveStart("character",-1);N.collapse(true)}}this.moveToBookmark(W);G&&U.remove(G);try{N.select()}catch(ce){}return this}:function(z){function R(se){function ue(ye,xe,Ae){if(ye.nodeType==3&&ye.nodeValue.length<xe){se[Ae+"Offset"]=ye.nodeValue.length}}ue(se.startContainer,se.startOffset,"start");ue(se.endContainer,se.endOffset,"end")}var N=U.getWindow(this.document),j=N.getSelection(),W;ve.gecko?this.document.body.focus():N.focus();if(j){j.removeAllRanges();if(!this.startContainer){return}if(this.collapsed&&!z){var H=this.startContainer,w=H;if(H.nodeType==1){w=H.childNodes[this.startOffset]}if(!(H.nodeType==3&&this.startOffset)&&(w?!w.previousSibling||w.previousSibling.nodeType!=3:!H.lastChild||H.lastChild.nodeType!=3)){W=this.document.createTextNode(D);var T=this.cloneRange();this.insertNode(W);F(this.document,W);Y(W,"previousSibling");Y(W,"nextSibling");if(W.parentNode.tagName.toLowerCase()!=="body"&&!/^[uo]l/i.test(W.parentNode.tagName)&&(!W.nextSibling||!U.isUneditablePluginNode({node:W.nextSibling}))&&(!W.previousSibling||!U.isUneditablePluginNode({node:W.previousSibling}))&&U.isContentEditable({node:W,checkParent:true})!==2){I=W;this.setStart(W,ve.webkit?1:0).collapse(true)}else{W.parentNode.removeChild(W);this.startContainer=T.startContainer;this.endContainer=T.endContainer;this.startOffset=T.startOffset;this.endOffset=T.endOffset;this.collapsed=T.collapsed}}}var k=this.document.createRange();if(this.collapsed&&ve.opera&&this.startContainer.nodeType==1){var w=this.startContainer.childNodes[this.startOffset];if(!w){w=this.startContainer.lastChild;if(w&&U.isBr(w)){this.setStartBefore(w).collapse(true)}}else{while(w&&U.isBlockElm(w)){if(w.nodeType==1&&w.childNodes[0]){w=w.childNodes[0]}else{break}}w&&this.setStartBefore(w).collapse(true)}}R(this);if(!U.isBody(this.startContainer)){var G=this.startContainer.parentElement,ce=false;while(!!G){if(G===this.document.body){ce=true;break}G=G.parentElement}if(!ce){return}}try{k.setStart(this.startContainer,this.startOffset);k.setEnd(this.endContainer,this.endOffset);j.addRange(k)}catch(se){}}return this},scrollToView:function z(R,N){R=R?window:U.getWindow(this.document);var j=this,W=j.document.createElement("span");W.innerHTML="&nbsp;";j.cloneRange().insertNode(W);U.scrollToView(W,R,N);U.remove(W);return j},inFillChar:function z(){var R=this.startContainer;if(this.collapsed&&R.nodeType==3&&R.nodeValue.replace(new RegExp("^"+U.fillChar),"").length+1==R.nodeValue.length){return true}return false},createDomAddress:function z(R,N){var j={},W=this;if(!W.startContainer||!R&&!W.endContainer){return null}var H=this.createAddress(R,N);function w(T){var k=U.findParents(T,true,function(ue){return!U.isBody(ue)}),G=[];for(var ce=0,se;se=k[ce++];){G.push(se.nodeName.toUpperCase())}return G}if(!!H.startAddress){j.startAddress={index:H.startAddress,name:w(W.startContainer)}}if(!!H.endAddress){j.endAddress={index:H.endAddress,name:w(W.endContainer)}}return j},moveToDomAddress:function z(R,N){var j=this;function W(H,w){var T=j.document.body,k,G;for(var ce=0,se,ue=H.index.length;ce<ue;ce++){se=H.index[ce];k=T;T=T.childNodes[se];if(!T){G=se;break}else if(typeof H.name[ce]!="undefined"&&T.nodeName.toUpperCase()!=H.name[ce]){T=null;G=se;break}}if(w){if(T){j.setStartBefore(T)}else{j.setStart(k,G)}}else{if(T){j.setEndBefore(T)}else{j.setEnd(k,G)}}}W(R.startAddress,true);!N&&R.endAddress&&W(R.endAddress);return j},createAddress:function z(R,N){var j={},W=this;function H(w){var T=w?W.startContainer:W.endContainer;var k=U.findParents(T,true,function(Ae){return!U.isBody(Ae)}),G=[];for(var ce=0,se;se=k[ce++];){G.push(U.getNodeIndex(se,N))}var ue=0;if(N){if(T.nodeType==3){var ye=T.previousSibling;while(ye&&ye.nodeType==3){ue+=ye.nodeValue.replace(J,"").length;ye=ye.previousSibling}ue+=w?W.startOffset:W.endOffset}else{T=T.childNodes[w?W.startOffset:W.endOffset];if(T){ue=U.getNodeIndex(T,N)}else{T=w?W.startContainer:W.endContainer;var xe=T.firstChild;while(xe){if(U.isFillChar(xe)){xe=xe.nextSibling;continue}ue++;if(xe.nodeType==3){while(xe&&xe.nodeType==3){xe=xe.nextSibling}}else{xe=xe.nextSibling}}}}}else{ue=w?U.isFillChar(T)?0:W.startOffset:W.endOffset}if(ue<0){ue=0}G.push(ue);return G}j.startAddress=H(true);if(!R){j.endAddress=W.collapsed?[].concat(j.startAddress):H()}return j},moveToAddress:function z(R,N){var j=this;function W(H,w){var T=j.document.body,k,G;for(var ce=0,se,ue=H.length;ce<ue;ce++){se=H[ce];k=T;T=T.childNodes[se];if(!T){G=se;break}}if(w){if(T){j.setStartBefore(T)}else{j.setStart(k,G)}}else{if(T){j.setEndBefore(T)}else{j.setEnd(k,G)}}}W(R.startAddress,true);!N&&R.endAddress&&W(R.endAddress);return j},equals:function z(R){for(var N in this){if(this.hasOwnProperty(N)){if(this[N]!==R[N])return false}}return true},traversal:function z(R,N){if(this.collapsed)return this;var j=this.createBookmark(),W=j.end,H=U.getNextDomNode(j.start,false,N);while(H&&H!==W&&U.getPosition(H,W)&U.POSITION_PRECEDING){var w=U.getNextDomNode(H,false,N);R(H);H=w}return this.moveToBookmark(j)},getRangeText:function z(){var R=[];var N=this.createBookmark();var j=this.getRangeDom();if(j&&j.length){for(var W=0;W<j.length;W++){if(j[W].nodeType===3){R.push(j[W].nodeValue)}}}this.moveToBookmark(N);return R.join("")},getRangeDom:function z(){if(!this.startContainer||!this.endContainer){return null}this.adjustmentBoundary();var R=null;var N=null;if(this.startContainer.nodeType===1){R=this.startContainer.childNodes[this.startOffset]}else{R=this.startContainer}if(this.endContainer.nodeType===1){N=this.endContainer.childNodes[this.endOffset-1]}else{N=this.endContainer}if(!R||!N){return null}if(R&&N&&N===R){if(R.getElementsByTagName){var j=U.getElementsByTagName(R,"*");j.unshift(R);return j}else{return[R]}}var W=U.getCommonAncestor(R,N);if(!W||!W.getElementsByTagName){return null}var H=N.lastChild||N;var w=U.getTreeWalker({root:W,whatToShow:window.NodeFilter.SHOW_ALL,filterMarkNode:false,filterFillchar:false});if(!w){return null}var T=[];var k=null;while(w.nextNode()){var G=w.currentNode;if(G===R){k=true}else if(G===H){k=false}if(k!==null){if(!U.isFillChar2(G)&&!U.isMarkNode(G)){T.push(G)}if(k===false){break}}}return T},enlargeUnEditable:function z(){var R=null;var N=null;if(this.startContainer&&this.startContainer.nodeType===1){R=this.startContainer.childNodes[this.startOffset]}else if(this.startContainer){R=this.startContainer}if(this.endContainer&&this.endContainer.nodeType===1){N=this.endContainer.childNodes[this.endOffset-1]}else if(this.endContainer){N=this.endContainer}if(R){var j=U.getContentEditableNode({node:R,isMarkNode:false});if(j&&j!==R){this.setStartBefore(j)}}if(N){var W=U.getContentEditableNode({node:N,isMarkNode:false});if(W&&W!==N){this.setEndAfter(W)}}return this},adjustUnEditable:function z(){return this}}})();return{Range:L.Range}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/common/selection.js":function(Ne,Te,pe){var we;!(we=function(){var ve=pe("../../packages/web-webapp-common/js/browser.js").browser;var Ce=pe("../../packages/web-webapp-common/js/editor_common_utils.js").utils;var ne=pe("../../packages/web-webapp-common/js/dtd.js").dtd;var U=pe("../../packages/web-webapp-common/js/domUtils.js").domUtils;var L=pe("../../packages/mmbizweb-web2-common/editor/common/range.js").Range;var O=window.UE.dom;(function(){function g(I,P){var X=U.getNodeIndex;I=I.duplicate();I.collapse(P);var te=I.parentElement();if(!te.hasChildNodes()){return{container:te,offset:0}}var Q=te.children,ee,M=I.duplicate(),F=0,Y=Q.length-1,z=-1,R;while(F<=Y){z=Math.floor((F+Y)/2);ee=Q[z];M.moveToElementText(ee);var N=M.compareEndPoints("StartToStart",I);if(N>0){Y=z-1}else if(N<0){F=z+1}else{return{container:te,offset:X(ee)}}}if(z==-1){M.moveToElementText(te);M.setEndPoint("StartToStart",I);R=M.text.replace(/(\r\n|\r)/g,"\n").length;Q=te.childNodes;if(!R){ee=Q[Q.length-1];return{container:ee,offset:ee.nodeValue.length}}var j=Q.length;while(R>0){R-=Q[--j].nodeValue.length}return{container:Q[j],offset:-R}}M.collapse(N>0);M.setEndPoint(N>0?"StartToStart":"EndToStart",I);R=M.text.replace(/(\r\n|\r)/g,"\n").length;if(!R){return ne.$empty[ee.tagName]||ne.$nonChild[ee.tagName]?{container:te,offset:X(ee)+(N>0?0:1)}:{container:ee,offset:N>0?0:ee.childNodes.length}}while(R>0){try{var W=ee;ee=ee[N>0?"previousSibling":"nextSibling"];R-=ee.nodeValue.length}catch(H){return{container:te,offset:X(W)}}}return{container:ee,offset:N>0?-R:ee.nodeValue.length+R}}function _(I,P){if(I.item){P.selectNode(I.item(0))}else{var X=g(I,true);P.setStart(X.container,X.offset);if(I.compareEndPoints("StartToEnd",I)!=0){X=g(I,false);P.setEnd(X.container,X.offset)}}return P}function D(I){var P;try{P=I.getNative().createRange()}catch(te){return null}var X=P.item?P.item(0):P.parentElement();if((X.ownerDocument||X)===I.document){return P}return null}var J=O.Selection=function(I){var P=this,X;P.document=I;if(ve.ie9below){X=U.getWindow(I).frameElement;U.on(X,"beforedeactivate",function(){P._bakIERange=P.getIERange()});U.on(X,"activate",function(){try{if(!D(P)&&P._bakIERange){P._bakIERange.select()}}catch(te){}P._bakIERange=null})}X=I=null};J.prototype={rangeInBody:function I(P,X){var te=ve.ie9below||X?P.item?P.item():P.parentElement():P.startContainer;return te===this.document.body||U.inDoc(te,this.document)},getNative:function I(){var P=this.document;try{return!P?null:ve.ie9below?P.selection:U.getWindow(P).getSelection()}catch(X){return null}},getIERange:function I(){var P=D(this);if(!P){if(this._bakIERange){return this._bakIERange}}return P},cache:function I(){this.clear();this._cachedRange=this.getRange();this._cachedStartElement=this.getStart();this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function I(){if(this._cachedStartElementPath){return this._cachedStartElementPath}var P=this.getStart();if(P){return U.findParents(P,true,null,true)}return[]},clear:function I(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function I(){try{if(ve.ie9below){var P=D(this);return!!(P&&this.rangeInBody(P))}else{return!!this.getNative().rangeCount}}catch(X){return false}},getRange:function I(){var P=this;function X(Y){var z=P.document.body.firstChild,R=Y.collapsed;while(z&&z.firstChild){Y.setStart(z,0);z=z.firstChild}if(!Y.startContainer){Y.setStart(P.document.body,0)}if(R){Y.collapse(true)}}if(P._cachedRange!=null){return this._cachedRange.enlargeUnEditable()}var te=new O.Range(P.document);if(ve.ie9below){var Q=P.getIERange();if(Q){try{_(Q,te)}catch(Y){X(te)}}else{X(te)}}else{var ee=P.getNative();if(ee&&ee.rangeCount){var M=ee.getRangeAt(0);var F=ee.getRangeAt(ee.rangeCount-1);te.setStart(M.startContainer,M.startOffset).setEnd(F.endContainer,F.endOffset);if(te.collapsed&&U.isBody(te.startContainer)&&!te.startOffset){X(te)}}else{if(this._bakRange&&U.inDoc(this._bakRange.startContainer,this.document)){return this._bakRange.enlargeUnEditable()}X(te)}}te.enlargeUnEditable();return this._bakRange=te},getStart:function I(){if(this._cachedStartElement){return this._cachedStartElement}var P=ve.ie9below?this.getIERange():this.getRange(),X,te,Q,ee;if(ve.ie9below){if(!P){return this.document.body.firstChild}if(P.item){return P.item(0)}X=P.duplicate();X.text.length>0&&X.moveStart("character",1);X.collapse(1);te=X.parentElement();ee=Q=P.parentElement();while(Q=Q.parentNode){if(Q==te){te=ee;break}}}else{P.shrinkBoundary();te=P.startContainer;if(te.nodeType==1&&te.hasChildNodes()){te=te.childNodes[Math.min(te.childNodes.length-1,P.startOffset)]}if(te.nodeType==3){return te.parentNode}}return te},getText:function I(){var P,X;if(this.isFocus()&&(P=this.getNative())){X=ve.ie9below?P.createRange():P.getRangeAt(0);return ve.ie9below?X.text:X.toString()}return""},clearRange:function I(){this.getNative()[ve.ie9below?"empty":"removeAllRanges"]()}}})();return{Selection:O.Selection}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/editor_all_min.js":function(Ne,Te,pe){var we;function ve(I,P,X){P=Ce(P);if(P in I){Object.defineProperty(I,P,{value:X,enumerable:true,configurable:true,writable:true})}else{I[P]=X}return I}function Ce(I){var P=ne(I,"string");return J(P)==="symbol"?P:String(P)}function ne(I,P){if(J(I)!=="object"||I===null)return I;var X=I[Symbol.toPrimitive];if(X!==void 0){var te=X.call(I,P||"default");if(J(te)!=="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(I)}function U(I){return _(I)||g(I)||O(I)||L()}function L(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(I,P){if(!I)return;if(typeof I==="string")return D(I,P);var X=Object.prototype.toString.call(I).slice(8,-1);if(X==="Object"&&I.constructor)X=I.constructor.name;if(X==="Map"||X==="Set")return Array.from(I);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return D(I,P)}function g(I){if(typeof Symbol!=="undefined"&&I[Symbol.iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}function _(I){if(Array.isArray(I))return D(I)}function D(I,P){if(P==null||P>I.length)P=I.length;for(var X=0,te=new Array(P);X<P;X++)te[X]=I[X];return te}function J(I){"@babel/helpers - typeof";return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},J(I)}!(we=function(I,P,X){var te=pe("../../packages/mmbizweb-web2-common/editor/common/clear_dom.js");var Q=pe("../../packages/mmbizweb-web2-common/editor/plugin/filter.js");var ee=pe("../../packages/mmbizweb-web2-common/editor/common/colorpicker.js");var M=pe("../../packages/mmbizweb-web2-common/editor/common/monitor.js");var F=pe("../../packages/mmbizweb-web2-common/biz_common/utils/wxgspeedsdk.js");var Y=pe("../../packages/mmbizweb-web2-common/modules/utils/comm_store.js");var z=pe("../../packages/mmbizweb-web2-common/media/common.js");var R=pe("../../packages/mmbizweb-web2-common/common/wx/Cgi.js");var N=pe("../../packages/mmbizweb-web2-common/editor/common/init_custom.js"),j=N.commonCardOptions;var W=pe("../../packages/web-webapp-common/js/auto_type_setting.js"),H=W.autoTypeSettingFilter,w=W.isFromLocalAppPaste,T=W.resloveImgPluginMarginBottom;pe("../../packages/mmbizweb-web2-common/editor/filter_plugin.js");var k=1024*2;var G="wx_search_keyword";if(!window.baidu){window.baidu={}}var fe=window.baidu;if(!window.UE){window.UE={}}if(!UE.dom){UE.dom={}}var ce,se,ue={},ye,xe;var Ae=UE.dom;fe.editor=window.UE;UE.plugins={};UE.commands={};UE.instants={};UE.I18N={};UE.version="1.2.6.3";var le=pe("../../packages/web-webapp-common/js/browser.js").browser;var Ge=le.ie,We=le.webkit,dt=le.gecko,at=le.opera;var re=pe("../../packages/web-webapp-common/js/editor_common_utils.js").utils;var Ke=UE.EventBase=function(){};Ke.prototype={addListener:function f(E,B){E=re.trim(E).split(" ");for(var m=0,u;u=E[m++];){et(this,u,true).push(B)}},removeListener:function f(E,B){E=re.trim(E).split(" ");for(var m=0,u;u=E[m++];){re.removeItem(et(this,u)||[],B)}},fireEvent:function f(){var E=arguments[0];E=re.trim(E).split(" ");for(var B=0,m;m=E[B++];){try{if(re.isArray(this.eventLog)){this.eventLog.push({time:+new Date,name:m,param:JSON.stringify(arguments).substr(0,200),error:false,errorLog:""})}}catch(t){}var u=et(this,m),o,d,s;if(u){s=u.length;while(s--){if(!u[s])continue;try{d=u[s].apply(this,arguments)}catch(t){if(re.isArray(this.eventLog)){var e=this.eventLog.length,n=this.eventLog[e-1];if(n&&n.name==m){n.error=true;n.errorLog+=t&&t.stack?t.stack:""}}if(typeof window.WX_BJ_REPORT!=="undefined"&&window.WX_BJ_REPORT.BadJs&&t&&t.stack){window.WX_BJ_REPORT.BadJs.report("EventError","editor_fireEvent|".concat(m),{mid:window.PAGE_MID,stack:t.stack})}if(t.stack&&console&&console.error){}}if(d===true){return d}if(d!==void 0){o=d}}}if(d=this["on"+m.toLowerCase()]){try{o=d.apply(this,arguments)}catch(t){if(typeof window.WX_BJ_REPORT!=="undefined"&&window.WX_BJ_REPORT.BadJs&&t&&t.stack){window.WX_BJ_REPORT.BadJs.report("EventError","editor_fireEvent|on".concat(m.toLowerCase()),{mid:window.PAGE_MID,stack:t.stack})}if(t.stack&&console&&console.error){}}}}return o}};function et(f,E,B){var m;E=E.toLowerCase();return(m=f.__allListeners||B&&(f.__allListeners={}))&&(m[E]||B&&(m[E]=[]))}var Re=pe("../../packages/web-webapp-common/js/dtd.js").dtd;var Oe=pe("../../packages/web-webapp-common/js/domUtils.js");var a=Oe.domUtils;var mt=Oe.getDomNode;var Tt=Oe.fillChar;var St=Oe.fillCharEncode;var ct=Oe.fillCharReg;pe("../../packages/mmbizweb-web2-common/editor/common/selection.js");(function(){var f=0,E;function B(s,e){var n;if(e.textarea){if(re.isString(e.textarea)){for(var t=0,i,r=a.getElementsByTagName(s,"textarea");i=r[t++];){if(i.id=="ueditor_textarea_"+e.options.textarea){n=i;break}}}else{n=e.textarea}}if(!n){s.appendChild(n=a.createElement(document,"textarea",{"name":e.options.textarea,"id":"ueditor_textarea_"+e.options.textarea,"style":"display:none"}));e.textarea=n}n.value=e.hasContents()?e.options.allHtmlEnabled?e.getAllHtml():e.getContent(null,null,true):""}function m(s){for(var e in UE.plugins){UE.plugins[e].call(s)}if(s.options.pluginsContainer){for(var e in s.options.pluginsContainer){s.options.pluginsContainer[e].call(s)}}s.langIsReady=true;s.fireEvent("langReady")}function u(s){for(var e in s){return e}}function o(s,e){if(s.childNodes&&s.childNodes.length){for(var n=0,t;t=s.childNodes[n];){nodeTraversal(t,e);if(t.parentNode){if(t.childNodes&&t.childNodes.length){e(t)}if(t.parentNode)n++}}}else{e(s)}}var d=UE.Editor=function(s){var e=this;e.uid=f++;Ke.call(e);e.commands={};e.options=re.clone(s||{});e.shortcutkeys={};e.inputRules=[];e.outputRules=[];e.inputNativeNodeRules=[];if(!re.isEmptyObject(UE.I18N)){e.options.lang=u(UE.I18N);m(e)}else{m(e)}UE.instants["ueditorInstant"+e.uid]=e};d.prototype={ready:function s(e){var n=this;if(e){n.isReady?e.apply(n):n.addListener("ready",e)}},setOpt:function s(e,n){var t={};if(re.isString(e)){t[e]=n}else{t=e}re.extend(this.options,t,true)},destroy:function s(){var e=this;e.fireEvent("destroy");var n=e.container.parentNode;var t=e.textarea;if(!t){t=document.createElement("textarea");n.parentNode.insertBefore(t,n)}else{t.style.display=""}t.style.width=e.iframe.offsetWidth+"px";t.style.height=e.iframe.offsetHeight+"px";t.value=e.getContent();t.id=e.key;n.innerHTML="";a.remove(n);var i=e.key;for(var r in e){if(e.hasOwnProperty(r)){delete this[r]}}UE.delEditor(i)},render:function s(e){var n=this,t=n.options,i=function l(c){return parseInt(a.getComputedStyle(e,c))};if(re.isString(e)){e=document.getElementById(e)}if(e){var r="";if(le.edge){r="javascript:void(function(){"+(t.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'window.parent.UE.instants["ueditorInstant'+n.uid+'"]._docWrite(document);}())'}else{r="javascript:void(function(){document.open();"+(t.customDomain&&document.domain!=location.hostname?'document.domain="'+document.domain+'";':"")+'document.write("'+n._getIframeHtml()+'");document.close();}())'}e.appendChild(a.createElement(document,"iframe",{id:"ueditor_"+n.uid,allowtransparency:"true",width:"100%",height:"100%",frameborder:"0",src:r}))}},_findLinkTag:function s(e){var n=/<link[^>]*>/g;var t=e.match(n);return t?t[0]:""},_extractHrefFromLinkTag:function s(e){var n=/href="([^"]*)"/;var t=e.match(n);if(t){return t[1]}return""},_getIframeHtml:function s(){var e=this;var n=e.options;var t=document.getElementById("iframe_editor_tmpl");var i="";if(t){var r=this._findLinkTag(t.innerHTML);i=this._extractHrefFromLinkTag(r)}else{i=n.iframeCssUrl}var l=(Ge&&le.version<9?"":"<!DOCTYPE html>")+"<html style='padding-left: 95px; padding-right: 95px;' xmlns='http://www.w3.org/1999/xhtml' ><head><style type='text/css'>body{font-family:sans-serif;}</style>"+(i?"<link rel='stylesheet' type='text/css' href='"+re.unhtml(i)+"'/>":"")+(n.initialStyle?"<style>"+n.initialStyle+"</style>":"")+"</head><body class='view rich_media_content' lang='en' ></body><script type='text/javascript' "+(Ge?"defer='defer'":"")+" id='_initialScript'>setTimeout(function(){window.parent.UE.instants['ueditorInstant"+e.uid+"']._setup(document);},0);var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);<\/script></html>";return l},_docWrite:function s(e){var n=this,t=n.options;e.open();if(t.customDomain&&document.domain!=location.hostname){e.domain=document.domain}e.write(n._getIframeHtml());e.close()},_setup:function s(e){try{var n=this,t=n.options;if(Ge){e.body.disabled=true;e.body.contentEditable=true;e.body.disabled=false}else{e.body.contentEditable=true}e.body.spellcheck=false;n.document=e;n.window=e.defaultView||e.parentWindow;n.iframe=n.window.frameElement;n.body=e.body;n.selection=new Ae.Selection(e);var i;if(le.gecko&&(i=this.selection.getNative())){i.removeAllRanges()}this._initEvents();for(var r=this.iframe.parentNode;!a.isBody(r);r=r.parentNode){if(r.tagName=="FORM"){n.form=r;if(n.options.autoSyncData){a.on(n.window,"blur",function(){B(r,n)})}else{a.on(r,"submit",function(){B(this,n)})}break}}if(t.initialContent){if(t.autoClearinitialContent){var l=n.execCommand;n.execCommand=function(){n.fireEvent("firstBeforeExecCommand");return l.apply(n,arguments)};this._setDefaultContent(t.initialContent)}else{this.setContent(t.initialContent,false,true)}}if(t.customClass){if(typeof t.customClass==="string"){n.body.classList.add(t.customClass)}else if(J(t.customClass)==="object"&&t.customClass.length>0){for(var c=0;c<t.customClass.length;c++){n.body.classList.add(t.customClass[c])}}}if(a.isEmptyNode(n.body)){n.body.innerHTML="<p>"+(le.ie11below?a.fillChar:"<br/>")+"</p>"}if(t.focus){setTimeout(function(){n.focus();!n.options.autoClearinitialContent&&n._selectionChange(null,null,"setup")},0)}if(!n.container){n.container=this.iframe.parentNode}if(t.fullscreen&&n.ui){n.ui.setFullScreen(true)}try{n.document.execCommand("2D-position",false,false)}catch(h){}try{n.document.execCommand("enableInlineTableEditing",false,false)}catch(h){}try{n.document.execCommand("enableObjectResizing",false,false)}catch(h){}n._bindshortcutKeys();n.isReady=1;n.fireEvent("ready");t.onready&&t.onready.call(n);if(!le.ie9below){a.on(n.window,["blur","focus"],function(h){n.body.style.caretColor="";if(h.type=="blur"){n._bakRange=n.selection.getRange();try{n._bakNativeRange=n.selection.getNative().getRangeAt(0);n.selection.getNative().removeAllRanges()}catch(b){n._bakNativeRange=null}}else{try{n._bakRange&&n._bakRange.select(true)}catch(b){}}})}if(le.gecko&&le.version<=10902){n.body.contentEditable=false;setTimeout(function(){n.body.contentEditable=true},100);setInterval(function(){n.body.style.height=n.iframe.offsetHeight-20+"px"},100)}!t.isShow&&n.setHide();t.readonly&&n.setDisabled()}catch(h){if(typeof window.WX_BJ_REPORT!=="undefined"&&window.WX_BJ_REPORT.BadJs){window.WX_BJ_REPORT.BadJs.onError(h)}}},sync:function s(e){var n=this,t=e?document.getElementById(e):a.findParent(n.iframe.parentNode,function(i){return i.tagName=="FORM"},true);t&&B(t,n)},setHeight:function s(e,n){var t=this;var i=20;var r=e;var l=r+i;if(this.options.canChangeIframeHeight&&l!==parseInt(this.iframe.parentNode.style.height)){$(this.iframe).parent().height(l)}!n&&(this.options.minFrameHeight=r);this.options.canChangeIframeHeight&&(this.iframe.style.height=l+"px");this.body.style.height=r+"px";this.fireEvent("heightChanged",r)},reportEslog:function s(e){var n=e.html,t=e.emptyNode,i=e.isDel,r=e.nestCount,l=e.isPaste,c=l===void 0?false:l,h=e.errorInfo,b=h===void 0?"":h,v=e.isError,S=e.isAttr,p=e.length,C=e.isSpecialTag,A=e.isSpanFilted,q=A===void 0?false:A;var K={content0:n.slice(0,4e3),isBig:1,emptyNode:t,isDel:i,bizUin:wx.cgiData.bizUin,appId:wx.cgiData.app_id,length:p,isSpecialTag:C,isAttr:S,isSpanFilted:q};M.setSum("129180","91","1");R.post({url:"/cgi-bin/mp_log",data:K,dataType:"json"},function(V){})},deleteRedundantNode:function s(e){var n=this;var t=e.root;var i=[];var r=function c(h){if(h===null){return}var b=h.children||[];if(h.level!==0&&b.length>100){n.reportEslog({html:h.toHtml(),emptyNode:true,isDel:4});i.push(h);return}for(var v=0;v<b.length;v++){c(b[v])}};r(t);var l=[];i.forEach(function(c){var h=c.children;for(var b=h.length-3;b>=3;b--){var v=h[b];if(!v.innerText()&&!/<(img|svg|mp-common|iframe|cps|br|a|mp|video|audio|path)/.test(v.toHtml())){var S=v.toHtml();if(!l.includes(S)){l.push(S);if(/section|p|h1|h2|h3|strong|span/.test(v.tagName)){n.reportEslog({html:v.toHtml(),emptyNode:true,isDel:2})}else{n.reportEslog({html:v.toHtml(),emptyNode:true,isDel:3})}}if(/section|p|h1|h2|h3|strong|span/.test(v.tagName)){h[b].parentNode.removeChild(h[b]);M.setSum("129180","108","1").send()}}}})},deleteNestNode:function s(e){var n=e.root,t=e.isPaste,i=t===void 0?false:t,r=e.html,l=e.isNeedDelete,c=l===void 0?false:l,h=e.ignoreStyle,b=h===void 0?false:h;var v=0;var S=7;var p=10;var C=[];var A=function q(K){if(K===null){return}if(b){if(K.children&&K.children.length===1&&K.children[0].tagName===K.tagName){K.level=K.parentNode&&K.parentNode.level?K.parentNode.level+1:1;if(K.level>=p){var V=K.toHtml();M.setSum("129180","97","1").send();C.push(K);return}}}else{if(K.children&&K.children.length===1&&K.children[0].tagName===K.tagName&&K.children[0].attrs.style===K.attrs.style){K.level=K.parentNode&&K.parentNode.level?K.parentNode.level+1:1;if(K.level>=S){C.push(K);return}}}var Z=K.children||[];for(var me=0;me<Z.length;me++){q(Z[me])}};n.level=0;A(n);if(b){}else{}if(C.length>0){if(i){M.setSum("129180","84","1")}else{M.setSum("129180","86","1")}M.send();if(c){C.forEach(function(q){var K=b?p-2:S;var V=q;var Z=0;var me=[];while(K){if(V.parentNode&&V.parentNode.parentNode&&V.parentNode.parentNode.children.length===1){var he=V.parentNode.attrs.style;if(he&&!me.includes(he)){me.push(he);V=V.parentNode}else{var oe=V.parentNode.parentNode;V.parentNode=oe;V.parentNode.children[0]=V}}K-=1}V=q;var de=[];de.push(V);while(de.length){var ge=de.pop();if(ge.children&&ge.children.length===1){if(ge.children[0].tagName===ge.tagName){var ke=ge.children[0];if(ke.children&&ke.children.length===1){if(b&&ge.children[0].children[0].tagName===ge.children[0].tagName&&ge.children[0].children[0].children.length===1){var Ie=ge.children[0].attrs.style;if(Ie&&!me.includes(Ie)){me.push(Ie);de.push(ge.children[0])}else{var qe=ge.children[0].children[0];ge.children[0]=qe;qe.parentNode=ge;de.push(ge);Z++}}else{if(ke.children[0].attrs.style===ke.attrs.style){var tt=ge.children[0].children[0];ge.children[0]=tt;tt.parentNode=ge;de.push(ge);Z++}else{de.push(ge.children[0])}}}else if(ke.children&&ke.children.length>1){for(var Je=ke.children.length-1;Je>=0;Je--){de.push(ke.children[Je])}}}else{de.push(ge.children[0])}}else if(ge.children&&ge.children.length>1){for(var He=ge.children.length-1;He>=0;He--){de.push(ge.children[He])}}}})}}},addshortcutkey:function s(e,n){var t={};if(n){t[e]=n}else{t=e}re.extend(this.shortcutkeys,t)},_bindshortcutKeys:function s(){var e=this,n=this.shortcutkeys;var t={Undo:{id:"122325",key:"22"},Redo:{id:"122333",key:"113"}};e.addListener("keydown",function(i,r){var l=r.keyCode||r.which;for(var c in n){var h=n[c].split(",");for(var b=0,v;v=h[b++];){v=v.split(":");var S=v[0],p=v[1];if(/^(ctrl)(\+shift)?\+(\d+)$/.test(S.toLowerCase())||/^(\d+)$/.test(S)){if((RegExp.$1=="ctrl"?r.ctrlKey||r.metaKey:0)&&(RegExp.$2!=""?r[RegExp.$2.slice(1)+"Key"]:1)&&l==RegExp.$3||l==RegExp.$1){if(c==="quicksave"){e.quicksave=true}else{e.quicksave=false}if(e.queryCommandState(c,p)!=-1){e.execCommand(c,p);var C=t[c];if(C){e.fireEvent("reportAddNum",C.id,C.key,1)}}a.preventDefault(r)}}}}})},resetCursorBegin:function s(){var e=this;setTimeout(function(){e.focus();e._selectionChange(null,null,"setup")},0)},textRange:function s(e,n,t){var i=document.createRange();i.setEnd(e,t==null?e.nodeValue.length:t);i.setStart(e,n||0);return i},singleRect:function s(e,n){var t=e.getClientRects();return!t.length?e.getBoundingClientRect():t[n<0?0:t.length-1]},flattenV:function s(e,n){if(e.width==0)return e;var t=n?e.left:e.right;return{top:e.top,bottom:e.bottom,left:t,right:t}},flattenH:function s(e,n){if(e.height==0)return e;var t=n?e.top:e.bottom;return{top:t,bottom:t,left:e.left,right:e.right}},nodeSize:function s(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length},coordsAtPos:function s(e,n,t,i){var r=this;var l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var c=le.webkit||le.gecko;if(e.nodeType==3){if(c&&(l.test(e.nodeValue)||(i<0?!n:n==e.nodeValue.length))){var h=r.singleRect(r.textRange(e,n,n),i);if(le.gecko&&n&&/\s/.test(e.nodeValue[n-1])&&n<e.nodeValue.length){var b=r.singleRect(r.textRange(e,n-1,n-1),-1);if(b.top==h.top){var v=r.singleRect(r.textRange(e,n,n+1),-1);if(v.top!=h.top){return r.flattenV(v,v.left<b.left)}}}return h}var S=n,p=n,C=i<0?1:-1;if(i<0&&!n){p++;C=-1}else if(i>=0&&n==e.nodeValue.length){S--;C=1}else if(i<0){S--}else{p++}return r.flattenV(r.singleRect(r.textRange(e,S,p),C),C<0)}if(n&&(i<0||n==r.nodeSize(e))){var A=e.childNodes[n-1];var q=A.nodeType==3?r.textRange(A,r.nodeSize(A)-(c?0:1)):A.nodeType==1&&(A.nodeName!="BR"||!A.nextSibling)?A:null;if(q)return r.flattenV(r.singleRect(q,1),false)}if(n<r.nodeSize(e)){var K=e.childNodes[n];var V=K.nodeType==3?r.textRange(K,0,c?0:1):K.nodeType==1?K:null;if(V)return r.flattenV(r.singleRect(V,-1),true)}return r.flattenV(r.singleRect(e.nodeType==3?r.textRange(e):e,-i),i>=0)},getContent:function s(e,n,t,i,r,l){var c=this;if(e&&re.isFunction(e)){n=e;e=""}if(n?!n():!this.hasContents()){return""}var h="";if(l==="range"){var b=this.selection.getRange().cloneContents();if(b){var v=document.createElement("div");v.appendChild(b);h=v.innerHTML}}else{h=c.body.innerHTML}c.fireEvent("beforegetcontent");if(!h){return""}var S=UE.htmlparser(h,i);c.filterOutputRule(S);c.fireEvent("aftergetcontent",e);return S.toHtml(r)},getAllHtml:function s(){var e=this,n=[],t="";e.fireEvent("getAllHtml",n);if(le.ie&&le.version>8){var i="";re.each(e.document.styleSheets,function(r){i+=r.href?'<link rel="stylesheet" type="text/css" href="'+r.href+'" />':"<style>"+r.cssText+"</style>"});re.each(e.document.getElementsByTagName("script"),function(r){i+=r.outerHTML})}return"<html><head>"+(e.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+e.options.charset+'"/>':"")+(i||e.document.getElementsByTagName("head")[0].innerHTML)+n.join("\n")+"</head><body "+(Ge&&le.version<9?'class="view rich_media_content"':"")+">"+e.getContent(null,null,true)+"</body></html>"},getPlainTxt:function s(){var e=new RegExp(a.fillChar,"g"),n=this.body.innerHTML.replace(/[\n\r]/g,"");n=n.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(t,i,r){return Re.$block[r]?"\n":i||""});return n.replace(e,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function s(){var e=new RegExp(a.fillChar,"g");return this.body[le.ie?"innerText":"textContent"].replace(e,"").replace(/\u00a0/g," ")},setContent:function s(e,n,t,i,r,l){var c=this;c.fireEvent("beforesetcontent",e);if(e.length>1048576){M.setSum("129180","94","1")}var h=UE.htmlparser(e,true);try{c.deleteNestNode({root:h,html:e,isNeedDelete:true,ignoreStyle:true});c.deleteRedundantNode({root:h})}catch(A){M.setSum("129180","87","1");M.send()}c.filterInputRule(h);e=h.toHtml();c.body.innerHTML=(n?c.body.innerHTML:"")+e;function b(A){return A.tagName=="DIV"&&A.getAttribute("cdata_tag")}if(c.options.enterTag=="p"){var v=this.body.firstChild,S;if(!v||v.nodeType==1&&(Re.$cdata[v.tagName]||b(v)||a.isCustomeNode(v))&&v===this.body.lastChild){this.body.innerHTML="<p>"+(le.ie11below?a.fillChar:"<br/>")+"</p>"+this.body.innerHTML}else{var p=c.document.createElement("p");while(v){while(v&&(v.nodeType==3||v.nodeType==1&&Re.p[v.tagName]&&!Re.$cdata[v.tagName])){S=v.nextSibling;p.appendChild(v);v=S}if(p.firstChild){if(!v){c.body.appendChild(p);break}else{v.parentNode.insertBefore(p,v);p=c.document.createElement("p")}}v=v.nextSibling}}}c.filterInputNativeNode(c.body);c.fireEvent("aftersetcontent",e,[c.body],{setContentForceUpload:i});c.fireEvent("contentchange",{isFromSelect:r,isFromSuccSave:l});!t&&c._selectionChange(null,null,"setContent");c._bakRange=c._bakIERange=c._bakNativeRange=null;var C;if(le.gecko&&(C=this.selection.getNative())){C.removeAllRanges()}if(c.options.autoSyncData){c.form&&B(c.form,c)}},focus:function s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var n=this,t=n.document,i=n.selection.getRange();if(e.toFirstText&&re.isSupportWalker()){var r=t.createTreeWalker(t.body,window.NodeFilter.SHOW_TEXT,{acceptNode:function c(h){var b=(h.nodeValue||"").replace(a.fillCharReg,"").replace(a.bookmarkFillCharReg,"");if(!!b){return window.NodeFilter.FILTER_ACCEPT}return window.NodeFilter.FILTER_REJECT}},false);var l=[];while(r.nextNode()){l.push(r.currentNode);break}if(l.length>0){i.selectNode(l[0]).collapse(true)}}i.select(true);this.fireEvent("focus")}catch(c){}},_initEvents:function s(){var e=this,n=e.document,t=e.window;e._proxyDomEvent=re.bind(e._proxyDomEvent,e);a.on(n,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],e._proxyDomEvent);a.on(t,["focus","blur"],e._proxyDomEvent);a.on(n,["mouseup","keydown"],function(i){if(i.type=="keydown"&&(i.ctrlKey||i.metaKey||i.shiftKey||i.altKey)){return}if(i.button==2)return;e._selectionChange(250,i,i.type)})},_proxyDomEvent:function s(e){if(this.fireEvent("before"+e.type.replace(/^on/,"").toLowerCase(),e)===false){return false}if(this.fireEvent(e.type.replace(/^on/,""),e)===false){return false}return this.fireEvent("after"+e.type.replace(/^on/,"").toLowerCase(),e)},_selectionChange:function s(e,n,t){var i=this;var r=false;var l,c;if(le.ie&&le.version<9&&n&&n.type=="mouseup"){var h=this.selection.getRange();if(!h.collapsed){r=true;l=n.clientX;c=n.clientY}}clearTimeout(E);E=setTimeout(function(){var b=+new Date;if(!i.selection||!i.selection.getNative()){return}var v;if(r&&i.selection.getNative().type=="None"){v=i.document.body.createTextRange();try{v.moveToPoint(l,c)}catch(K){v=null}}var S;if(v){S=i.selection.getIERange;i.selection.getIERange=function(){return v}}i.selection.cache();if(S){i.selection.getIERange=S}if(i.selection._cachedRange&&i.selection._cachedStartElement){var p=i.selection._cachedRange.getRangeDom();i.fireEvent("beforeselectionchange");var C=!!n;if(t==="iframeSelected"||t==="iframeMouseup"){C=true}i.fireEvent("selectionchange",C,false,t,{allDomInRange:p});i.fireEvent("afterselectionchange");i.selection.clear()}var A=+new Date-b;var q=[];q.push({id:"122443",key:"16"});q.push({id:"122443",key:"17",len:A});i.fireEvent("reportAddNum",q)},e||50)},_callCmdFn:function s(e,n){var t=n[0].toLowerCase(),i,r;i=this.commands[t]||UE.commands[t];r=i&&i[e];if((!i||!r)&&e=="queryCommandState"){return 0}else if(r){if(e=="execCommand"&&i.noCommandReprot!==true){this._cmdReport(n)}return r.apply(this,n)}},_cmdReport:function s(e){var n=e[0];if(n=="justify"||n=="imagefloat"){this.fireEvent("funcPvUvReport",n+(e[1]||""))}else if(n=="rowspacing"){this.fireEvent("funcPvUvReport",n+(e[2]||""))}else{this.fireEvent("funcPvUvReport",n)}},execCommand:function s(e){arguments[0]=arguments[0].toLowerCase();var n=arguments[3]&&arguments[3].isUpload;e=e.toLowerCase();var t=this,i,r=t.commands[e]||UE.commands[e];if(!r||!r.execCommand){return null}if(!r.notNeedUndo&&!t.__hasEnterExecCommand){t.__hasEnterExecCommand=true;if(t.queryCommandState.apply(t,arguments)!=-1){t.fireEvent("beforeexeccommand",e);i=this._callCmdFn("execCommand",arguments);if(!window.pluginNames.includes(e)&&!n){if(e==="inserthtml"||e==="quicksave"){setTimeout(function(){!t._ignoreContentChange&&t.fireEvent("contentchange",e)},0)}else{!t._ignoreContentChange&&t.fireEvent("contentchange",e)}}t.fireEvent("afterexeccommand",e)}t.__hasEnterExecCommand=false}else{i=this._callCmdFn("execCommand",arguments);if(!n){!t._ignoreContentChange&&t.fireEvent("contentchange")}}!t._ignoreContentChange&&t._selectionChange(null,null,e);return i},queryCommandState:function s(e){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function s(e){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function s(e){if(e){for(var n=0,t;t=e[n++];){if(this.document.getElementsByTagName(t).length>0){return true}}}if(!a.isEmptyBlock(this.body)){return true}e=["div"];for(n=0;t=e[n++];){var i=a.getElementsByTagName(this.document,t);for(var r=0,l;l=i[r++];){if(a.isCustomeNode(l)){return true}}}return false},reset:function s(){this.fireEvent("reset")},setEnabled:function s(){var e=this,n;if(e.body.contentEditable=="false"){e.body.contentEditable=true;n=e.selection.getRange();try{n.moveToBookmark(e.lastBk);delete e.lastBk}catch(t){n.setStartAtFirst(e.body).collapse(true)}n.select(true);if(e.bkqueryCommandState){e.queryCommandState=e.bkqueryCommandState;delete e.bkqueryCommandState}e.fireEvent("selectionchange",false,false,"setEnabled")}},enable:function s(){return this.setEnabled()},setDisabled:function s(e){var n=this;e=e?re.isArray(e)?e:[e]:[];if(n.body.contentEditable=="true"){if(!n.lastBk){n.lastBk=n.selection.getRange().createBookmark(true)}n.body.contentEditable=false;n.bkqueryCommandState=n.queryCommandState;n.queryCommandState=function(t){if(re.indexOf(e,t)!=-1){return n.bkqueryCommandState.apply(n,arguments)}return-1};n.fireEvent("selectionchange",false,false,"setDisabled")}},disable:function s(e){return this.setDisabled(e)},_setDefaultContent:function(){function s(){var e=this;if(e.document.getElementById("initContent")){e.body.innerHTML="<p>"+(le.ie11below?a.fillChar:"<br/>")+"</p>";e.removeListener("firstBeforeExecCommand focus",s);setTimeout(function(){e.focus();e._selectionChange(null,null,"setDefaultContent")},0)}}return function(e){var n=this;n.body.innerHTML='<p id="initContent">'+e+"</p>";n.addListener("firstBeforeExecCommand focus",s)}}(),setShow:function s(){var e=this,n=e.selection.getRange();if(e.container.style.display=="none"){try{n.moveToBookmark(e.lastBk);delete e.lastBk}catch(t){n.setStartAtFirst(e.body).collapse(true)}setTimeout(function(){n.select(true)},100);e.container.style.display=""}},show:function s(){return this.setShow()},setHide:function s(){var e=this;if(!e.lastBk){e.lastBk=e.selection.getRange().createBookmark(true)}e.container.style.display="none"},hide:function s(){return this.setHide()},getLang:function s(e){var n=UE.I18N[this.options.lang];if(!n){throw Error("not import language file")}e=(e||"").split(".");for(var t=0,i;i=e[t++];){n=n[i];if(!n)break}return n},getContentLength:function s(e,n){var t=this.getContent(false,false,true).length;if(e){n=(n||[]).concat(["hr","img","iframe"]);t=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var i=0,r;r=n[i++];){t+=this.document.getElementsByTagName(r).length}}return t},nativeNodeTraversal:function s(e,n){if(e.childNodes&&e.childNodes.length){o(e)}return e},addInputRule:function s(e){this.inputRules.push(e)},addInputNativeNodeRule:function s(e){this.inputNativeNodeRules.push(e)},filterInputNativeNode:function s(e){for(var n=0,t;t=this.inputNativeNodeRules[n++];){t.call(this,e)}},filterInputRule:function s(e){for(var n=0,t;t=this.inputRules[n++];){t.call(this,e)}},addOutputRule:function s(e){this.outputRules.push(e)},filterOutputRule:function s(e){for(var n=0,t;t=this.outputRules[n++];){t.call(this,e)}}};re.inherits(d,Ke)})();UE.ajax=function(){var f="XMLHttpRequest()";try{new ActiveXObject("Msxml2.XMLHTTP");f="ActiveXObject('Msxml2.XMLHTTP')"}catch(m){try{new ActiveXObject("Microsoft.XMLHTTP");f="ActiveXObject('Microsoft.XMLHTTP')"}catch(u){}}var E=new Function("return new "+f);function B(m){var u=[];for(var o in m){if(o=="method"||o=="timeout"||o=="async")continue;if(!(J(m[o]).toLowerCase()=="function"||J(m[o]).toLowerCase()=="object")){u.push(encodeURIComponent(o)+"="+encodeURIComponent(m[o]))}}return u.join("&")}return{request:function m(u,o){var d=E(),s=false,e={method:"POST",timeout:5e3,async:true,data:{},onsuccess:function c(){},onerror:function c(){}};if(J(u)==="object"){o=u;u=o.url}if(!d||!u)return;var n=o?re.extend(e,o):e;var t=B(n);if(!re.isEmptyObject(n.data)){t+=(t?"&":"")+B(n.data)}var i=setTimeout(function(){if(d.readyState!=4){s=true;d.abort();clearTimeout(i)}},n.timeout);var r=n.method.toUpperCase();var l=u+(u.indexOf("?")==-1?"?":"&")+(r=="POST"?"":t+"&noCache="+ +new Date);d.open(r,l,n.async);d.onreadystatechange=function(){if(d.readyState==4){if(!s&&d.status==200){n.onsuccess(d)}else{n.onerror(d)}}};if(r=="POST"){d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(t)}else{d.send(null)}}}}();var Mt=UE.filterWord=function(){function f(m){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<v:)/ig.test(m)}function E(m){m=m.replace(/[\d.]+\w+/g,function(u){return re.transUnitToPx(u)});return m}function B(m){return m.replace(/[\t\r\n]+/g,"").replace(/<!--[\s\S]*?-->/ig,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(u){if(le.opera){return""}try{var o=u.match(/width:([ \d.]*p[tx])/i)[1],d=u.match(/height:([ \d.]*p[tx])/i)[1],s=u.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+E(o)+'" height="'+E(d)+'" src="'+s+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/ig,function(u,o,d,s){return o=="class"&&s=="MsoListParagraph"?u:""}).replace(/<(font|span)[^>]*>\s*<\/\1>/gi,"").replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(u,o,d,s){var e=[],n=s.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").split(/;\s*/g);for(var t=0,i;i=n[t];t++){var r,l,c=i.split(":");if(c.length==2){r=c[0].toLowerCase();l=c[1].toLowerCase();if(/^(background)\w*/.test(r)&&l.replace(/(initial|\s)/g,"").length==0||/^(margin)\w*/.test(r)&&/^0\w+$/.test(l)){continue}switch(r){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":if(!/<table/.test(o)){e[t]=r.replace(/^mso-|-alt$/g,"")+":"+E(l)}continue;case"horiz-align":e[t]="text-align:"+l;continue;case"vert-align":e[t]="vertical-align:"+l;continue;case"font-color":case"mso-foreground":e[t]="color:"+l;continue;case"mso-background":case"mso-highlight":e[t]="background:"+l;continue;case"mso-default-height":e[t]="min-height:"+E(l);continue;case"mso-default-width":e[t]="min-width:"+E(l);continue;case"mso-padding-between-alt":e[t]="border-collapse:separate;border-spacing:"+E(l);continue;case"text-line-through":if(l=="single"||l=="double"){e[t]="text-decoration:line-through"}continue;case"mso-zero-height":if(l=="yes"){e[t]="display:none"}continue;case"background":break;case"margin":if(!/[1-9]/.test(l)){continue}case"font-family":l=c[1].replace(/'([^\s']+)'/g,"$1");if(!/'([^']+)'/.test(l)){e[t]="font-family:"+l}continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(r)||/text\-indent|padding|margin/.test(r)&&/\-[\d.]+/.test(l)){continue}e[t]=r+":"+c[1]}}return o+(e.length?' style="'+e.join(";").replace(/;{2,}/g,";")+'"':"")}).replace(/[\d]+(\.\d+)?(cm|pt)(?=[^<]*>)/g,function(u){return re.transUnitToPx(u)})}return function(m){return f(m)?B(m):m}}();(function(){var f=UE.uNode=function(r){this.type=r.type;this.data=r.data;this.tagName=r.tagName;this.parentNode=r.parentNode;this.attrs=r.attrs||{};this.children=r.children};var E="    ",B="\n";function m(r,l,c){r.push(B);return l+(c?1:-1)}function u(r,l){for(var c=0;c<l;c++){r.push(E)}}f.createElement=function(r){if(/[<>]/.test(r)){return UE.htmlparser(r).children[0]}return new f({type:"element",children:[],tagName:r})};f.createFillChar=function(r){return new UE.uNode({type:"text","data":a.fillCharEncode})};f.createText=function(r){return new UE.uNode({type:"text","data":re.unhtml(r||"")})};function o(r,l,c,h){switch(r.type){case"root":for(var b=0,v;v=r.children[b++];){if(c&&v.type=="element"&&!Re.$inlineWithA[v.tagName]&&b>1){m(l,h,true);u(l,h)}o(v,l,c,h)}break;case"text":d(r,l);break;case"element":s(r,l,c,h);break;case"comment":e(r,l,c)}return l}function d(r,l){var c=r;var h=false;while(c=c.parentNode){if(c.tagName=="pre"||c.tagName=="code"){h=true;break}}if(h){l.push(r.data)}else{l.push(r.data.replace(/[ ]{2}/g," &nbsp;"))}}function s(r,l,c,h){var b="";if(r.attrs){b=[];var v=r.attrs;for(var S in v){b.push(S+(v[S]!==void 0?'="'+re.unhtml(v[S])+'"':""))}b=b.join(" ")}l.push("<"+r.tagName+(b?" "+b:"")+(Re.$empty[r.tagName]?"/":"")+">");if(c&&!Re.$inlineWithA[r.tagName]&&r.tagName!="pre"){if(r.children&&r.children.length){h=m(l,h,true);u(l,h)}}if(r.children&&r.children.length){for(var p=0,C;C=r.children[p++];){if(c&&C.type=="element"&&!Re.$inlineWithA[C.tagName]&&p>1){m(l,h);u(l,h)}o(C,l,c,h)}}if(!Re.$empty[r.tagName]){if(c&&!Re.$inlineWithA[r.tagName]&&r.tagName!="pre"){if(r.children&&r.children.length){h=m(l,h);u(l,h)}}l.push("</"+r.tagName+">")}}function e(r,l){l.push("<!--"+r.data+"-->")}function n(r,l){var c;if(r.type=="element"&&r.getAttr("id")==l){return r}if(r.children&&r.children.length){for(var h=0,b;b=r.children[h++];){if(c=n(b,l)){return c}}}}function t(r,l,c){if(r.type=="element"&&r.tagName==l){c.push(r)}if(r.children&&r.children.length){for(var h=0,b;b=r.children[h++];){t(b,l,c)}}}function i(r,l){if(r.children&&r.children.length){for(var c=0,h;h=r.children[c];){i(h,l);if(h.parentNode){if(h.children&&h.children.length){l(h)}if(h.parentNode)c++}}}else{l(r)}}f.prototype={toHtml:function r(l){var c=[];o(this,c,l,0);return c.join("").replace(new RegExp(a.fillChar,"g"),"")},innerHTML:function r(l){if(this.type!="element"||Re.$empty[this.tagName]){return this}if(re.isString(l)){if(this.children){for(var c=0,h;h=this.children[c++];){h.parentNode=null}}this.children=[];var b=UE.htmlparser(l);for(var c=0,h;h=b.children[c++];){this.children.push(h);h.parentNode=this}return this}var b=new UE.uNode({type:"root",children:this.children});return b.toHtml()},innerText:function r(l){if(this.type!="element"||Re.$empty[this.tagName]){return this}if(l){if(this.children){for(var c=0,h;h=this.children[c++];){h.parentNode=null}}this.children=[];this.appendChild(f.createText(l));return this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function r(){if(this.type=="element"){return""}return this.data},firstChild:function r(){return this.children?this.children[0]:null},lastChild:function r(){return this.children?this.children[this.children.length-1]:null},previousSibling:function r(){var l=this.parentNode;for(var c=0,h;h=l.children[c];c++){if(h===this){return c==0?null:l.children[c-1]}}},nextSibling:function r(){var l=this.parentNode;for(var c=0,h;h=l.children[c++];){if(h===this){return l.children[c]}}},replaceChild:function r(l,c){if(this.children){if(l.parentNode){l.parentNode.removeChild(l)}for(var h=0,b;b=this.children[h];h++){if(b===c){this.children.splice(h,1,l);c.parentNode=null;l.parentNode=this;return l}}}},appendChild:function r(l){if(this.type=="root"||this.type=="element"&&!Re.$empty[this.tagName]){if(!this.children){this.children=[]}if(l.parentNode){l.parentNode.removeChild(l)}for(var c=0,h;h=this.children[c];c++){if(h===l){this.children.splice(c,1);break}}this.children.push(l);l.parentNode=this;return l}},insertBefore:function r(l,c){if(this.children){if(l.parentNode){l.parentNode.removeChild(l)}for(var h=0,b;b=this.children[h];h++){if(b===c){this.children.splice(h,0,l);l.parentNode=this;return l}}}},insertAfter:function r(l,c){if(this.children){if(l.parentNode){l.parentNode.removeChild(l)}for(var h=0,b;b=this.children[h];h++){if(b===c){this.children.splice(h+1,0,l);l.parentNode=this;return l}}}},removeChild:function r(l,c){if(this.children){for(var h=0,b;b=this.children[h];h++){if(b===l){this.children.splice(h,1);b.parentNode=null;if(c&&b.children&&b.children.length){for(var v=0,S;S=b.children[v];v++){this.children.splice(h+v,0,S);S.parentNode=this}}return b}}}},getAttr:function r(l){return this.attrs&&this.attrs[l.toLowerCase()]},removeAttr:function r(l){delete this.attrs[l]},setAttr:function r(l,c){if(!l){delete this.attrs;return}if(!this.attrs){this.attrs={}}if(re.isObject(l)){for(var h in l){if(!l[h]){delete this.attrs[h]}else{this.attrs[h.toLowerCase()]=l[h]}}}else{if(!c){delete this.attrs[l]}else{this.attrs[l.toLowerCase()]=c}}},getIndex:function r(){var l=this.parentNode;for(var c=0,h;h=l.children[c];c++){if(h===this){return c}}return-1},getNodeById:function r(l){var c;if(this.children&&this.children.length){for(var h=0,b;b=this.children[h++];){if(c=n(b,l)){return c}}}},getNodesByTagName:function r(l){l=re.trim(l).replace(/[ ]{2,}/g," ").split(" ");var c=[],h=this;re.each(l,function(b){if(h.children&&h.children.length){for(var v=0,S;S=h.children[v++];){t(S,b,c)}}});return c},getStyle:function r(l){var c=this.getAttr("style");if(!c){return""}var h=new RegExp(l+":([^;]+)","i");var b=c.match(h);if(b&&b[0]){return b[1]}return""},setStyle:function r(l,c){function h(S,p){var C=new RegExp(S+":([^;]+;?)","gi");b=b.replace(C,"");if(p){b=S+":"+re.unhtml(p)+";"+b}}var b=this.getAttr("style");if(!b){b=""}if(re.isObject(l)){for(var v in l){h(v,l[v])}}else{h(l,c)}this.setAttr("style",re.trim(b))},traversal:function r(l){if(this.children&&this.children.length){i(this,l)}return this}}})();var Bt=UE.htmlparser=function(f,E){var B=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,m=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g;var u={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};f=f.replace(new RegExp(a.fillChar,"g"),"");if(!E){f=f.replace(new RegExp("[\\r\\t\\n"+(E?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(E?"":" ")+"]*","g"),function(v,S){if(S&&u[S.toLowerCase()]){return v.replace(/(^[\n\r]+)|([\n\r]+$)/g,"")}return v.replace(new RegExp("^[\\r\\n"+(E?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(E?"":" ")+"]+$"),"")})}var o=UE.uNode,d={"td":"tr","tr":["tbody","thead","tfoot"],"tbody":"table","th":"tr","thead":"table","tfoot":"table","caption":"table","li":["ul","ol"],"dt":"dl","dd":"dl","option":"select"},s={"ol":"li","ul":"li"};function e(v,S){if(s[v.tagName]){var p=o.createElement(s[v.tagName]);v.appendChild(p);p.appendChild(o.createText(S));v=p}else{v.appendChild(o.createText(S))}}function n(v,S,p){var C;if(C=d[S]){var A=v,q;while(A.type!="root"){if(re.isArray(C)?re.indexOf(C,A.tagName)!=-1:C==A.tagName){v=A;q=true;break}A=A.parentNode}if(!q){v=n(v,re.isArray(C)?C[0]:C)}}var K=new o({parentNode:v,type:"element",tagName:S.toLowerCase(),children:Re.$empty[S]?null:[]});if(p){var V={},Z;while(Z=m.exec(p)){V[Z[1].toLowerCase()]=re.unhtml(Z[2]||Z[3]||Z[4])}K.attrs=V}v.children.push(K);return Re.$empty[S]?v:K}function t(v,S){v.children.push(new o({type:"comment",data:S,parentNode:v}))}var i,r=0,l=0;var c=new o({type:"root",children:[]});var h=c;while(i=B.exec(f)){r=i.index;try{if(r>l){e(h,f.slice(l,r))}if(i[3]){h=n(h,i[3].toLowerCase(),i[4])}else if(i[1]){if(h.type!="root"){var b=h;while(h.type=="element"&&h.tagName!=i[1].toLowerCase()){h=h.parentNode;if(h.type=="root"){h=b;throw"break"}}h=h.parentNode}}else if(i[2]){t(h,i[2])}}catch(v){}l=B.lastIndex}if(l<f.length){e(h,f.slice(l))}return c};var Rt=UE.filterNode=function(){function f(E,B){switch(E.type){case"text":break;case"element":var m;if(m=B[E.tagName]){if(m==="-"){E.parentNode.removeChild(E)}else if(re.isFunction(m)){var u=E.parentNode,o=E.getIndex();m(E);if(E.parentNode){if(E.children){for(var d=0,s;s=E.children[d];){f(s,B);if(s.parentNode){d++}}}}else{for(var d=o,s;s=u.children[d];){f(s,B);if(s.parentNode){d++}}}}else{var e=m.$;if(e&&E.attrs){var n={},t;for(var i in e){t=E.getAttr(i);if(i=="style"&&re.isArray(e[i])){var r=[];re.each(e[i],function(l){var c;if(c=E.getStyle(l)){r.push(l+":"+c)}});t=r.join(";")}if(t){n[i]=t}}E.attrs=n}if(E.children){for(var d=0,s;s=E.children[d];){f(s,B);if(s.parentNode){d++}}}}}else{if(Re.$cdata[E.tagName]){E.parentNode.removeChild(E)}else{var u=E.parentNode,o=E.getIndex();if(E.children){for(var d=0,s;s=E.children[d];){f(s,B);if(s.parentNode){d++}}}}}break;case"comment":E.parentNode.removeChild(E)}}return function(E,B){if(re.isEmptyObject(B)){return E}var m;if(m=B["-"]){re.each(m.split(" "),function(d){B[d]="-"})}for(var u=0,o;o=E.children[u];){f(o,B);if(o.parentNode){u++}}return E}}();UE.plugins.defaultfilter=function(){var f=this;f.setOpt("allowDivTransToP",true);function E(m){var u=m.getStyle("white-space");if(/\s*pre(?!-)/gi.test(u)){M.setSum("122443","24","1");M.send();m.setStyle("white-space","pre-wrap")}}function B(m){if(m.getStyle("caret-color")==="transparent"){m.setStyle("caret-color","")}var u=m.attrs;var o=Object.keys(u);var d=U(new Set(o));var s={};d.forEach(function(t){var i=t.match(/\d{8,}/g)||[];if(!i[0]){s[t]=u[t]}});m.attrs=s;if(a&&a.specialTags){if(m.tagName){var e=m.tagName;if(!a.specialTags.test(m.tagName)){u=m.attrs;o=Object.keys(u);if(o.length>0){var n={};o.forEach(function(t){if(u[t].length<k||t==="style"){n[t]=u[t]}else{M.setSum("129180","92","1")}});m.attrs=n}}}}}f.addInputRule(function(m){var u=this.options.allowDivTransToP;var o;var d=["class","style","id","role","data-positionback","data-original","data-md5","data-width","data-splitid","data-labelledby","data-index","data-mid"];var s="";m.traversal(function(e){if(e.type=="element"){if(!Re.$cdata[e.tagName]&&f.options.autoClearEmptyNode&&Re.$inline[e.tagName]&&!Re.$empty[e.tagName]&&(!e.attrs||re.isEmptyObject(e.attrs))){if(!e.firstChild())e.parentNode.removeChild(e);else if(e.tagName=="span"&&(!e.attrs||re.isEmptyObject(e.attrs))){e.parentNode.removeChild(e,true)}return}switch(e.tagName){case"style":case"script":e.setAttr({cdata_tag:e.tagName,cdata_data:encodeURIComponent(e.innerText()||"")});e.tagName="div";e.removeChild(e.firstChild());break;case"a":if(o=e.getAttr("href")){e.setAttr("_href",o)}break;case"img":o=e.getAttr("src");if(/^wewebkit-fake-url:\/\//i.test(o)){e.parentNode.removeChild(e)}else if(!/^data:/.test(o)){}break;case"hr":var n=e.getAttr("style")||"";n=n.replace(/\s/g,"").replace(/;$/,"");if(!n||n==="white-space:normal"){e.setAttr("style","border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);")}break;case"span":if(le.webkit&&(o=e.getStyle("white-space"))){if(/nowrap|normal/.test(o)){e.setStyle("white-space","");if(f.options.autoClearEmptyNode&&re.isEmptyObject(e.attrs)){e.parentNode.removeChild(e,true)}}}if(!!e.getAttr("data-fillchar")&&e.innerHTML().replace(a.fillCharReg,"").length==0){if(le.ie11below){e.appendChild(UE.uNode.createFillChar())}else{e.parentNode.insertBefore(UE.uNode.createElement("br"),e);e.parentNode.removeChild(e)}}break;case"p":if(o=e.getAttr("align")){e.setAttr("align");e.setStyle("text-align",o)}if(!e.firstChild()){if(le.ie11below){e.appendChild(UE.uNode.createFillChar())}else{e.innerHTML("<br />")}}else if(e.children.length==1&&e.children[0].tagName=="br"){if(le.ie11below){e.removeChild(e.children[0]);e.appendChild(UE.uNode.createFillChar())}}break;case"section":if(!e.firstChild()){if(le.ie11below){e.appendChild(UE.uNode.createFillChar())}else{e.innerHTML("<br />")}}else if(e.children.length==1&&e.children[0].tagName=="br"){if(le.ie11below){e.removeChild(e.children[0]);e.appendChild(UE.uNode.createFillChar())}}break;case"div":if(e.getAttr("cdata_tag")){break}o=e.getAttr("class");if(o&&/^line number\d+/.test(o)||e.parentNode.tagName==="pre"){break}if(!u){break}var t,i=UE.uNode.createElement("p");while(t=e.firstChild()){if(t.type=="text"||!UE.dom.dtd.$block[t.tagName]){i.appendChild(t)}else{if(i.firstChild()){e.parentNode.insertBefore(i,e);i=UE.uNode.createElement("p")}else{e.parentNode.insertBefore(t,e)}}}if(i.firstChild()){e.parentNode.insertBefore(i,e)}e.parentNode.removeChild(e);break;case"dl":e.tagName="ul";break;case"dt":case"dd":e.tagName="li";break;case"li":var r=e.getAttr("class");if(!r||!/list\-/.test(r)){var l=e.getAttr("style");e.setAttr();e.setAttr("style",l)}var c=e.getNodesByTagName("ol ul");UE.utils.each(c,function(h){e.parentNode.insertAfter(h,e)});break;case"td":case"th":case"caption":if(!e.children||!e.children.length){e.appendChild(le.ie11below?UE.uNode.createText(" "):UE.uNode.createElement("br"))}}}if(e.type=="comment"){e.parentNode.removeChild(e)}B(e);E(e)})});f.addInputNativeNodeRule(function(m){if(!le.ie11below){return}var u=function c(h){if(a.isBody(h)||h.nodeType==3&&(h.nodeValue||"").replace(a.fillCharReg,"").length==0){return false}return true};var o=m.getElementsByTagName("br");for(var d=0;d<o.length;d++){var s=o[d];if(!s.parentNode){continue}var e=a.findPreviousSibling(s,u,false),n=false,t=a.findNextSibling(s,u,false),i=false;var r;if(!e){e=s;while(e){e=a.findParent(e,null,false);if(!!e){if(/^(td|li)$/i.test(e.nodeName)){e=null;break}r=a.findPreviousSibling(e,u,false);if(!!r){e=r;break}}else{break}}}if(!e||a.isBlockElm2(e)){n=true}else{n=false}var r;if(!t){t=s;while(t){t=a.findParent(t,null,false);if(!!t){if(/^(td|li)$/i.test(t.nodeName)){t=null;break}r=a.findNextSibling(t,u,false);if(!!r){t=r;break}}else{break}}}if(!t||a.isBlockElm2(t)){i=true}else{i=false}if(i===false){}else if(n===false){s.parentNode.removeChild(s);d-=1}else if(n===true){var l=f.document.createElement("div");l.innerHTML='<span data-fillchar="1">'+a.fillChar+"</span>";s.parentNode.insertBefore(l.children[0],s);s.parentNode.removeChild(s);d-=1}}});f.addOutputRule(function(m){var u;m.traversal(function(o){if(o.type=="element"){if(f.fireEvent("isInCodeBlockVirtual",o)===true){return}if(f.options.autoClearEmptyNode&&Re.$inline[o.tagName]&&!Re.$empty[o.tagName]&&(!o.attrs||re.isEmptyObject(o.attrs))){if(!o.firstChild())o.parentNode.removeChild(o);else if(o.tagName=="span"&&(!o.attrs||re.isEmptyObject(o.attrs))){o.parentNode.removeChild(o,true)}return}switch(o.tagName){case"div":if(u=o.getAttr("cdata_tag")){o.tagName=u;o.appendChild(UE.uNode.createText(o.getAttr("cdata_data")));o.setAttr({cdata_tag:"",cdata_data:""})}break;case"a":if(u=o.getAttr("_href")){o.setAttr({"href":u,"_href":""})}break;case"img":if(u=o.getAttr("_src")&&!o.getAttr("src")){o.setAttr({"src":o.getAttr("_src")})}o.setAttr({"_src":""});break;case"span":if(le.ie11below&&!!o.getAttr("data-fillchar")&&o.innerHTML().replace(a.fillCharReg,"").length==0){o.parentNode.insertBefore(UE.uNode.createElement("br"),o);o.parentNode.removeChild(o)}break;case"p":if(!o.firstChild()){if(le.ie11below){o.appendChild(UE.uNode.createFillChar())}else{o.innerHTML("<br />")}}else if(o.children.length==1&&o.children[0].tagName=="br"){if(le.ie11below){o.removeChild(o.children[0]);o.appendChild(UE.uNode.createFillChar())}}break;case"section":if(!o.firstChild()){if(le.ie11below){o.appendChild(UE.uNode.createFillChar())}else{o.innerHTML("<br />")}}else if(o.children.length==1&&o.children[0].tagName=="br"){if(le.ie11below){o.removeChild(o.children[0]);o.appendChild(UE.uNode.createFillChar())}}break;default:break}E(o)}})})};UE.commands.inserthtml={execCommand:function f(E,B,m,u){var o=this,d,s;var e=[];if(!B){return e}if(o.fireEvent("beforeinserthtml",B)===true){return e}var n=false;if(Object.prototype.toString.call(m)==="[object Object]"){n=m.noSelect;m=m.notNeedFilter}d=o.selection.getRange();s=d.document.createElement("div");s.style.display="inline";if(!m){var t=UE.htmlparser(B);if(o.options.filterRules){UE.filterNode(t,o.options.filterRules)}o.filterInputRule(t);B=t.toHtml()}s.innerHTML=re.trim(B);if(!d.collapsed){var i=d.startContainer;if(a.isFillChar(i)){d.setStartBefore(i)}i=d.endContainer;if(a.isFillChar(i)){d.setEndAfter(i)}d.txtToElmBoundary();if(d.endContainer&&d.endContainer.nodeType==1){i=d.endContainer.childNodes[d.endOffset];if(i&&a.isBr(i)){d.setEndAfter(i)}}if(d.startOffset==0){i=d.startContainer;if(a.isBoundaryNode(i,"firstChild")){i=d.endContainer;if(d.endOffset==(i.nodeType==3?i.nodeValue.length:i.childNodes.length)&&a.isBoundaryNode(i,"lastChild")){o.body.innerHTML="<p>"+(le.ie11below?a.fillChar:"<br/>")+"</p>";d.setStart(o.body.firstChild,0).collapse(true)}}}!d.collapsed&&d.deleteContents();if(d.startContainer.nodeType==1){var r=d.startContainer.childNodes[d.startOffset],c;if(r&&a.isBlockElm2(r)&&(c=r.previousSibling)&&a.isBlockElm2(c)){d.setEnd(c,c.childNodes.length).collapse();while(r.firstChild){c.appendChild(r.firstChild)}a.remove(r)}}}var r,l,c,h,b=0,v;if(typeof d.isFillChar==="function"&&d.isFillChar()){r=d.startContainer;if(a.isFillChar(r)){d.setStartBefore(r).collapse(true);a.remove(r)}else if(a.isFillChar(r,true)){r.nodeValue=r.nodeValue.replace(ct,"");d.startOffset--;d.collapsed&&d.collapse(true)}}var S=a.findParentByTagName(d.startContainer,"li",true);if(S){var p,C;while(r=s.firstChild){while(r&&(r.nodeType==3||!a.isBlockElm2(r)||r.tagName=="HR")){p=r.nextSibling;d.insertNode(r).collapse();e.push(r);C=r;r=p}if(r){if(/^(ol|ul)$/i.test(r.tagName)){while(r.firstChild){C=r.firstChild;a.insertAfter(S,r.firstChild);e.push(C);S=S.nextSibling}a.remove(r)}else{var A;p=r.nextSibling;A=o.document.createElement("li");a.insertAfter(S,A);A.appendChild(r);C=r;e.push(C);r=p;S=A}}}S=a.findParentByTagName(d.startContainer,"li",true);if(a.isEmptyBlock(S)){a.remove(S)}if(C){d.setStartAfter(C).collapse(true);if(n!==true){d.select(true)}}}else{while(r=s.firstChild){if(b){var q=o.document.createElement("p");while(r&&(r.nodeType==3||!Re.$block2[r.tagName])){v=r.nextSibling;q.appendChild(r);r=v}if(q.firstChild){r=q}}d.insertNode(r);e.push(r);v=r.nextSibling;if(!b&&r.nodeType==a.NODE_ELEMENT&&a.isBlockElm2(r)&&a.isContentEditable({node:r,checkParent:false})!==2){if(r&&r.nodeType==1&&(r.tagName.toLowerCase()=="p"||r.getElementsByTagName("p").length>0)){var K=a.findParentByTagName(r,"p");if(K&&!a.isBody(K)){l=K}else{l=a.findParent(r,function(de){return a.isBlockElm2(de)})}}else{l=a.findParent(r,function(de){return a.isBlockElm2(de)})}if(l&&l.nodeName.toLowerCase()!="body"&&!(Re[l.nodeName]&&Re[l.nodeName][r.nodeName]&&r.parentNode===l)){if(!Re[l.nodeName]||!Re[l.nodeName][r.nodeName]){c=l}else{h=r.parentNode;while(!!h&&h!==l){c=h;h=h.parentNode}}var V=a.breakParent({node:r,parent:c||h,returnNewDom:true});for(var Z=0,me=V.length;Z<me;Z++){var he=V[Z];a.removePluginDefaultClass({node:he})}var c=r.previousSibling;if(c){a.trimWhiteTextNode(c);if(!c.childNodes.length){a.remove(c)}}b=1}}var p=r.nextSibling;if(!s.firstChild&&p&&a.isBlockElm2(p)){d.setStart(p,0).collapse(true);break}d.setEndAfter(r).collapse()}r=d.startContainer;if(v&&a.isBr(v)){a.remove(v)}if(a.isBlockElm2(r)&&a.isEmptyNode(r)&&r.id!=="js_pasteword_end"){if(v=r.nextSibling){a.remove(r);if(v.nodeType==1&&Re.$block2[v.tagName]){d.setStart(v,0).collapse(true).shrinkBoundary()}}else{try{r.innerHTML=le.ie11below?a.fillChar:"<br/>"}catch(oe){d.setStartBefore(r);a.remove(r)}}}if(o.document.getElementById("js_pasteword_end")&&o.document.getElementById("js_pasteword_end").previousSibling){d.setStartAtLast(o.document.getElementById("js_pasteword_end").previousSibling).collapse(true)}if(n!==true){try{d.select(true)}catch(oe){}}}setTimeout(function(){d=o.selection.getRange();d.scrollToView(o.autoHeightEnabled,o.autoHeightEnabled?a.getXY(o.iframe).y-200:0);o.fireEvent("afterinserthtml","fromPaste",e,u)},200);return e}};UE.commands.insertimg={execCommand:function f(E,B,m){var u=this,o,d;var s=[];if(u.fireEvent("beforeinserthtml",B)===true){return s}if(m&&m.range){o=m.range;d=u.iframe.contentDocument.createElement("div");d.style.display="inline"}else{return}d.innerHTML=re.trim(B);o.insertNode(d);setTimeout(function(){if(o.startContainer.nextSibling){o.setStart(o.startContainer.nextSibling.nextSibling,0);o.collapse(true)}else{o.collapse(false)}var e=u.window.getSelection();e.removeAllRanges();e.addRange(o);u.body.style.caretColor="";u.fireEvent("afterinsertimg",B,s,m)},200);s.push(d);return s}};UE.plugins.autosubmit=function(){var f=this;f.commands.autosubmit={execCommand:function E(){var B=this,m=a.findParentByTagName(B.iframe,"form",false);if(m){if(B.fireEvent("beforesubmit")===false){return}B.sync();m.submit()}}};f.addshortcutkey({"autosubmit":"ctrl+13"})};UE.commands.imagefloat={execCommand:function f(E,B){var m=this,u=m.selection.getRange();if(!u.collapsed){var o=u.getClosedNode();if(o&&o.tagName=="IMG"){switch(B){case"left":case"right":case"none":var d=o.parentNode,s,e,n;while(Re.$inline[d.tagName]||d.tagName=="A"){d=d.parentNode}s=d;if(s.tagName=="P"&&a.getStyle(s,"text-align")=="center"){if(!a.isBody(s)&&a.getChildCount(s,function(i){return!a.isBr(i)&&!a.isWhitespace(i)})==1){e=s.previousSibling;n=s.nextSibling;if(e&&n&&e.nodeType==1&&n.nodeType==1&&e.tagName==n.tagName&&a.isBlockElm(e)){e.appendChild(s.firstChild);while(n.firstChild){e.appendChild(n.firstChild)}a.remove(s);a.remove(n)}else{a.setStyle(s,"text-align","")}}u.selectNode(o).select()}a.setStyle(o,"float",B=="none"?"":B);if(B=="none"){a.removeAttributes(o,"align")}break;case"center":if(m.queryCommandValue("imagefloat")!="center"){d=o.parentNode;a.setStyle(o,"float","");a.removeAttributes(o,"align");s=o;while(d&&a.getChildCount(d,function(i){return!a.isBr(i)&&!a.isWhitespace(i)})==1&&(Re.$inline[d.tagName]||d.tagName=="A")){s=d;d=d.parentNode}u.setStartBefore(s).setCursor(false);d=m.document.createElement("div");d.appendChild(s);a.setStyle(s,"float","");m.execCommand("insertHtml",'<p id="_img_parent_tmp" style="text-align:center">'+d.innerHTML+"</p>");s=m.document.getElementById("_img_parent_tmp");var t=s.getElementsByTagName("img")[0];s.removeAttribute("id");s=s.firstChild;u.selectNode(t).select();n=s.parentNode.nextSibling;if(n&&a.isEmptyNode(n)){a.remove(n)}}break}}}},queryCommandValue:function f(){var E=this.selection.getRange(),B,m;if(E.collapsed){return"none"}B=E.getClosedNode();if(B&&B.nodeType==1&&B.tagName=="IMG"){m=B.getAttribute("align")||a.getComputedStyle(B,"float");if(m=="none"){m=a.getComputedStyle(B.parentNode,"text-align")=="center"?"center":m}return{left:1,right:1,center:1}[m]?m:"none"}return"none"},queryCommandState:function f(E,B){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(m.allDomInRange&&m.allDomInRange[0]&&a.isContentEditable({node:m.allDomInRange[0],checkParent:false})===2){return-1}var u=this.selection.getRange(),o;if(u.collapsed)return-1;o=u.getClosedNode();if(o&&o.nodeType==1&&o.tagName=="IMG"){return 0}return-1}};UE.plugins.justify=function(){var f=this,E=a.isBlockElm2,B={left:1,right:1,center:1,justify:1},m=function u(o,d){var s=o.createBookmark(),e=function K(V){if(V.nodeType==1){return!a.isBookmarkNode(V)&&a.isContentEditable({node:V,checkParent:true})!==2}return!a.isWhitespace(V)};var n=function K(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var Z=V.node;var me=re.isString(V.style)?{"text-align":V.style}:V.style;var he=null;if(a.isContainUneditable({node:Z,ignoreMarkNode:true})){var oe={style:""};for(var de in me){if(Object.prototype.hasOwnProperty.call(me,de)){oe.style+=de+":"+me[de]+";"}}var ge=a.breadByUneditable({node:Z,attrs:oe,applyUneditablParent:false});if(ge&&ge[ge.length-1]){he=ge[ge.length-1]}}else{a.setStyles(Z,me);he=Z}return he};o.enlarge(true);var t=o.createBookmark(),i=a.getNextDomNode(t.start,false,e),r=o.cloneRange(),l=null;while(i&&!(a.getPosition(i,t.end)&a.POSITION_FOLLOWING)){if(i.nodeType==3||!E(i)||i.nodeName.toLowerCase()==="br"){r.setStartBefore(i);l=i;while(i&&i!==t.end&&!E(i)){l=i;i=a.getNextDomNode(i,false,null,function(K){return!E(K)})}r.setEndAfter(l);l=null;var c=r.getCommonAncestor();if(!a.isBody(c)&&E(c)){i=n({node:c,style:d})}else{var h=r.extractContents();var b=true;var v=h.firstChild;while(v){if(!a.canContainByP({dom:v})){b=false;break}v=v.nextSibling}var S=o.document.createElement("span");r.insertNode(S);var p=S.parentNode;var C="";if(b&&p&&a.canContainP({dom:p})){C="p"}else{C="section"}var A=o.document.createElement(C);A.appendChild(h);p.insertBefore(A,S);p.removeChild(S);var q=A.parentNode;if(!a.isBody(q)&&q.className&&Object.prototype.toString.call(q.className)==="[object String]"){A.className=q.className}i=n({node:A,style:d})}i=a.getNextDomNode(i,false,e)}else{i=a.getNextDomNode(i,true,e)}}return o.moveToBookmark(t).moveToBookmark(s)};UE.commands.justify={execCommand:function u(o,d){var s=this.selection.getRange(),e;if(s.collapsed){e=this.document.createTextNode("p");s.insertNode(e)}m(s,d);if(e){s.setStartBefore(e).collapse(true);a.remove(e)}s.select();return true},queryCommandValue:function u(){var o=a.filterNodeList(this.selection.getStartElementPath(),function(s){return a.isBlockElm(s)});var d=a.getComputedStyle(o,"text-align");return B[d]?d:"left"},queryCommandState:function u(o,d){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s.allDomInRange&&s.allDomInRange[0]&&a.isContentEditable({node:s.allDomInRange[0],checkParent:false})===2){return-1}var e=this.selection.getStart(),n=e&&a.findParentByTagName(e,["td","th","caption"],true);return n?-1:0}}};UE.plugins.font=function(){var f=this,E={"forecolor":"color","backcolor":"background-color","letterspacing":"letter-spacing","fontsize":"font-size","fontfamily":"font-family","underline":"text-decoration","strikethrough":"text-decoration","fontborder":"border"},B={"underline":1,"strikethrough":1,"fontborder":1,"forecolor":1,"fontsize":1,"backcolor":1},m={"forecolor":"color","backcolor":"background-color","letterspacing":"letter-spacing","fontsize":"font-size","fontfamily":"font-family"};f.setOpt({"fontfamily":[{name:"songti",val:"\u5B8B\u4F53,SimSun"},{name:"yahei",val:"\u5FAE\u8F6F\u96C5\u9ED1,Microsoft YaHei"},{name:"kaiti",val:"\u6977\u4F53,\u6977\u4F53_GB2312, SimKai"},{name:"heiti",val:"\u9ED1\u4F53, SimHei"},{name:"lishu",val:"\u96B6\u4E66, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"}]});function u(n){var t;while(t=n.parentNode){if(t.tagName=="SPAN"&&a.getChildCount(t,function(i){return!a.isBookmarkNode(i)&&!a.isBr(i)})==1){t.style.cssText+=n.style.cssText;a.remove(n,true);n=t}else{break}}}function o(n,t,i){var r=m[t];if(r){var l=n.createBookmark();var c=null;if(n.collapsed){c=l.start.parentNode}else{c=a.getCommonAncestor(l.start,l.end)}while(c&&c.nodeName.toLowerCase()==="span"){c=c.parentNode}if(c){var h=a.getElementsByTagName(c,"span");var b=n.document.createElement("span");h.push(b);var v=[];var S=[];var p=false;for(var C=0;C<h.length;C++){var A=h[C];if(A===b&&S.length===0){break}if(A===l.start){p=true;continue}if(A===l.end){p=false;continue}if(a.isContentEditable({node:A,checkParent:true})===2){continue}var q=null;var K=null;var V=null;if(S.length>0){K=S[S.length-1];q=K.targetIndex;V=h[q]}if(S.length===0||V.contains(A)){var Z=a.getStyle(A,r);if(Z===""){Z=void 0}S.push({targetIndex:C,value:Z,isInRange:p,children:[]});continue}if(K.isInRange){var me=true;for(var he=0,oe=K.children.length;he<oe;he++){if(!K.children[he].isInRange){me=false;break}}K.isInRange=me}if(K.isInRange&&(typeof K.value==="undefined"||K.value!==i)){K.value=i;V.setAttribute("data-mpmergeaction","change")}var de=true;for(var ge=0,ke=K.children.length;ge<ke;ge++){var Ie=K.children[ge];if(Ie.value===K.value&&Ie.childValueTheSame){Ie.node.setAttribute("data-mpmergeaction","remove")}else{de=false}}K.childValueTheSame=de;if(S.length-2>=0){S[S.length-2].children.push({value:K.value,isInRange:K.isInRange,node:V,childValueTheSame:K.childValueTheSame})}if(V){v.push(V)}S.pop();h.splice(q,1);C=q-1}for(var qe=0,tt=v.length;qe<tt;qe++){var Je=v[qe];var He=Je.getAttribute("data-mpmergeaction");if(He==="change"){a.setStyle(Je,r,i)}else if(He==="remove"){a.removeStyle(Je,r)}Je.removeAttribute("data-mpmergeaction");if(Je.style.cssText.replace(/^\s+$/,"").length==0){a.remove(Je,true)}}}n.moveToBookmark(l)}}function d(n,t,i){var r=n.collapsed,l=n.createBookmark(),c;if(r){c=l.start.parentNode;while(Re.$inline[c.tagName]){c=c.parentNode}}else{c=a.getCommonAncestor(l.start,l.end)}re.each(a.getElementsByTagName(c,"span"),function(h){if(!h.parentNode||a.isBookmarkNode(h))return;if(a.isContentEditable({node:h,checkParent:true})===2){return}if(a.isEmptyInlineElement(h)){a.remove(h,false);return}if(/\s*border\s*:\s*none;?\s*/i.test(h.style.cssText)){if(/^\s*border\s*:\s*none;?\s*$/.test(h.style.cssText)){a.remove(h,true)}else{a.removeStyle(h,"border")}return}if(/border/i.test(h.style.cssText)&&h.parentNode.tagName=="SPAN"&&/border/i.test(h.parentNode.style.cssText)){h.style.cssText=h.style.cssText.replace(/border[^:]*:[^;]+;?/gi,"")}if(!(t=="fontborder"&&i=="none")){var b=h.nextSibling;while(b&&b.nodeType==1&&b.tagName=="SPAN"){if(a.isBookmarkNode(b)&&t=="fontborder"){h.appendChild(b);b=h.nextSibling;continue}if(b.style.cssText==h.style.cssText){a.moveChild(b,h);a.remove(b)}if(h.nextSibling===b){break}b=h.nextSibling}}u(h);if(le.ie&&le.version>8){var v=a.findParent(h,function(S){return S.tagName=="SPAN"&&/background-color/.test(S.style.cssText)});if(v&&!/background-color/.test(h.style.cssText)){h.style.backgroundColor=v.style.backgroundColor}}});n.moveToBookmark(l);o(n,t,i)}function s(n){var t={"1":"10","2":"13","3":"16","4":"18","5":"24","6":"32","7":"48"};re.each(n.getNodesByTagName("u s del font strike"),function(i){if(i.tagName=="font"){var r=[];for(var l in i.attrs){switch(l){case"size":var c=t[i.attrs[l]]||i.attrs[l];r.push("font-size:"+c+"px");break;case"color":r.push("color:"+i.attrs[l]);break;case"face":r.push("font-family:"+i.attrs[l]);break;case"style":r.push(i.attrs[l])}}i.attrs={"style":r.join(";")}}else{var h=i.tagName=="u"?"underline":"line-through";i.attrs={"style":(i.getAttr("style")||"")+"text-decoration:"+h+";"}}i.tagName="span"})}f.addInputRule(function(n){s(n)});f.addOutputRule(function(n){s(n)});for(var e in E){(function(n,t){UE.commands[n]={execCommand:function i(r,l){l=l||(this.queryCommandState(r)?"none":r=="underline"?"underline":r=="fontborder"?"1px solid #000":"line-through");var c=this,h=this.selection.getRange(),b;var v=c.fireEvent("getCommonReportIDKey",[r,l+""]);if(!v){v=c.fireEvent("getCommonReportIDKey",[r,"default"])}if(!!v){c.fireEvent("reportAddNum",v.id,v.key,1);var S=c.fireEvent("getCommonReportIDKey",[r,"all"]);if(!!S){c.fireEvent("reportAddNum",S.id,S.key,1)}}if(l=="default"){if(h.collapsed){b=c.document.createTextNode("font");h.insertNode(b).select()}c.execCommand("removeFormat","span,a,li",t);if(b){h.setStartBefore(b).collapse(true);a.remove(b)}d(h,r,l);h.select()}else{if(!h.collapsed){if(B[n]&&(c.queryCommandValue(n)||n=="backcolor")){c.execCommand("removeFormat","span,a",t)}h=c.selection.getRange();var p={ignoreUnEditable:true};if(!/^(backcolor)|(underline)|(strikethrough)$/.test(n)){p.liStyle=ve({},t,l)}h.applyInlineStyle("span",{"style":t+":"+l},null,p);if(t==="font-size"){h.calParentFontSize()}d(h,r,l);h.select()}else{b=c.document.createTextNode("font");var C=function q(){h.selectNode(b).select();A=h.document.createElement("span");if(B[n]){if(a.findParentByTagName(b,"a",true)){h.setStartBefore(b).setCursor();a.remove(b);return}c.execCommand("removeFormat","span,a",t)}A.style.cssText=t+":"+l;b.parentNode.insertBefore(A,b);if(!le.ie||le.ie&&le.version==9){var K=A.parentNode;while(!a.isBlockElm(K)){if(K.tagName=="SPAN"){A.style.cssText=K.style.cssText+";"+A.style.cssText}K=K.parentNode}}if(at){setTimeout(function(){h.setStart(A,0).collapse(true);d(h,r,l);h.select()})}else{h.setStart(A,0).collapse(true);d(h,r,l);h.select()}};var A=a.findParentByTagName(h.startContainer,"span",true);if(A&&!A.children.length&&!A[le.ie?"innerText":"textContent"].replace(ct,"").length){h.insertNode(b);if(B[n]){h.selectNode(b).select();c.execCommand("removeFormat","span,a",t,null);A=a.findParentByTagName(b,"span",true);h.setStartBefore(b)}if(!A){C()}else{A&&(A.style.cssText+=";"+t+":"+l);h.collapse(true).select()}}else{h.insertNode(b);C()}a.remove(b)}}return true},queryCommandValue:function i(r){var l=this.selection.getStart();if(r=="underline"||r=="strikethrough"){var c=l,h;while(c&&!a.isBlockElm(c)&&!a.isBody(c)){if(c.nodeType==1&&!a.isBr(c)){h=a.getComputedStyle(c,t);if(h!="none"){return h}}c=c.parentNode}return"none"}if(r=="fontborder"){var b=l,v;while(b&&Re.$inline[b.tagName]){if(v=a.getComputedStyle(b,"border")){if(/1px/.test(v)&&/solid/.test(v)){return v}}b=b.parentNode}return""}if(r.toLowerCase()=="fontsize"){var S;var c=l;while(!a.isBody(c)){S=a.getComputedStyle(c,t);if(!parseInt(S)){c=c.parentNode}else{break}}var b=/^([\d\.]+)(\w+)$/.exec(S);if(b){return Math.floor(b[1])+b[2]}return S}return a.getComputedStyle(l,t)},queryCommandState:function i(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l.allDomInRange&&l.allDomInRange[0]&&a.isContentEditable({node:l.allDomInRange[0],checkParent:false})===2){return-1}if(!B[r]){return 0}var c=this.queryCommandValue(r);if(r=="fontborder"){return/1px/.test(c)&&/solid/.test(c)}return c==(r=="underline"?"underline":"line-through")}}})(e,E[e])}};UE.plugins.removeformat=function(){var f=this;var E=["list-style-type"];f.setOpt({"removeFormatTags":"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var","removeFormatAttributes":"style,lang,width,height,align,hspace,valign"});f.commands.removeformat={execCommand:function B(m,u,o,d,s){var e=true;if(Object.prototype.toString.call(u)==="[object Object]"){o=u.style;d=u.attrs;s=u.notIncludeA;e=u.ignoreUnEditable;u=u.tags}if(e!==false){e=true}var n=new RegExp("^(?:"+(u||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),t=o?[]:(d||this.options.removeFormatAttributes).split(","),i=new Ae.Range(this.document),r,l,c,h=function S(p){return p.nodeType==1};function b(S){if(S.nodeType==3||S.tagName.toLowerCase()!="span"){return 0}if(le.ie){var p=S.attributes;if(p.length){for(var C=0,A=p.length;C<A;C++){if(p[C].specified){return 0}}return 1}}return!S.attributes.length}function v(S){var p=S.createBookmark();if(S.collapsed){S.enlarge(true)}if(!s){var C=a.findParentByTagName(S.startContainer,"a",true);if(C&&(e!==true||a.isContentEditable({node:C,checkParent:true})!==2)){S.setStartBefore(C)}C=a.findParentByTagName(S.endContainer,"a",true);if(C&&(e!==true||a.isContentEditable({node:C,checkParent:true})!==2)){S.setEndAfter(C)}}r=S.createBookmark();de=r.start;while((c=de.parentNode)&&!a.isBlockElm(c)&&(e!==true||a.isContentEditable({node:c,checkParent:true})!==2)){a.breakParent(de,c);a.clearEmptySibling(de)}if(r.end){de=r.end;while((c=de.parentNode)&&!a.isBlockElm(c)&&(e!==true||a.isContentEditable({node:c,checkParent:true})!==2)){a.breakParent(de,c);a.clearEmptySibling(de)}var A=a.getNextDomNode(r.start,false,h),q;while(A){if(A==r.end){break}q=a.getNextDomNode(A,true,h);if(!Re.$empty[A.tagName.toLowerCase()]&&!a.isBookmarkNode(A)&&(e!==true||a.isContentEditable({node:A,checkParent:true})!==2)){if(n.test(A.tagName)){if(o){a.removeStyle(A,o);if(b(A)&&o!="text-decoration"){a.remove(A,true)}}else{a.remove(A,true)}}else{if(Re.$list[A.tagName]){var K={};for(var V=0,Z=E.length;V<Z;V++){var me=E[V];K[me]=a.getStyle(A,me)}a.removeAttributes(A,t);a.setStyles(A,K)}else if(!Re.$tableContent[A.tagName]){a.removeAttributes(A,t);if(b(A)){a.remove(A,true)}}}}A=q}}var he=r.start.parentNode;if(t&&t.length>0&&a.isBlockElm(he)&&!Re.$tableContent[he.tagName]&&!Re.$list[he.tagName]&&(e!==true||a.isContentEditable({node:he,checkParent:true})!==2)){a.removeAttributes(he,t)}he=r.end.parentNode;if(t&&t.length>0&&r.end&&a.isBlockElm(he)&&!Re.$tableContent[he.tagName]&&!Re.$list[he.tagName]&&(e!==true||a.isContentEditable({node:he,checkParent:true})!==2)){a.removeAttributes(he,t)}if(n.test("li")&&o){var oe=a.findParentByTagName(r.start,"li",true);if(oe){a.removeStyle(oe,o)}}else if(!n.test("li")&&!o&&t&&t.length>0){var oe=a.findParentByTagName(r.start,"li",true);if(oe){a.removeAttributes(oe,t)}}S.moveToBookmark(r).moveToBookmark(p);var de=S.startContainer,ge,ke=S.collapsed;while(de.nodeType==1&&a.isEmptyNode(de)&&Re.$removeEmpty[de.tagName]&&(e!==true||a.isContentEditable({node:de,checkParent:true})!==2)){ge=de.parentNode;S.setStartBefore(de);if(S.startContainer===S.endContainer){S.endOffset--}a.remove(de);de=ge}if(!ke){de=S.endContainer;while(de.nodeType==1&&a.isEmptyNode(de)&&Re.$removeEmpty[de.tagName]&&(e!==true||a.isContentEditable({node:de,checkParent:true})!==2)){ge=de.parentNode;S.setEndBefore(de);a.remove(de);de=ge}}}i=this.selection.getRange();v(i);i.select()},queryCommandState:function B(m){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(u.allDomInRange&&u.allDomInRange[0]&&a.isContentEditable({node:u.allDomInRange[0],checkParent:false})===2){return-1}return 0}}};UE.commands.indent={execCommand:function f(E,B){var m=this,u=m.queryCommandState("indent")?"0em":m.options.indentValue||"2em";if(typeof B==="undefined"){m.execCommand("Paragraph","p",{style:"text-indent:"+u},"indent")}else{if(B){m.execCommand("Paragraph","p",{style:"text-indent:"+u},"indent")}else{m.execCommand("Paragraph","p",{style:"text-indent: 0em"},"indent")}}},queryCommandState:function f(E){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(B.allDomInRange&&B.allDomInRange[0]&&a.isContentEditable({node:B.allDomInRange[0],checkParent:false})===2){return-1}var m=a.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return m&&m.style.textIndent&&parseInt(m.style.textIndent)?1:0}};UE.plugins.selectall=function(){var f=this;f.commands.selectall={execCommand:function E(){var B=this,m=B.body,u=B.selection.getRange();u.selectNodeContents(m);if(a.isEmptyBlock(m)){if(le.opera&&m.firstChild&&m.firstChild.nodeType==1){u.setStartAtFirst(m.firstChild)}u.collapse(true)}u.select(true)},notNeedUndo:1};f.addshortcutkey({"selectAll":"ctrl+65"})};UE.plugins.paragraph=function(){var f=this,E=a.isBlockElm,B=["TD","LI","PRE"],m=function u(o,d,s,e){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};var t=o.createBookmark(),i=function he(oe){if(oe.nodeType==1){var de=!a.isBookmarkNode(oe);return de&&(a.isContentEditable({node:oe,checkParent:false})===2||a.isContentEditable({node:oe,checkParent:true})!==2)}return!a.isWhitespace(oe)},r;o.enlarge(true);var l=o.createBookmark(),c=a.getNextDomNode(l.start,false,i),h=o.cloneRange(),b=null;while(c&&!(a.getPosition(c,l.end)&a.POSITION_FOLLOWING)){if(c&&e=="justifyindent"&&/^(li)|(ol)|(ul)$/i.test(c.nodeName)){if(c.nodeName.toLowerCase()=="li"){c=a.findParent(c,function(he){if(!!he&&/^(ol)|(ul)$/i.test(he.nodeName)){return true}})}a.setAttributes(c,s);c=a.getNextDomNode(c,false,i)}else if(c.nodeType==3||a.isContentEditable({node:c,checkParent:false})===2||c.nodeName.toLowerCase()==="br"||!E(c)){h.setStartBefore(c);b=c;while(c&&c!==l.end&&!E(c)){b=c;c=a.getNextDomNode(c,false,null,function(he){return!E(he)})}h.setEndAfter(b);b=null;var v=h.extractContents();var S=null;var p=d;if(p==="p"){var C=true;var A=v.firstChild;while(A){if(!a.canContainByP({dom:A})){C=false;break}A=A.nextSibling}S=o.document.createElement("span");h.insertNode(S);var q=S.parentNode;if(C&&q&&a.canContainP({dom:q})){p="p"}else{p="section"}d=p}r=o.document.createElement(p);r.appendChild(v);var K=false;if(a.isEmptyNode(r)){a.fillNode(o.document,r)}else if(a.isContainUneditable({node:r,ignoreMarkNode:true})){K=true}if(S){S.parentNode.insertBefore(r,S);S.parentNode.removeChild(S)}else{h.insertNode(r)}var V=r.parentNode;var Z=false;if(E(V)&&!a.isBody(r.parentNode)&&re.indexOf(B,V.tagName)==-1){if(!(e&&e=="customstyle")){V.getAttribute("dir")&&r.setAttribute("dir",V.getAttribute("dir"));V.style.cssText&&(r.style.cssText=V.style.cssText+";"+r.style.cssText);V.style.textAlign&&!r.style.textAlign&&(r.style.textAlign=V.style.textAlign);V.style.textIndent&&!r.style.textIndent&&(r.style.textIndent=V.style.textIndent);V.style.padding&&!r.style.padding&&(r.style.padding=V.style.padding);if(V.className&&Object.prototype.toString.call(V.className)==="[object String]"){r.className=V.className}}if(s&&/h\d/i.test(V.tagName)&&!/h\d/i.test(r.tagName)){a.remove(r,true);r=V;Z=true}else{while(V.firstChild){if(a.isFillChar2(V.firstChild)){V.removeChild(V.firstChild)}else{V.parentNode.insertBefore(V.firstChild,V)}}V.parentNode.removeChild(V)}}c=r;if(s){if(n.applyUneditablParent||!K){a.setAttributes(r,s);if(e&&e=="customstyle"&&s.style){r.style.cssText=s.style}}else{var me=a.breadByUneditable({node:r,attrs:s,applyUneditablParent:n.applyUneditablParent});if(me&&me[me.length-1]){c=me[me.length-1]}}}c=a.getNextDomNode(c,false,i)}else{c=a.getNextDomNode(c,true,i)}}o.moveToBookmark(l).moveToBookmark(t);return{range:o,newTagName:d}};f.setOpt("paragraph",{"p":"","h1":"","h2":"","h3":"","h4":"","h5":"","h6":""});f.commands.paragraph={execCommand:function u(o,d,s,e){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};var t=this.selection.getRange();if(t.collapsed){var i=this.document.createTextNode("p");t.insertNode(i);if(le.ie){var r=i.previousSibling;if(r&&a.isWhitespace(r)){a.remove(r)}r=i.nextSibling;if(r&&a.isWhitespace(r)){a.remove(r)}}}var l=m(t,d,s,e,n);t=l.range;d=l.newTagName;if(i){t.setStartBefore(i).collapse(true);var c=i.parentNode;a.remove(i);if(a.isBlockElm(c)&&a.isEmptyNode(c)){a.fillNode(this.document,c)}}if(le.gecko&&t.collapsed&&t.startContainer.nodeType==1){var h=t.startContainer.childNodes[t.startOffset];if(h&&h.nodeType==1&&h.tagName.toLowerCase()==d){t.setStart(h,0).collapse(true)}}t.select();return true},queryCommandValue:function u(){var o=a.filterNodeList(this.selection.getStartElementPath(),"p h1 h2 h3 h4 h5 h6");return o?o.tagName.toLowerCase():""}}};UE.plugins.horizontal=function(){var f=this;f.commands.horizontal={execCommand:function E(B){var m=this;if(m.queryCommandState(B)!==-1){m.execCommand("insertHtml",'<hr style="border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);">');var u=m.selection.getRange(),o=u.startContainer;if(o.nodeType==1&&!o.childNodes[u.startOffset]){var d;if(d=o.childNodes[u.startOffset-1]){if(d.nodeType==1&&d.tagName=="HR"){if(m.options.enterTag=="p"){d=m.document.createElement("p");u.insertNode(d);u.setStart(d,0).setCursor()}else{d=m.document.createElement("br");u.insertNode(d);u.setStartBefore(d).setCursor()}}}}return true}},queryCommandState:function E(B){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(m.allDomInRange&&m.allDomInRange[0]&&a.isContentEditable({node:m.allDomInRange[0],checkParent:false})===2){return-1}return a.filterNodeList(this.selection.getStartElementPath(),"table")?-1:0}};f.addListener("delkeydown",function(E,B){var m=this.selection.getRange();m.txtToElmBoundary(true);if(a.isStartInblock(m)){var u=m.startContainer;var o=u.previousSibling;if(o&&a.isTagNode(o,"hr")){a.remove(o);m.select();a.preventDefault(B);return true}}})};UE.plugins.rowspacing=function(){var f=this;f.commands.rowspacing={execCommand:function E(B,m,u){this.execCommand("paragraph","p",{style:"margin-"+u+":"+m+"px"},"rowSpacing",{applyUneditablParent:true});return true},queryCommandValue:function E(B,m){var u=a.filterNodeList(this.selection.getStartElementPath(),function(d){return a.isContentEditable({node:d,checkParent:false})!==2&&a.isBlockElm(d)}),o;if(u){o=a.getComputedStyle(u,"margin-"+m);if(o.match(/[^\d.]*/ig).indexOf("px")>-1){o=o.replace(/[^\d.]*/ig,"")}else{o=o.replace(/[^\d.]*/ig,"")}o+="";return!o?0:o}return 0}}};UE.plugins.quicksave=function(){var f=this;f.commands.quicksave={execCommand:function E(){this.fireEvent("quickSave")}};f.addshortcutkey({"quicksave":"ctrl+83"})};UE.plugins.justifyindent=function(){var f=this;f.commands.justifyindent={execCommand:function E(B,m){var u=this.fireEvent("getCommonReportIDKey",[B,m+""]);if(!!u){this.fireEvent("reportAddNum",u.id,u.key,1);var o=this.fireEvent("getCommonReportIDKey",[B,"all"]);if(!!o){this.fireEvent("reportAddNum",o.id,o.key,1)}}this.execCommand("paragraph","p",{style:"margin-left:"+m+"px;margin-right:"+m+"px"},"justifyindent",{applyUneditablParent:false});return true},queryCommandValue:function E(B){var m;var u=a.findParents(this.selection.getStart(),true,function(s){if(/^(ol)|(ul)$/i.test(s.nodeName)){return true}},true);if(!!u&&u.length>0){m=u[0]}else{m=a.filterNodeList(this.selection.getStartElementPath(),function(s){return a.isContentEditable({node:s,checkParent:false})!==2&&a.isBlockElm(s)})}if(m){var o=a.getComputedStyle(m,"margin-left").replace(/[^\d]/g,"");var d=a.getComputedStyle(m,"margin-right").replace(/[^\d]/g,"");if(!!o&&o==d){return o}return 0}return 0},queryCommandState:function E(B){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(m.allDomInRange&&m.allDomInRange[0]&&a.isContentEditable({node:m.allDomInRange[0],checkParent:false})===2){return-1}return 0}}};UE.plugins.lineheight=function(){var f=this;f.commands.lineheight={execCommand:function E(B,m){this.execCommand("paragraph","p",{style:"line-height:"+(m=="1"?"normal":m+"em")},"lineHeight");return true},queryCommandValue:function E(){var B=a.filterNodeList(this.selection.getStartElementPath(),function(o){return a.isBlockElm(o)});if(B){var m=a.getComputedStyle(B,"line-height");var u=a.getComputedStyle(B,"font-size");if(m.match(/[^\d.]*/ig).indexOf("px")>-1){m=m.replace(/[^\d.]*/ig,"")/u.replace(/[^\d.]*/ig,"");m=m.toFixed(1)}if(m.match(/[^\d.]*/ig).indexOf("em")>-1){m=m.replace(/[^\d.]*/ig,"")}return m=="normal"?1:m}},queryCommandState:function E(B){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(m.allDomInRange&&m.allDomInRange[0]&&a.isContentEditable({node:m.allDomInRange[0],checkParent:false})===2){return-1}return 0}}};UE.commands.cleardoc={execCommand:function f(E){var B=this,m=B.options.enterTag,u=B.selection.getRange();if(m=="br"){B.body.innerHTML="<br/>";u.setStart(B.body,0).setCursor()}else{B.body.innerHTML="<p>"+(le.ie11below?a.fillChar:"<br/>")+"</p>";u.setStart(B.body.firstChild,0).setCursor(false,true)}setTimeout(function(){B.fireEvent("clearDoc")},0)}};UE.plugins.dragdrop=function(){var f=this;f.ready(function(){a.on(this.body,"dragend",function(){var E=f.selection.getRange();var B=E.getClosedNode()||f.selection.getStart();if(B&&B.tagName=="IMG"){var m=B.previousSibling,u;while(u=B.nextSibling){if(u.nodeType==1&&u.tagName=="SPAN"&&!u.firstChild){a.remove(u)}else{break}}if((m&&m.nodeType==1&&!a.isEmptyBlock(m)||!m)&&(!u||u&&!a.isEmptyBlock(u))){if(m&&m.tagName=="P"&&!a.isEmptyBlock(m)){m.appendChild(B);a.moveChild(u,m);a.remove(u)}else if(u&&u.tagName=="P"&&!a.isEmptyBlock(u)){u.insertBefore(B,u.firstChild)}if(m&&m.tagName=="P"&&a.isEmptyBlock(m)){a.remove(m)}if(u&&u.tagName=="P"&&a.isEmptyBlock(u)){a.remove(u)}E.selectNode(B).select();f.fireEvent("saveScene")}}})})};UE.plugins.undo=function(){var f;var E=this,B=E.options.maxUndoCount||20,m=E.options.maxInputCount||30,u=new RegExp(a.fillChar+"|</hr>","gi");var o={ol:1,ul:1,table:1,tbody:1,tr:1,body:1};var d=E.options.autoClearEmptyNode;function s(v,S){if(v.length!=S.length){return 0}for(var p=0,C=v.length;p<C;p++){if(v[p]!=S[p]){return 0}}return 1}function e(v,S){if(v.collapsed!=S.collapsed){return 0}if(!s(v.startAddress,S.startAddress)||!s(v.endAddress,S.endAddress)){return 0}return 1}function n(){var v=fe.editor.ui.buttons.undo;var S=fe.editor.ui.buttons.redo;var p=E.queryCommandState("undo");var C=E.queryCommandState("redo");if(p==-1){v.setDisabled(true);v.setChecked(false)}else{v.setDisabled(false);v.setChecked(p)}if(C==-1){S.setDisabled(true);S.setChecked(false)}else{S.setDisabled(false);S.setChecked(C)}}function t(){this.list=[];this.index=0;this.hasUndo=false;this.hasRedo=false;this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&this.list.length==1){this.reset();return}while(this.list[this.index].content==this.list[this.index-1].content){this.index--;if(this.index==0){return this.restore(0)}}this.restore(--this.index)}};this.redo=function(){if(this.hasRedo){while(this.list[this.index].content==this.list[this.index+1].content){this.index++;if(this.index==this.list.length-1){return this.restore(this.index)}}this.restore(++this.index)}};this.restore=function(){var v=this.editor;var S=this.list[this.index];var p=UE.htmlparser(S.content.replace(u,""));v.options.autoClearEmptyNode=false;v.filterInputRule(p);v.options.autoClearEmptyNode=d;v.document.body.innerHTML=p.toHtml();v.fireEvent("afterscencerestore");if(le.ie){re.each(a.getElementsByTagName(v.document,"td th caption p"),function(A){if(a.isEmptyNode(A)){a.fillNode(v.document,A)}})}try{var C=new Ae.Range(v.document).moveToAddress(S.address);C.select(o[C.startContainer.nodeName.toLowerCase()])}catch(A){}this.editor.fireEvent("hide_common_popup");this.update();this.clearKey();v.fireEvent("reset",true)};this.getScene=function(){var v=this.editor;var S=v.selection.getRange(),p=S.createAddress(false,true);v.fireEvent("beforegetscene");var C=UE.htmlparser(v.body.innerHTML);v.options.autoClearEmptyNode=false;v.filterOutputRule(C);v.options.autoClearEmptyNode=d;var A=C.toHtml();v.fireEvent("aftergetscene");return{address:p,content:A}};this.save=function(v,S){clearTimeout(f);var p=this.getScene(S),C=this.list[this.index];this.editor.fireEvent("beforesavescene",p);if(C&&C.content==p.content&&(v?1:e(C.address,p.address))){return}this.list=this.list.slice(0,this.index+1);this.list.push(p);if(this.list.length>B){this.list.shift()}this.index=this.list.length-1;this.clearKey();this.update()};this.update=function(){this.hasRedo=!!this.list[this.index+1];this.hasUndo=!!this.list[this.index-1];n()};this.reset=function(){this.list=[];this.index=0;this.hasUndo=false;this.hasRedo=false;this.clearKey();this.editor.fireEvent("hide_common_popup")};this.clearKey=function(){l=0;c=null};this.replaceLast=function(){if(this.list&&this.list.length>0&&typeof this.list.pop==="function"){this.list.pop()}this.save()}}E.undoManger=new t;E.undoManger.editor=E;function i(){this.undoManger.save()}E.addListener("saveScene",function(){var v=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,v)});E.addListener("beforeexeccommand",i);E.addListener("afterexeccommand",i);E.addListener("reset",function(v,S){if(!S){this.undoManger.reset()}});E.commands.redo=E.commands.undo={execCommand:function v(S){this.undoManger[S]()},queryCommandState:function v(S){return this.undoManger["has"+(S.toLowerCase()=="undo"?"Undo":"Redo")]?0:-1},notNeedUndo:1};var r={16:1,17:1,18:1,37:1,38:1,39:1,40:1},l=0,c;var h=false;E.addListener("ready",function(){a.on(this.body,"compositionstart",function(){h=true});a.on(this.body,"compositionend",function(){h=false})});E.addshortcutkey({"Undo":"ctrl+90","Redo":"ctrl+89"});var b=true;E.addListener("keyup",function(v,S){var p=this;var C=S.keyCode||S.which;if(!r[C]&&!S.ctrlKey&&!S.metaKey&&!S.shiftKey&&!S.altKey){var A=function q(K){if(K.selection.getRange().collapsed){if(!K.quicksave){K.fireEvent("contentchange","keyup")}else{K.quicksave=false}K.undoManger.save(false,true);K.fireEvent("selectionchange",false,false,"keyup")}};if(h){return}if(!p.selection.getRange().collapsed){p.undoManger.save(false,true);b=false;return}if(p.undoManger.list.length==0){p.undoManger.save(true)}clearTimeout(f);f=setTimeout(function(){if(h){var q=setInterval(function(){if(!h){A(p);clearInterval(q)}},1e3);return}A(p)},1e3);c=C;l++}});E.addListener("keyup",function(v,S){var p=S.keyCode||S.which;if(!r[p]&&!S.ctrlKey&&!S.metaKey&&!S.shiftKey&&!S.altKey){if(h){return}if(!b){this.undoManger.save(false,true);b=true}}})};UE.plugins.paste=function(){var f=this;var E="baidu_pastebin";var B=null;var m=0;var u=0;var o;var d={value:["ForeColor","BackColor","FontSize","lineheight","justify","justifyindent","letterspacing","Underline","StrikeThrough"],state:["Bold","Italic","indent"]};function s(c,h){F.saveSpeeds({pid:34,speeds:[{sid:c,time:h}]});F.send()}function e(c){var h=this.document;if(h.getElementById(E)){return}var b=this.selection.getRange(),v=b.createBookmark(),S=h.createElement("div");S.id=E;le.webkit&&S.appendChild(h.createTextNode(a.fillChar+a.fillChar));h.body.appendChild(S);v.start.style.display="";S.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+a.getXY(v.start).y+"px";b.selectNodeContents(S).select(true);setTimeout(function(){if(le.webkit){for(var p=0,C=h.querySelectorAll("#"+E),A;A=C[p++];){if(a.isEmptyNode(A)){a.remove(A)}else{S=A;break}}}try{S.parentNode.removeChild(S)}catch(q){}b.moveToBookmark(v).select(true);c(S)},50)}function n(c){var h;var b=c.querySelectorAll("meta");for(var v=0,S;S=b[v++];){a.remove(S)}var p=c.querySelectorAll("link");for(var v=0,S;S=p[v++];){a.remove(S)}var C=c.querySelectorAll("style");for(var v=0,S;S=C[v++];){a.remove(S)}var A=c.querySelectorAll("mpchecktext");for(var v=0,S;S=A[v++];){a.remove(S)}var q=c.querySelectorAll("[style]");q.forEach(function(ht){var Lt=ht.getAttribute("style");var kt=Lt.replace(/\btext-wrap\s*:\s*nowrap\s*;/g,"");ht.setAttribute("style",kt)});if(xe){a.remove(c.lastChild);var K=c.querySelectorAll("br");for(var v=0,S;S=K[v++];){a.remove(S)}}ce=z.convertToPlainText(c);var V,Z;var me=null;if(c.firstChild){me=Q.filterBr({node:c});if(me.hasFilterNode){f.fireEvent("reportAddNum",67292,119,1)}var he=a.getElementsByTagName(c,"span");for(var v=0,oe;oe=he[v++];){if(oe.id=="_baidu_cut_start"||oe.id=="_baidu_cut_end"){a.remove(oe)}}if(le.webkit){var K=c.querySelectorAll("div br");for(var v=0,de;de=K[v++];){var ge=de.parentNode;if(ge.tagName=="DIV"&&ge.childNodes.length==1){ge.innerHTML="<p><br/></p>";a.remove(ge)}}var ke=c.querySelectorAll("#"+E);for(var v=0,Ie;Ie=ke[v++];){var qe=f.document.createElement("p");Ie.parentNode.insertBefore(qe,Ie);while(Ie.firstChild){qe.appendChild(Ie.firstChild)}a.remove(Ie)}var K=c.querySelectorAll("br");for(v=0;S=K[v++];){if(/^apple-/i.test(S.className)){a.remove(S)}}}if(le.gecko){var tt=c.querySelectorAll("[_moz_dirty]");for(v=0;S=tt[v++];){S.removeAttribute("_moz_dirty")}}if(!le.ie){var Je=c.querySelectorAll("span.Apple-style-span");for(var v=0,S;S=Je[v++];){a.remove(S,true)}}f.filterInputNativeNode(c);V=c.innerHTML;me=Q.filterBr({html:V});if(me.hasFilterHtml){V=me.html;f.fireEvent("reportAddNum",67292,120,1)}V=Q.filterClass(V,G);if(/text-decoration-line/g.test(V)){V=V.replace(/(<[^>]+?style=([\'\"]))([^\2]*?text-decoration-line[\s]*:[^\2]*?)(\2)/gi,function(){return arguments[1]+arguments[3].replace(/text-decoration-line[\s]*:/g,"text-decoration:")+arguments[4]})}var He=UE.htmlparser(V);try{f.deleteNestNode({root:He,isPaste:true,html:V,isNeedDelete:true,ignoreStyle:true});f.deleteRedundantNode({root:He})}catch(ht){M.setSum("129180","85","1");M.send()}if(f.options.filterPasteRules){UE.filterNode(He,f.options.filterPasteRules)}f.filterInputRule(He);if(le.webkit){var nt=He.lastChild();if(nt&&nt.type=="element"&&nt.tagName=="br"){He.removeChild(nt)}re.each(f.body.querySelectorAll("div"),function(ht){if(a.isEmptyBlock(ht)){a.remove(ht)}})}V={"html":He.toHtml()};var it=+new Date;f.fireEvent("beforepaste",V,He);var ut=+new Date-it;s(52,ut);if(!V.html){return}se=V.html;if(ye==="apply"){var ze=document.createElement("div");ze.innerHTML=se;H(ze);h=ze.innerHTML;se=z.modifyDefaultStyle(se,0)}else{h=se}if(f.queryCommandState("pasteplain")===1){Z=f.execCommand("insertHtml",UE.filterNode(He,f.options.filterTxtRules).toHtml(),true)}else{UE.filterNode(He,f.options.filterTxtRules);var gt=f.selection.getRange();var ot=gt.createPasteBlockContent(h);Z=f.execCommand("insertHtml",ot,true)||[]}f.fireEvent("funcPvUvReport","paste");var Ct=+new Date;f.fireEvent("afterpaste",V,Z);var st=+new Date-Ct;s(53,st);var wt=[];for(var lt=0,vt=Z.length;lt<vt;lt++){var At=Z[lt];wt.push(At.outerHTML)}u=+new Date-m;s(50,u)}}function t(){o={};for(var c in d){var h;if(c==="value"){h="queryCommandValue"}else if(c==="state"){h="queryCommandState"}for(var b=0;b<d[c].length;b++){var v=d[c][b].toLowerCase();var S=f[h](v);o[v]={type:c,value:S}}}o.rowspacingTop={type:"rowspacing",value:f.queryCommandValue("rowspacing","top")};o.rowspacingBottom={type:"rowspacing",value:f.queryCommandValue("rowspacing","bottom")}}function i(){f.execCommand("removeformat",{tags:"span",style:"line-height"});for(var c in o){switch(o[c].type){case"value":f.execCommand(c,o[c].value);break;case"state":f.execCommand(c,o[c].value);break;case"rowspacing":if(c==="rowspacingTop"){f.execCommand("rowspacing",o[c].value,"top")}else if(c==="rowspacingBottom"){f.execCommand("rowspacing",o[c].value,"bottom")}break;default:break}}}function r(c){var h=f.selection.getRange();var b="js_set_style_bin";h.createCollapsePasteBookmark();var v="";var S=f.document;var p;if(S.getElementById(b)){p=S.getElementById(b)}else{p=S.createElement("section")}p.id=b;p.innerHTML='<section id="js_set_style_bin_wrap">'.concat(c,"</section>");le.webkit&&p.appendChild(S.createTextNode(a.fillChar+a.fillChar));S.body.appendChild(p);p.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;";h.selectNodeContents(p.firstChild).select(true);i();if(p.querySelector("#js_set_style_bin_wrap")){a.trimWhiteTextNode(p.firstChild);v=p.firstChild.innerHTML}else{a.trimWhiteTextNode(p);if(p.childNodes>1){v=p.innerHTML}else{v=p.firstChild.innerHTML}}p.parentNode.removeChild(p);h.moveToCollapsePasteBookmark();h.select(true);return v}function l(c){var h=false;var b=false;var v=false;var S=+new Date;var p=te.init({Eles:c});if(p.deepCount>0){h=true}if(p.invisibleCount>0){b=true}if(p.flatCount>0){v=true}f.fireEvent("reportAddNum",67292,94,1);if(h){var C=+new Date-S;f.fireEvent("reportAddNum",67292,95,1);f.fireEvent("reportAddNum",67292,97,C);s(51,C)}if(b){f.fireEvent("reportAddNum",67292,115,1)}if(v){f.fireEvent("reportAddNum",67292,117,1)}}f.addListener("get_paste_domid",function(c){return E});f.addListener("clearWordPastePopAnchor",function(c){fe.editor.ui.Popup.pastePop&&fe.editor.ui.Popup.pastePop.hide();var h=f.document.getElementsByClassName("js_pasteword");for(var b=0;b<h.length;b++){if(h[b].innerHTML!=="\uFEFF"){h[b].outerHTML=h[b].innerHTML}else{a.remove(h[b])}}});f.addListener("clearWordPastePopRangeNode",function(c){var h=f.selection.getRange();var b=h.getPasteBookMark();var v=b.startNode;var S=b.endNode;a.remove(v);a.remove(S)});f.addListener("pasteTransfer",function(c,h){if(ce&&se&&ce!=se){var b=f.selection.getRange();b.moveToPasteBookmark(true);f.fireEvent("clearWordPastePopAnchor");b.select(true);f.__hasEnterExecCommand=true;var v=se;var S;if(h===2){v=r(v)}else if(h===3){var p=b.getPasteBookMarkStatus();if(p.startNode&&p.endNode){v=ce}else{v="<span>"+ce+"</span>"}v=r(v)}else if(h===1){v=se}S=b.createPasteBlockContent(v);f.execCommand("inserthtml",S,true);f.__hasEnterExecCommand=false;var C=f.selection.getRange();while(!a.isBody(C.startContainer)&&!C.startOffset&&C.startContainer[C.startContainer.nodeType==3?"nodeValue":"childNodes"].length){C.setStartBefore(C.startContainer)}var A=C.createAddress(true)}});f.addListener("ready",function(){a.on(f.body,"cut",function(){var b=f.selection.getRange();if(!b.collapsed&&f.undoManger){f.undoManger.save()}});var c="onpaste"in f.document;var h={x:-1,y:-1};a.on(f.body,"copy",function(b){var v=false;var S=b.client,p=f.selection.getRange();var C=p.cloneContents();j.forEach(function(q){var K=C.querySelectorAll(q.name);for(var V=0;V<K.length;V++){if($(K[V]).parents("p").length>0){$(K[V]).parents("p").replaceTagName("section");v=true}}});if(v){b.preventDefault();var A=document.createElement("div");A.appendChild(C);b.clipboardData.setData("text/plain",A.innerText||A.textContent);b.clipboardData.setData("text/html",A.innerHTML);p.select()}});a.on(f.body,!c?"keydown":"paste",function(b){if(!c&&(!b.ctrlKey&&!b.metaKey||b.keyCode!="86")){return}if(f.fireEvent("beforepasteEvent")===false){return}if(f.fireEvent("onpasting",b)!==true){var v;try{v=b.clipboardData.getData("text/html");var S=document.createElement("div");S.innerHTML=v;if(S.lastChild.nodeName==="BR"){xe=true}else{xe=false}}catch(p){v="";xe=false}m=+new Date;t();ye=w(v,"text/html");e.call(f,function(p){n(p)})}else{if(!!b.stopPropagation){b.stopPropagation();b.preventDefault()}return false}});a.on(f.body,"drop",function(b){b.preventDefault();try{var v="custom_select_card_wrp";var C;var S=b.clientX,p=b.clientY,C,A,q;if(document.caretPositionFromPoint){C=f.iframe.contentDocument.caretPositionFromPoint(S,p);A=C.offsetNode;q=C.offset}else{if(document.caretRangeFromPoint){C=f.iframe.contentDocument.caretRangeFromPoint(S,p);A=C.startContainer;q=C.startOffset}}if(A&&A.className&&A.className.indexOf(v)){C&&C.selectNode(A.nextSibling)}var K=a.findParents(A,false,function(Z){return Z.className.indexOf(v)!==-1});if(K.length){C.selectNode(K[0]);A=C.startContainer;q=C.startOffset}C.collapse&&C.collapse(true);f.fireEvent("ondroping",b,C)}catch(Z){}var V=document.getElementsByClassName("syl-drop-cursor")[0];V&&V.parentNode.removeChild(V)});a.on(f.body,"dragover",function(b){var v="custom_select_card_wrp";try{var C,S,p,C,A;f.body.style.caretColor="transparent";if(document.caretPositionFromPoint){C=f.iframe.contentDocument.caretPositionFromPoint(x,y);S=C.offsetNode;p=C.offset}else{if(document.caretRangeFromPoint){C=f.iframe.contentDocument.caretRangeFromPoint(b.x,b.y);S=C.startContainer;p=C.startOffset}}var q=a.findParents(S,false,function(nt){return nt.className.indexOf(v)!==-1});if(q.length){C.selectNode(q[0]);S=C.startContainer;p=C.startOffset}var K,V;var Z;V=S;if(!a.isBlockElm2(V.parentNode)){var me=V.previousSibling,he=V.nextSibling;if((!he||he.nodeName!=="MPCHECKTEXT")&&!V.className.indexOf(v)){if(me||he){var oe;if(!V.getBoundingClientRect){var C=document.createRange();C.selectNode(V);oe=C.getBoundingClientRect()}else{oe=V.getBoundingClientRect()}var de=me?oe.bottom:oe.top;if(me&&he){var ge=S;ge&&(de=(de+ge.getBoundingClientRect().top)/2)}Z={left:oe.left,right:oe.right,top:de-2/2,bottom:de+2/2}}}}if(!Z){var ke=f.coordsAtPos(V,p);Z={left:ke.left-2/2,right:ke.left+2/2,top:ke.top,bottom:ke.bottom}}if(Z===A){return}A=Z;var Ie=document.getElementById("edui1_iframeholder");var qe=document.getElementsByClassName("syl-drop-cursor")[0];if(!qe){!K&&Ie&&(K=Ie.appendChild(document.createElement("div")),K.className="syl-drop-cursor"),K.style.cssText="position: absolute; z-index: 50; pointer-events: none;background-color: #07C160"}else{K=qe}var tt=Ie.getBoundingClientRect();var Je=95;var He=6;K.style.left=Z.left-Je+"px",K.style.top=Z.top+He-5+"px",K.style.width=Z.right-Z.left+"px",K.style.height=Z.bottom-Z.top+5+"px"}catch(nt){f.body.style.caretColor=""}});a.on(f.document,"dragenter",function(b){b.preventDefault()});a.on(f.document,"dragover",function(b){b.preventDefault()});a.on(f.body,"dragleave",function(b){var v=document.getElementsByClassName("syl-drop-cursor")[0];v&&v.parentNode.removeChild(v);f.body.style.caretColor=""})})};UE.plugins.list=function(){var f=this,E={"TD":1,"PRE":1,"BLOCKQUOTE":1};var B={"cn":"cn-1-","cn1":"cn-2-","cn2":"cn-3-","num":"num-1-","num1":"num-2-","num2":"num-3-","dash":"dash","dot":"dot"};f.setOpt({"insertorderedlist":{"decimal":"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},"insertunorderedlist":{"circle":"","disc":"","square":""},listDefaultPaddingLeft:"30",listiconpath:"http://bs.baidu.com/listicon/",maxListLevel:-1});function m(l){var c=[];for(var h in l){c.push(h)}return c}var u={"OL":m(f.options.insertorderedlist),"UL":m(f.options.insertunorderedlist)};var o=f.options.listiconpath;for(var d in B){if(!f.options.insertorderedlist.hasOwnProperty(d)&&!f.options.insertunorderedlist.hasOwnProperty(d)){delete B[d]}}f.ready(function(){var l=[];for(var c in B){if(c=="dash"||c=="dot"){l.push("li.list-"+B[c]+"{background-image:url("+o+B[c]+".gif)}");l.push("ul.custom_"+c+"{list-style:none;}ul.custom_"+c+" li{background-position:0 3px;background-repeat:no-repeat}")}else{for(var h=0;h<99;h++){l.push("li.list-"+B[c]+h+"{background-image:url("+o+"list-"+B[c]+h+".gif)}")}l.push("ol.custom_"+c+"{list-style:none;}ol.custom_"+c+" li{background-position:0 3px;background-repeat:no-repeat}")}switch(c){case"cn":l.push("li.list-"+c+"-paddingleft-1{padding-left:25px}");l.push("li.list-"+c+"-paddingleft-2{padding-left:40px}");l.push("li.list-"+c+"-paddingleft-3{padding-left:55px}");break;case"cn1":l.push("li.list-"+c+"-paddingleft-1{padding-left:30px}");l.push("li.list-"+c+"-paddingleft-2{padding-left:40px}");l.push("li.list-"+c+"-paddingleft-3{padding-left:55px}");break;case"cn2":l.push("li.list-"+c+"-paddingleft-1{padding-left:40px}");l.push("li.list-"+c+"-paddingleft-2{padding-left:55px}");l.push("li.list-"+c+"-paddingleft-3{padding-left:68px}");break;case"num":case"num1":l.push("li.list-"+c+"-paddingleft-1{padding-left:25px}");break;case"num2":l.push("li.list-"+c+"-paddingleft-1{padding-left:35px}");l.push("li.list-"+c+"-paddingleft-2{padding-left:40px}");break;case"dash":l.push("li.list-"+c+"-paddingleft{padding-left:35px}");break;case"dot":l.push("li.list-"+c+"-paddingleft{padding-left:20px}")}}l.push(".list-paddingleft-1 {padding-left:1.2em}");l.push(".list-paddingleft-2 {padding-left:1.2em}");l.push(".list-paddingleft-3 {padding-left:1.2em}");re.cssRule("list","ol,ul{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box;"+(le.ie||le.gecko&&le.version>=11e4?"":"width:99.9%")+"}li{clear:both;}"+l.join("\n"),f.document)});f.ready(function(){a.on(f.body,"cut",function(){setTimeout(function(){var l=f.selection.getRange(),c;if(!l.collapsed){if(c=a.findParentByTagName(l.startContainer,"li",true)){if(!c.nextSibling&&a.isEmptyBlock(c)){var h=c.parentNode,b;if(b=h.previousSibling){a.remove(h);l.setStartAtLast(b).collapse(true);l.select(true)}else if(b=h.nextSibling){a.remove(h);l.setStartAtFirst(b).collapse(true);l.select(true)}else{var v=f.document.createElement("p");a.fillNode(f.document,v);h.parentNode.insertBefore(v,h);a.remove(h);l.setStart(v,0).collapse(true);l.select(true)}}}}})})});function s(l){var c=l.className;if(a.hasClass(l,/custom_/)){return c.match(/custom_(\w+)/)[1]}return a.getStyle(l,"list-style-type")}f.addListener("beforepaste",function(l,c){var h=this,b=h.selection.getRange(),v;var S=UE.htmlparser(c.html,true);if(v=a.findParentByTagName(b.startContainer,"li",true)){var p=v.parentNode,C=p.tagName=="OL"?"ul":"ol";re.each(S.getNodesByTagName(C),function(A){A.tagName=p.tagName;A.setAttr();if(A.parentNode===S){l=s(p)||(p.tagName=="OL"?"decimal":"disc")}else{var q=A.parentNode.getAttr("class");if(q&&/custom_/.test(q)){l=q.match(/custom_(\w+)/)[1]}else{l=A.parentNode.getStyle("list-style-type")}if(!l){l=p.tagName=="OL"?"decimal":"disc"}}var K=re.indexOf(u[p.tagName],l);if(A.parentNode!==S){K=K+1==u[p.tagName].length?0:K+1}var V=u[p.tagName][K];if(B[V]){A.setAttr("class","custom_"+V)}else{A.setStyle("list-style-type",V)}})}c.html=S.toHtml()});f.addInputRule(function(l){re.each(l.getNodesByTagName("li"),function(v){var S=UE.uNode.createElement("p");for(var p=0,C;C=v.children[p];){if(C.type=="text"||Re.p[C.tagName]){S.appendChild(C)}else{if(S.firstChild()){v.insertBefore(S,C);S=UE.uNode.createElement("p");p+=2}else{p++}}}if(S.firstChild()&&!S.parentNode||!v.firstChild()){v.appendChild(S)}if(!S.firstChild()){S.innerHTML(le.ie11below?a.fillChar:"<br/>")}var A=v.firstChild();var q=A.lastChild();if(q&&q.type=="text"&&/^\s*$/.test(q.data)){A.removeChild(q)}});var c={"num1":/^\d+\)/,"decimal":/^\d+\./,"lower-alpha":/^[a-z]+\)/,"upper-alpha":/^[A-Z]+\./,"cn":/^[\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+[\u3001]/,"cn2":/^\([\u4E00\u4E8C\u4E09\u56DB\u516d\u4e94\u4e03\u516b\u4e5d]+\)/},h={"square":"n"};function b(v,S){var p=S.firstChild();if(p&&p.type=="element"&&p.tagName=="span"&&/Wingdings|Symbol/.test(p.getStyle("font-family"))){for(var C in h){if(h[C]==p.data){return C}}return"disc"}for(var C in c){if(c[C].test(v)){return C}}}re.each(l.getNodesByTagName("p"),function(v){if(v.getAttr("class")!="MsoListParagraph"){return}v.setStyle("margin","");v.setStyle("margin-left","");v.setAttr("class","");function S(V,Z,me){if(V.tagName=="ol"){if(le.ie){var he=Z.firstChild();if(he.type=="element"&&he.tagName=="span"&&c[me].test(he.innerText())){Z.removeChild(he)}}else{Z.innerHTML(Z.innerHTML().replace(c[me],""))}}else{Z.removeChild(Z.firstChild())}var oe=UE.uNode.createElement("li");oe.appendChild(Z);V.appendChild(oe)}var p=v,C,A=v;if(v.parentNode.tagName!="li"&&(C=b(v.innerText(),v))){var q=UE.uNode.createElement(f.options.insertorderedlist.hasOwnProperty(C)?"ol":"ul");if(B[C]){q.setAttr("class","custom_"+C)}else{q.setStyle("list-style-type",C)}while(v&&v.parentNode.tagName!="li"&&b(v.innerText(),v)){p=v.nextSibling();if(!p){v.parentNode.insertBefore(q,v)}S(q,v,C);v=p}if(!q.parentNode&&v&&v.parentNode){v.parentNode.insertBefore(q,v)}}var K=A.firstChild();if(K&&K.type=="element"&&K.tagName=="span"&&/^\s*(&nbsp;)+\s*$/.test(K.innerText())){K.parentNode.removeChild(K)}})});f.addListener("contentchange",function(){e(f.document)});function e(l,c){re.each(a.getElementsByTagName(l,"ol ul"),function(h){if(!a.inDoc(h,l)){return}var b=h.parentNode;if(b.tagName==h.tagName){var v=s(h)||(h.tagName=="OL"?"decimal":"disc"),S=s(b)||(b.tagName=="OL"?"decimal":"disc");if(v==S){var p=re.indexOf(u[h.tagName],v);p=p+1==u[h.tagName].length?0:p+1;t(h,u[h.tagName][p])}}var C=0,A=1;if(a.hasClass(h,/custom_/)){if(!(/[ou]l/i.test(b.tagName)&&a.hasClass(b,/custom_/))){A=1}}else{if(/[ou]l/i.test(b.tagName)&&a.hasClass(b,/custom_/)){A=3}}if(h.childNodes.length>=100){A=3}h.className=re.trim(h.className.replace(/list-paddingleft-\w+/,""))+" list-paddingleft-"+A;re.each(a.getElementsByTagName(h,"li"),function(q){if(!q.firstChild){a.remove(q);return}if(q.parentNode!==h){return}C++;if(a.hasClass(h,/custom_/)){var K=1,V=s(h);if(h.tagName=="OL"){if(V){switch(V){case"cn":case"cn1":case"cn2":if(C>10&&(C%10==0||C>10&&C<20)){K=2}else if(C>20){K=3}break;case"num2":if(C>9){K=2}}}q.className="list-"+B[V]+C+" list-"+V+"-paddingleft-"+K}else{q.className="list-"+B[V]+" list-"+V+"-paddingleft"}}else{q.className=q.className.replace(/list-[\w\-]+/gi,"")}var Z=q.getAttribute("class");if(Z!==null&&!Z.replace(/\s/g,"")){a.removeAttributes(q,"class")}});!c&&n(h,h.tagName.toLowerCase(),s(h)||a.getStyle(h,"list-style-type"),true)})}function n(l,c,h,b){var v=l.nextSibling;if(v&&v.nodeType==1&&v.tagName.toLowerCase()==c&&(s(v)||a.getStyle(v,"list-style-type")||(c=="ol"?"decimal":"disc"))==h){a.moveChild(v,l);if(v.childNodes.length==0){a.remove(v)}}if(v&&a.isFillChar(v)){a.remove(v)}var S=l.previousSibling;if(S&&S.nodeType==1&&S.tagName.toLowerCase()==c&&(s(S)||a.getStyle(S,"list-style-type")||(c=="ol"?"decimal":"disc"))==h){a.moveChild(l,S)}if(S&&a.isFillChar(S)){a.remove(S)}!b&&a.isEmptyBlock(l)&&a.remove(l);if(s(l)){e(l.ownerDocument,true)}}function t(l,c){if(B[c]){l.className="custom_"+c}try{a.setStyle(l,"list-style-type",c)}catch(h){}}function i(l){var c=l.previousSibling;if(c&&a.isEmptyBlock(c)){a.remove(c)}c=l.nextSibling;if(c&&a.isEmptyBlock(c)){a.remove(c)}}f.addListener("keydown",function(l,c){function h(){c.preventDefault?c.preventDefault():c.returnValue=false;f.fireEvent("contentchange");f.undoManger&&f.undoManger.save()}function b(it,ut){while(it&&!a.isBody(it)){if(ut(it)){return null}if(it.nodeType==1&&/[ou]l/i.test(it.tagName)){return it}it=it.parentNode}return null}var v=c.keyCode||c.which;if(v==13&&!c.shiftKey){var S=f.selection.getRange(),p=a.findParent(S.startContainer,function(it){return a.isBlockElm(it)},true),C=a.findParentByTagName(S.startContainer,"li",true);if(p&&p.tagName!="PRE"&&!C){var A=p.innerHTML.replace(new RegExp(a.fillChar,"g"),"");if(/^\s*1\s*\.[^\d]/.test(A)){p.innerHTML=A.replace(/^\s*1\s*\./,"");S.setStartAtLast(p).collapse(true).select();f.__hasEnterExecCommand=true;f.execCommand("insertorderedlist");f.__hasEnterExecCommand=false}}var q=f.selection.getRange(),K=b(q.startContainer,function(it){return it.tagName=="TABLE"}),V=q.collapsed?K:b(q.endContainer,function(it){return it.tagName=="TABLE"});if(K&&V&&K===V){if(!q.collapsed){K=a.findParentByTagName(q.startContainer,"li",true);V=a.findParentByTagName(q.endContainer,"li",true);if(K&&V&&K===V){q.deleteContents();C=a.findParentByTagName(q.startContainer,"li",true);if(C&&a.isEmptyBlock(C)){He=C.previousSibling;next=C.nextSibling;Ie=f.document.createElement("p");a.fillNode(f.document,Ie);ge=C.parentNode;if(He&&next){q.setStart(next,0).collapse(true).select(true);a.remove(C)}else{if(!He&&!next||!He){ge.parentNode.insertBefore(Ie,ge)}else{C.parentNode.parentNode.insertBefore(Ie,ge.nextSibling)}a.remove(C);if(!ge.firstChild){a.remove(ge)}q.setStart(Ie,0).setCursor()}h();return}}else{var Z=q.cloneRange(),me=Z.collapse(false).createBookmark();q.deleteContents();Z.moveToBookmark(me);var C=a.findParentByTagName(Z.startContainer,"li",true);i(C);Z.select();h();return}}C=a.findParentByTagName(q.startContainer,"li",true);var he=!!le.safari;var oe;var de;if(C){if(a.isEmptyBlock(C)){me=q.createBookmark();var ge=C.parentNode;if(C!==ge.lastChild){a.breakParent(C,ge);i(C)}else{ge.parentNode.insertBefore(C,ge.nextSibling);if(a.isEmptyNode(ge)){a.remove(ge)}}if(!Re.$list[C.parentNode.tagName]){if(!a.isBlockElm(C.firstChild)){Ie=f.document.createElement("p");C.parentNode.insertBefore(Ie,C);while(C.firstChild){Ie.appendChild(C.firstChild)}a.remove(C)}else{a.remove(C,true)}}q.moveToBookmark(me).select()}else{var ke=C.firstChild;if(!ke||!a.isBlockElm(ke)){var Ie=f.document.createElement("p");!C.firstChild&&a.fillNode(f.document,Ie);while(C.firstChild){Ie.appendChild(C.firstChild)}C.appendChild(Ie);ke=Ie}var qe=f.document.createElement("span");q.insertNode(qe);var tt=qe.nextSibling;if(!he||!tt||tt.nodeType!==1||a.getComputedStyle(tt,"display")!=="none"){he=false}a.breakParent(qe,C,true,true);var Je=qe.nextSibling;ke=Je.firstChild;if(!ke){Ie=f.document.createElement("p");a.fillNode(f.document,Ie);Je.appendChild(Ie);ke=Ie}if(a.isEmptyNode(ke,false)){oe=ke;ke.innerHTML="";a.fillNode(f.document,ke)}if(he&&oe){de=q.setStart(ke,0).collapse(true).shrinkBoundary().createBookmark(true)}else{q.setStart(ke,0).collapse(true).shrinkBoundary().select()}a.remove(qe);var He=Je.previousSibling;if(He&&a.isEmptyBlock(He)){He.innerHTML="<p></p>";a.fillNode(f.document,He.firstChild)}}h();if(he&&oe&&de){var nt=oe.parentNode;nt.style.display="none";setTimeout(function(){nt.style.display="";q.moveToBookmark(de).select()},0)}}}}if(v==8){q=f.selection.getRange();if(q.collapsed&&a.isStartInblock(q)){Z=q.cloneRange().trimBoundary();C=a.findParentByTagName(q.startContainer,"li",true);if(C&&a.isStartInblock(Z)){K=a.findParentByTagName(q.startContainer,"p",true);if(K&&K!==C.firstChild){var ge=a.findParentByTagName(K,["ol","ul"]);a.breakParent(K,ge);i(K);f.fireEvent("contentchange");q.setStart(K,0).setCursor(false,true);f.fireEvent("saveScene");a.preventDefault(c);return}if(C&&(He=C.previousSibling)){if(v==46&&C.childNodes.length){return}if(Re.$list[He.tagName]){He=He.lastChild}f.undoManger&&f.undoManger.save();ke=C.firstChild;if(a.isBlockElm(ke)){if(a.isEmptyNode(ke)){He.appendChild(ke);q.setStart(ke,0).setCursor(false,true);while(C.firstChild){He.appendChild(C.firstChild)}}else{qe=f.document.createElement("span");q.insertNode(qe);if(a.isEmptyBlock(He)){He.innerHTML=""}a.moveChild(C,He);q.setStartBefore(qe).collapse(true).select(true);a.remove(qe)}}else{if(a.isEmptyNode(C)){var Ie=f.document.createElement("p");He.appendChild(Ie);q.setStart(Ie,0).setCursor()}else{q.setEnd(He,He.childNodes.length).collapse().select(true);while(C.firstChild){He.appendChild(C.firstChild)}}}a.remove(C);f.fireEvent("contentchange");f.fireEvent("saveScene");a.preventDefault(c);return}if(C&&!C.previousSibling){var ge=C.parentNode;var me=q.createBookmark();if(a.isTagNode(ge.parentNode,"ol ul")){ge.parentNode.insertBefore(C,ge);if(a.isEmptyNode(ge)){a.remove(ge)}}else{while(C.firstChild){ge.parentNode.insertBefore(C.firstChild,ge)}a.remove(C);if(a.isEmptyNode(ge)){a.remove(ge)}}q.moveToBookmark(me).setCursor(false,true);f.fireEvent("contentchange");f.fireEvent("saveScene");a.preventDefault(c)}}}}});f.addListener("keyup",function(l,c){var h=c.keyCode||c.which;if(h==8){var b=f.selection.getRange(),v;if(v=a.findParentByTagName(b.startContainer,["ol","ul"],true)){n(v,v.tagName.toLowerCase(),s(v)||a.getComputedStyle(v,"list-style-type"),true)}}});f.addListener("tabkeydown",function(){var l=f.selection.getRange();function c(he){if(f.options.maxListLevel!=-1){var oe=he.parentNode,de=0;while(/[ou]l/i.test(oe.tagName)){de++;oe=oe.parentNode}if(de>=f.options.maxListLevel){return true}}}var h=a.findParentByTagName(l.startContainer,"li",true);if(h){var b;if(l.collapsed){if(c(h)){return true}var v=h.parentNode,S=f.document.createElement(v.tagName),p=re.indexOf(u[S.tagName],s(v)||a.getComputedStyle(v,"list-style-type"));p=p+1==u[S.tagName].length?0:p+1;var C=u[S.tagName][p];t(S,C);if(a.isStartInblock(l)){f.fireEvent("saveScene");b=l.createBookmark();v.insertBefore(S,h);S.appendChild(h);n(S,S.tagName.toLowerCase(),C);f.fireEvent("contentchange");l.moveToBookmark(b).select(true);return true}}else{f.fireEvent("saveScene");b=l.createBookmark();for(var A=0,q,K=a.findParents(h),V;V=K[A++];){if(a.isTagNode(V,"ol ul")){q=V;break}}var Z=h;if(b.end){while(Z&&!(a.getPosition(Z,b.end)&a.POSITION_FOLLOWING)){if(c(Z)){Z=a.getNextDomNode(Z,false,null,function(ke){return ke!==q});continue}var v=Z.parentNode,S=f.document.createElement(v.tagName),p=re.indexOf(u[S.tagName],s(v)||a.getComputedStyle(v,"list-style-type"));var me=p+1==u[S.tagName].length?0:p+1;var C=u[S.tagName][me];t(S,C);v.insertBefore(S,Z);while(Z&&!(a.getPosition(Z,b.end)&a.POSITION_FOLLOWING)){h=Z.nextSibling;S.appendChild(Z);if(!h||a.isTagNode(h,"ol ul")){if(h){while(h=h.firstChild){if(h.tagName=="LI"){break}}}else{h=a.getNextDomNode(Z,false,null,function(ke){return ke!==q})}break}Z=h}n(S,S.tagName.toLowerCase(),C);Z=h}}f.fireEvent("contentchange");l.moveToBookmark(b).select();return true}}});function r(l){while(l&&!a.isBody(l)){if(l.nodeName=="TABLE"){return null}if(l.nodeName=="LI"){return l}l=l.parentNode}}f.commands.insertorderedlist=f.commands.insertunorderedlist={execCommand:function l(c,h){if(!h){h=c.toLowerCase()=="insertorderedlist"?"decimal":"disc"}var b=this,v=this.selection.getRange(),S=function lt(vt){return vt.nodeType==1?vt.tagName.toLowerCase()!="br":!a.isWhitespace(vt)},p=c.toLowerCase()=="insertorderedlist"?"ol":"ul",C=b.document.createDocumentFragment();v.adjustmentBoundary().shrinkBoundary();var A=v.createBookmark(true),q=r(b.document.getElementById(A.start)),K=0,V=r(b.document.getElementById(A.end)),Z=0,me,he,oe,de;if(q||V){q&&(me=q.parentNode);if(!A.end){V=q}V&&(he=V.parentNode);if(me===he){while(q!==V){de=q;q=q.nextSibling;if(!a.isBlockElm(de.firstChild)){var ge=b.document.createElement("p");while(de.firstChild){ge.appendChild(de.firstChild)}de.appendChild(ge)}C.appendChild(de)}de=b.document.createElement("span");me.insertBefore(de,V);if(!a.isBlockElm(V.firstChild)){ge=b.document.createElement("p");while(V.firstChild){ge.appendChild(V.firstChild)}V.appendChild(ge)}C.appendChild(V);a.breakParent(de,me);if(de.previousSibling&&a.isEmptyNode(de.previousSibling)){a.remove(de.previousSibling)}if(de.nextSibling&&a.isEmptyNode(de.nextSibling)){a.remove(de.nextSibling)}var ke=s(me)||a.getComputedStyle(me,"list-style-type")||(c.toLowerCase()=="insertorderedlist"?"decimal":"disc");if(me.tagName.toLowerCase()==p&&ke==h){for(var Ie=0,qe,tt=b.document.createDocumentFragment();qe=C.childNodes[Ie++];){if(a.isTagNode(qe,"ol ul")){re.each(a.getElementsByTagName(qe,"li"),function(lt){while(lt.firstChild){tt.appendChild(lt.firstChild)}})}else{while(qe.firstChild){tt.appendChild(qe.firstChild)}}}de.parentNode.insertBefore(tt,de)}else{oe=b.document.createElement(p);t(oe,h);oe.appendChild(C);de.parentNode.insertBefore(oe,de)}a.remove(de);oe&&n(oe,p,h);v.moveToBookmark(A).select();return}if(q){while(q){de=q.nextSibling;if(a.isTagNode(q,"ol ul")){C.appendChild(q)}else{var Je=b.document.createDocumentFragment(),He=0;while(q.firstChild){if(a.isBlockElm(q.firstChild)){He=1}Je.appendChild(q.firstChild)}if(!He){var nt=b.document.createElement("p");nt.appendChild(Je);C.appendChild(nt)}else{C.appendChild(Je)}a.remove(q)}q=de}me.parentNode.insertBefore(C,me.nextSibling);if(a.isEmptyNode(me)){v.setStartBefore(me);a.remove(me)}else{v.setStartAfter(me)}K=1}if(V&&a.inDoc(he,b.document)){q=he.firstChild;while(q&&q!==V){de=q.nextSibling;if(a.isTagNode(q,"ol ul")){C.appendChild(q)}else{Je=b.document.createDocumentFragment();He=0;while(q.firstChild){if(a.isBlockElm(q.firstChild)){He=1}Je.appendChild(q.firstChild)}if(!He){nt=b.document.createElement("p");nt.appendChild(Je);C.appendChild(nt)}else{C.appendChild(Je)}a.remove(q)}q=de}var it=a.createElement(b.document,"div",{"tmpDiv":1});a.moveChild(V,it);C.appendChild(it);a.remove(V);he.parentNode.insertBefore(C,he);v.setEndBefore(he);if(a.isEmptyNode(he)){a.remove(he)}Z=1}}if(!K){v.setStartBefore(b.document.getElementById(A.start))}if(A.end&&!Z){v.setEndAfter(b.document.getElementById(A.end))}v.enlarge(true,function(lt){return E[lt.tagName]});C=b.document.createDocumentFragment();var ut=v.createBookmark(),ze=a.getNextDomNode(ut.start,false,S),gt=v.cloneRange(),ot,Ct=a.isBlockElm;while(ze&&ze!==ut.end&&a.getPosition(ze,ut.end)&a.POSITION_PRECEDING){if(ze.nodeType==3||Re.li[ze.tagName]){if(ze.nodeType==1&&Re.$list[ze.tagName]){while(ze.firstChild){C.appendChild(ze.firstChild)}ot=a.getNextDomNode(ze,false,S);a.remove(ze);ze=ot;continue}ot=ze;gt.setStartBefore(ze);while(ze&&ze!==ut.end&&(!Ct(ze)||a.isBookmarkNode(ze))){ot=ze;ze=a.getNextDomNode(ze,false,null,function(lt){return!E[lt.tagName]})}if(ze&&Ct(ze)){de=a.getNextDomNode(ot,false,S);if(de&&a.isBookmarkNode(de)){ze=a.getNextDomNode(de,false,S);ot=de}}gt.setEndAfter(ot);ze=a.getNextDomNode(ot,false,S);var st=v.document.createElement("li");st.appendChild(gt.extractContents());if(a.isEmptyNode(st)){var ot=v.document.createElement("p");while(st.firstChild){ot.appendChild(st.firstChild)}st.appendChild(ot)}C.appendChild(st)}else{ze=a.getNextDomNode(ze,true,S)}}v.moveToBookmark(ut).collapse(true);oe=b.document.createElement(p);t(oe,h);oe.appendChild(C);v.insertNode(oe);n(oe,p,h);for(var Ie=0,qe,wt=a.getElementsByTagName(oe,"div");qe=wt[Ie++];){if(qe.getAttribute("tmpDiv")){a.remove(qe,true)}}v.moveToBookmark(A).select()},queryCommandState:function l(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(h.allDomInRange&&h.allDomInRange[0]&&a.isContentEditable({node:h.allDomInRange[0],checkParent:false})===2){return-1}var b=c.toLowerCase()=="insertorderedlist"?"ol":"ul";var v=this.selection.getStartElementPath();for(var S=0,p;p=v[S++];){if(p.nodeName=="TABLE"){return 0}if(b==p.nodeName.toLowerCase()){return 1}}return 0},queryCommandValue:function l(c){var h=c.toLowerCase()=="insertorderedlist"?"ol":"ul";var b=this.selection.getStartElementPath(),v;for(var S=0,p;p=b[S++];){if(p.nodeName=="TABLE"){v=null;break}if(h==p.nodeName.toLowerCase()){v=p;break}}return v?s(v)||a.getComputedStyle(v,"list-style-type"):null}}};UE.plugins.enterkey=function(){var f,E=this,B=E.options.enterTag;E.addListener("keyup",function(m,u){var o=u.keyCode||u.which;if(o==13){var d=E.selection.getRange(),s=d.startContainer,e;if(!le.ie){if(/h\d/i.test(f)){if(le.gecko){var n=a.findParentByTagName(s,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],true);if(!n){E.document.execCommand("formatBlock",false,"<p>");e=1}}else{if(s.nodeType==1){var t=E.document.createTextNode(""),i;d.insertNode(t);i=a.findParentByTagName(t,"div",true);if(i){var r=E.document.createElement("p");while(i.firstChild){r.appendChild(i.firstChild)}i.parentNode.insertBefore(r,i);a.remove(i);d.setStartBefore(t).setCursor();e=1}a.remove(t)}}if(E.undoManger&&e){E.undoManger.save()}}le.opera&&d.select()}else{E.fireEvent("saveScene",true,true)}}});E.addListener("keydown",function(m,u){var o=u.keyCode||u.which;E.fireEvent("clearWordPastePopAnchor");E.fireEvent("clearWordPastePopRangeNode");if(o==13){if(E.fireEvent("beforeenterkeydown")){a.preventDefault(u);return}E.fireEvent("saveScene",true,true);f="";var d=E.selection.getRange();if(!d.collapsed){var s=d.startContainer,e=d.endContainer,n=a.findParentByTagName(s,"td",true),t=a.findParentByTagName(e,"td",true);if(n&&t&&n!==t||!n&&t||n&&!t){u.preventDefault?u.preventDefault():u.returnValue=false;return}}if(B=="p"){if(!le.ie){s=a.findParentByTagName(d.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption","section"],true);if(!s&&!le.opera){E.document.execCommand("formatBlock",false,"<p>");if(le.gecko){d=E.selection.getRange();s=a.findParentByTagName(d.startContainer,"p",true);s&&a.removeDirtyAttr(s)}}else{f=s.tagName;s.tagName.toLowerCase()=="p"&&le.gecko&&a.removeDirtyAttr(s)}}}else{u.preventDefault?u.preventDefault():u.returnValue=false;if(!d.collapsed){d.deleteContents();s=d.startContainer;if(s.nodeType==1&&(s=s.childNodes[d.startOffset])){while(s.nodeType==1){if(Re.$empty[s.tagName]){d.setStartBefore(s).setCursor();if(E.undoManger){E.undoManger.save()}return false}if(!s.firstChild){var i=d.document.createElement("br");s.appendChild(i);d.setStart(s,0).setCursor();if(E.undoManger){E.undoManger.save()}return false}s=s.firstChild}if(s===d.startContainer.childNodes[d.startOffset]){i=d.document.createElement("br");d.insertNode(i).setCursor()}else{d.setStart(s,0).setCursor()}}else{i=d.document.createElement("br");d.insertNode(i).setStartAfter(i).setCursor()}}else{i=d.document.createElement("br");d.insertNode(i);var r=i.parentNode;if(r.lastChild===i){i.parentNode.insertBefore(i.cloneNode(true),i);d.setStartBefore(i)}else{d.setStartAfter(i)}d.setCursor()}}}})};UE.plugins.keystrokes=function(){var f=this;var E=true;f.addListener("keydown",function(B,m){var u=m.keyCode||m.which,o=f.selection.getRange();if(!o.collapsed&&!(m.ctrlKey||m.shiftKey||m.altKey||m.metaKey)&&(u>=65&&u<=90||u>=48&&u<=57||u>=96&&u<=111||{13:1,8:1,46:1}[u])){var d=o.startContainer;if(a.isFillChar(d)){o.setStartBefore(d)}d=o.endContainer;if(a.isFillChar(d)){o.setEndAfter(d)}o.txtToElmBoundary();if(o.endContainer&&o.endContainer.nodeType==1){d=o.endContainer.childNodes[o.endOffset];if(d&&a.isBr(d)){o.setEndAfter(d)}}if(o.startOffset==0){d=o.startContainer;if(a.isBoundaryNode(d,"firstChild")){d=o.endContainer;if(o.endOffset==(d.nodeType==3?d.nodeValue.length:d.childNodes.length)&&a.isBoundaryNode(d,"lastChild")){f.fireEvent("saveScene");f.body.innerHTML='<p style="margin-bottom: 0px">'+(le.ie11below?a.fillChar:"<br/>")+"</p>";o.setStart(f.body.firstChild,0).setCursor(false,true);f._selectionChange(null,null,"keydown");return}}}}if(u==8){o=f.selection.getRange();E=o.collapsed;if(f.fireEvent("delkeydown",m)){return}var s,e;if(o.collapsed&&o.inFillChar()){s=o.startContainer;if(a.isFillChar(s)){o.setStartBefore(s).shrinkBoundary(true).collapse(true);a.remove(s)}else{s.nodeValue=s.nodeValue.replace(new RegExp("^"+a.fillChar),"");o.startOffset--;o.collapse(true).select(true)}}if(s=o.getClosedNode()){f.fireEvent("saveScene");o.setStartBefore(s);a.remove(s);o.setCursor();f.fireEvent("saveScene");a.preventDefault(m);return}if(!le.ie){s=a.findParentByTagName(o.startContainer,"table",true);e=a.findParentByTagName(o.endContainer,"table",true);if(s&&!e||!s&&e||s!==e){m.preventDefault();return}}}if(u==9){var n={"ol":1,"ul":1,"table":1};if(f.fireEvent("tabkeydown",m)){a.preventDefault(m);return}var t=f.selection.getRange();f.fireEvent("saveScene");for(var i=0,r="",l=f.options.tabSize||4,c=f.options.tabNode||"&nbsp;";i<l;i++){r+=c}var h=f.document.createElement("span");h.innerHTML=r+a.fillChar;if(t.collapsed){t.insertNode(h.cloneNode(true).firstChild).setCursor(true)}else{s=a.findParent(t.startContainer,v);e=a.findParent(t.endContainer,v);if(s&&e&&s===e){t.deleteContents();t.insertNode(h.cloneNode(true).firstChild).setCursor(true)}else{var b=t.createBookmark(),v=function A(q){return a.isBlockElm(q)&&!n[q.tagName.toLowerCase()]};t.enlarge(true);var S=t.createBookmark(),p=a.getNextDomNode(S.start,false,v);while(p&&!(a.getPosition(p,S.end)&a.POSITION_FOLLOWING)){p.insertBefore(h.cloneNode(true).firstChild,p.firstChild);p=a.getNextDomNode(p,false,v)}t.moveToBookmark(S).moveToBookmark(b).select()}}a.preventDefault(m)}if(le.gecko&&u==46){t=f.selection.getRange();if(t.collapsed){s=t.startContainer;if(a.isEmptyBlock(s)){var C=s.parentNode;while(a.getChildCount(C)==1&&!a.isBody(C)){s=C;C=C.parentNode}if(s===C.lastChild){m.preventDefault()}}}}});f.addListener("keyup",function(B,m){var u=m.keyCode||m.which,o,d=this;if(u==8){if(d.fireEvent("delkeyup")){return}o=d.selection.getRange();if(o.collapsed){var s,e=["h1","h2","h3","h4","h5","h6"];if(s=a.findParentByTagName(o.startContainer,e,true)){if(a.isEmptyBlock(s)){var n=s.previousSibling;if(n&&n.nodeName!="TABLE"){a.remove(s);o.setStartAtLast(n).setCursor(false,true);return}var t=s.nextSibling;if(t&&t.nodeName!="TABLE"){a.remove(s);o.setStartAtFirst(t).setCursor(false,true);return}}}if(a.isBody(o.startContainer)){var s=a.createElement(d.document,"p",{"innerHTML":le.ie11below?a.fillChar:"<br/>"});o.insertNode(s).setStart(s,0).setCursor(false,true)}}if(!E&&(o.startContainer.nodeType==3||o.startContainer.nodeType==1&&a.isEmptyBlock(o.startContainer))){if(le.ie){var i=o.document.createElement("span");o.insertNode(i).setStartBefore(i).collapse(true);o.select();a.remove(i)}else{o.select()}}}})};UE.plugins.autoheight=function(){var f=this;f.autoHeightEnabled=f.options.autoHeightEnabled!==false;if(!f.autoHeightEnabled){return}var E,B=0,m=f.options,u,o;function d(){var n=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),t=$("#bottom_main")[0]&&$("#bottom_main")[0].getBoundingClientRect(),i=t.height,r=$("#edui1_iframeholder")[0]&&$("#edui1_iframeholder").offset().top;var l=Math.round(n-i-r-45);return l||400}function s(n){var t=this;var i=400;clearTimeout(o);if(e)return;if(!t.queryCommandState||t.queryCommandState&&t.queryCommandState("source")!=1){o=setTimeout(function(){var r=t.body.lastChild;while(r&&r.nodeType!=1||r&&r.style&&r.style.display==="none"){r=r.previousSibling}if(r&&r.nodeType==1){r.style.clear="both";m.minFrameHeight=Math.max(d(),i);u=Math.max(a.getXY(r).y+r.offsetHeight+25,m.minFrameHeight);if(n=="adjustheight"||u!=B&&u!=$(t.iframe).height()){t.setHeight(u,true);B=u}a.removeStyle(r,"clear")}t.fireEvent("afterAdjustHeightFnExcute")},50)}}var e;f.addListener("fullscreenchanged",function(n,t){e=t});f.addListener("destroy",function(){f.removeListener("adjustheight contentchange afterinserthtml keyup mouseup",s)});f.enableAutoHeight=function(){var n=this;if(!n.autoHeightEnabled){return}var t=n.document;n.autoHeightEnabled=true;E=t.body.style.overflowY;t.body.style.overflowY="hidden";n.addListener("adjustheight contentchange afterinserthtml keyup mouseup",s);setTimeout(function(){s.call(n)},le.gecko?100:0);n.fireEvent("autoheightchanged",n.autoHeightEnabled)};f.disableAutoHeight=function(){f.body.style.overflowY=E||"";f.removeListener("contentchange",s);f.removeListener("keyup",s);f.removeListener("mouseup",s);f.autoHeightEnabled=false;f.fireEvent("autoheightchanged",f.autoHeightEnabled)};f.addListener("ready",function(){f.enableAutoHeight();var n;a.on(le.ie?f.body:f.document,le.webkit?"dragover":"drop",function(){clearTimeout(n);n=setTimeout(function(){s.call(f)},100)})})};UE.plugins.autofloat=function(){var f=this,E=f.getLang();var B=f.options.autoFloatEnabled!==false,m=f.options.topOffset;if(!B){return}var u=UE.ui.uiUtils,o=le.ie&&le.version<=6,d=le.quirks;function s(){if(!UE.ui){alert(E.autofloatMsg);return 0}return 1}function e(){var p=document.body.style;p.backgroundImage='url("about:blank")';p.backgroundAttachment="fixed"}var n,t=document.createElement("div"),i,r,l,c=true;function h(){var p=a.getXY(i),C=a.getComputedStyle(i,"position"),A=a.getComputedStyle(i,"left");i.style.width=i.offsetWidth+"px";i.style.zIndex=f.options.zIndex*1+1;t.style.height=i.offsetHeight+"px";i.parentNode.insertBefore(t,i);if(o||d&&le.ie){if(i.style.position!="absolute"){i.style.position="absolute"}i.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-r+m+"px"}else{if(le.ie7Compat&&c){c=false;i.style.marginLeft="-45px";i.style.left=a.getXY(i).x-document.documentElement.getBoundingClientRect().left+2+"px"}if(i.style.position!="fixed"){i.style.position="fixed";i.style.top=m+"px";(C=="absolute"||C=="relative")&&parseFloat(A)&&(i.style.left=p.x+"px")}}}function b(){c=true;if(!!t&&t.parentNode){t.parentNode.removeChild(t)}if(!!i){i.style.cssText=n;i.style.marginLeft="0px"}}function v(){return;if(!l){}var p=l(f.container);var C=f.options.toolbarTopOffset||0;if(p.top<0&&p.bottom-i.offsetHeight>C){h()}else{b()}}var S=re.defer(function(){v()},le.ie?200:100,true);f.addListener("destroy stop_toolbar_float",function(){b();a.un(window,["scroll","resize"],v);f.removeListener("keydown",S)});f.addListener("star_toolbar_float",function(){f.fireEvent("stop_toolbar_float");v();a.on(window,["scroll","resize"],v);f.addListener("keydown",S)});f.addListener("ready",function(){if(s(f)){l=u.getClientRect;i=f.ui.getDom("toolbarbox");r=l(i).top;n=i.style.cssText;if(o){e()}a.on(window,["scroll","resize"],v);f.addListener("keydown",S);f.addListener("beforefullscreenchange",function(p,C){if(C){b()}});f.addListener("fullscreenchanged",function(p,C){if(!C){v()}});f.addListener("sourcemodechanged",function(p,C){setTimeout(function(){v()},0)});f.addListener("clearDoc",function(){setTimeout(function(){v()},0)})}})};UE.plugins.pasteplain=function(){var f=this;f.setOpt({"pasteplain":false,"filterTxtRules":function(){function B(u){u.tagName="p";u.setStyle()}function m(u){u.parentNode.removeChild(u,true)}return{"-":"script style object iframe embed input select","p":{$:{}},"br":{$:{}},div:function u(o){var d,s=UE.uNode.createElement("p");while(d=o.firstChild()){if(d.type=="text"||!UE.dom.dtd.$block[d.tagName]){s.appendChild(d)}else{if(s.firstChild()){o.parentNode.insertBefore(s,o);s=UE.uNode.createElement("p")}else{o.parentNode.insertBefore(d,o)}}}if(s.firstChild()){o.parentNode.insertBefore(s,o)}o.parentNode.removeChild(o)},ol:m,ul:m,dl:m,dt:m,dd:m,"li":m,"caption":B,"th":B,"tr":B,"h1":B,"h2":B,"h3":B,"h4":B,"h5":B,"h6":B,"td":function u(o){var d=!!o.innerText();if(d){o.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),o)}o.parentNode.removeChild(o,o.innerText())}}}()});var E=f.options.pasteplain;f.commands.pasteplain={queryCommandState:function B(){return E?1:0},execCommand:function B(){E=!E|0},notNeedUndo:1}};(function(){var f=UE.UETable=function(B){this.table=B;this.indexTable=[];this.selectedTds=[];this.cellsRange={};this.update(B)};f.removeSelectedClass=function(B){re.each(B,function(m){a.removeClasses(m,"selectTdClass")})};f.addSelectedClass=function(B){re.each(B,function(m){a.addClass(m,"selectTdClass")})};f.isEmptyBlock=function(B){var m=new RegExp(a.fillChar,"g");if(B[le.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(m,"").length>0){return 0}for(var u in Re.$isNotEmpty){if(Re.$isNotEmpty.hasOwnProperty(u)){if(B.getElementsByTagName(u).length){return 0}}}return 1};f.getWidth=function(B){if(!B)return 0;return parseInt(a.getComputedStyle(B,"width"),10)};f.getTableCellAlignState=function(B){!re.isArray(B)&&(B=[B]);var m={},u=["align","valign"],o=null,d=true;re.each(B,function(s){re.each(u,function(e){o=s.getAttribute(e);if(!m[e]&&o){m[e]=o}else if(!m[e]||o!==m[e]){d=false;return false}});return d});return d?m:null};f.getTableItemsByRange=function(B){var m=B.selection.getStart();if(m&&m.id&&m.id.indexOf("_baidu_bookmark_start_")===0){m=m.nextSibling}var u=m&&a.findParentByTagName(m,["td","th"],true),o=u&&u.parentNode,d=m&&a.findParentByTagName(m,"caption",true),s=d?d.parentNode:o&&o.parentNode.parentNode;return{cell:u,tr:o,table:s,caption:d}};f.getUETableBySelected=function(B){var m=f.getTableItemsByRange(B).table;if(m&&m.ueTable&&m.ueTable.selectedTds.length){return m.ueTable}return null};f.getDefaultValue=function(B,m){var u={thin:"0px",medium:"1px",thick:"2px"},o,d,s,e;if(!m){m=B.document.createElement("table");m.insertRow(0).insertCell(0).innerHTML="xxx";B.body.appendChild(m);var n=m.getElementsByTagName("td")[0];e=a.getComputedStyle(m,"border-left-width");o=parseInt(u[e]||e,10);e=a.getComputedStyle(n,"padding-left");d=parseInt(u[e]||e,10);e=a.getComputedStyle(n,"border-left-width");s=parseInt(u[e]||e,10);a.remove(m);return{tableBorder:o,tdPadding:d,tdBorder:s}}n=m.getElementsByTagName("td")[0];e=a.getComputedStyle(m,"border-left-width");o=parseInt(u[e]||e,10);e=a.getComputedStyle(n,"padding-left");d=parseInt(u[e]||e,10);e=a.getComputedStyle(n,"border-left-width");s=parseInt(u[e]||e,10);return{tableBorder:o,tdPadding:d,tdBorder:s}};f.getUETable=function(B){var m=B.tagName.toLowerCase();B=m=="td"||m=="th"||m=="caption"?a.findParentByTagName(B,"table",true):B;if(!B.ueTable){B.ueTable=new f(B)}return B.ueTable};f.cloneCell=function(B,m,u){if(!B||re.isString(B)){return this.table.ownerDocument.createElement(B||"td")}var o=a.hasClass(B,"selectTdClass");o&&a.removeClasses(B,"selectTdClass");var d=B.cloneNode(true);if(m){d.rowSpan=d.colSpan=1}!u&&a.removeAttributes(d,"width height");!u&&a.removeAttributes(d,"style");d.style.borderLeftStyle="";d.style.borderTopStyle="";d.style.borderLeftColor=B.style.borderRightColor;d.style.borderLeftWidth=B.style.borderRightWidth;d.style.borderTopColor=B.style.borderBottomColor;d.style.borderTopWidth=B.style.borderBottomWidth;o&&a.addClass(B,"selectTdClass");return d};f.prototype={getMaxRows:function B(){var m=this.table.rows,u=1;for(var o=0,d;d=m[o];o++){var s=1;for(var e=0,n;n=d.cells[e++];){s=Math.max(n.rowSpan||1,s)}u=Math.max(s+o,u)}return u},getMaxCols:function B(){var m=this.table.rows,u=0,o={};for(var d=0,s;s=m[d];d++){var e=0;for(var n=0,t;t=s.cells[n++];){e+=t.colSpan||1;if(t.rowSpan&&t.rowSpan>1){for(var i=1;i<t.rowSpan;i++){if(!o["row_"+(d+i)]){o["row_"+(d+i)]=t.colSpan||1}else{o["row_"+(d+i)]++}}}}e+=o["row_"+d]||0;u=Math.max(e,u)}return u},getCellColIndex:function B(m){},getHSideCell:function B(m,u){try{var o=this.getCellInfo(m),d,s;var e=this.selectedTds.length,n=this.cellsRange;if(!u&&(!e?!o.colIndex:!n.beginColIndex)||u&&(!e?o.colIndex==this.colsNum-1:n.endColIndex==this.colsNum-1))return null;d=!e?o.rowIndex:n.beginRowIndex;s=!u?!e?o.colIndex<1?0:o.colIndex-1:n.beginColIndex-1:!e?o.colIndex+1:n.endColIndex+1;return this.getCell(this.indexTable[d][s].rowIndex,this.indexTable[d][s].cellIndex)}catch(t){E(t)}},getTabNextCell:function B(m,u){var o=this.getCellInfo(m),d=u||o.rowIndex,s=o.colIndex+1+(o.colSpan-1),e;try{e=this.getCell(this.indexTable[d][s].rowIndex,this.indexTable[d][s].cellIndex)}catch(n){try{d=d*1+1;s=0;e=this.getCell(this.indexTable[d][s].rowIndex,this.indexTable[d][s].cellIndex)}catch(t){}}return e},getVSideCell:function B(m,u,o){try{var d=this.getCellInfo(m),s,e;var n=this.selectedTds.length&&!o,t=this.cellsRange;if(!u&&d.rowIndex==0||u&&(!n?d.rowIndex+d.rowSpan>this.rowsNum-1:t.endRowIndex==this.rowsNum-1))return null;s=!u?!n?d.rowIndex-1:t.beginRowIndex-1:!n?d.rowIndex+d.rowSpan:t.endRowIndex+1;e=!n?d.colIndex:t.beginColIndex;return this.getCell(this.indexTable[s][e].rowIndex,this.indexTable[s][e].cellIndex)}catch(i){E(i)}},getSameEndPosCells:function B(m,u){try{var o=u.toLowerCase()==="x",d=a.getXY(m)[o?"x":"y"]+m["offset"+(o?"Width":"Height")],s=this.table.rows,e=null,n=[];for(var t=0;t<this.rowsNum;t++){e=s[t].cells;for(var i=0,r;r=e[i++];){var l=a.getXY(r)[o?"x":"y"]+r["offset"+(o?"Width":"Height")];if(l>d&&o)break;if(m==r||d==l){if(r[o?"colSpan":"rowSpan"]==1){n.push(r)}if(o)break}}}return n}catch(c){E(c)}},setCellContent:function B(m,u){m.innerHTML=u||(le.ie11below?a.fillChar:"<br />")},cloneCell:f.cloneCell,getSameStartPosXCells:function B(m){try{var u=a.getXY(m).x+m.offsetWidth,o=this.table.rows,d,s=[];for(var e=0;e<this.rowsNum;e++){d=o[e].cells;for(var n=0,t;t=d[n++];){var i=a.getXY(t).x;if(i>u)break;if(i==u&&t.colSpan==1){s.push(t);break}}}return s}catch(r){E(r)}},update:function B(m){this.table=m||this.table;this.selectedTds=[];this.cellsRange={};this.indexTable=[];var u=this.table.rows,o=this.getMaxRows(),d=o-u.length,s=this.getMaxCols();while(d--){this.table.insertRow(u.length)}this.rowsNum=o;this.colsNum=s;for(var e=0,n=u.length;e<n;e++){this.indexTable[e]=new Array(s)}for(var t=0,i;i=u[t];t++){for(var r=0,l,c=i.cells;l=c[r];r++){if(l.rowSpan>o){l.rowSpan=o}var h=r,b=l.rowSpan||1,v=l.colSpan||1;while(this.indexTable[t][h])h++;for(var S=0;S<b;S++){for(var p=0;p<v;p++){this.indexTable[t+S][h+p]={rowIndex:t,cellIndex:r,colIndex:h,rowSpan:b,colSpan:v}}}}}for(S=0;S<o;S++){for(p=0;p<s;p++){if(this.indexTable[S][p]===void 0){i=u[S];l=i.cells[i.cells.length-1];l=l?l.cloneNode(true):this.table.ownerDocument.createElement("td");this.setCellContent(l);if(l.colSpan!==1)l.colSpan=1;if(l.rowSpan!==1)l.rowSpan=1;i.appendChild(l);this.indexTable[S][p]={rowIndex:S,cellIndex:l.cellIndex,colIndex:p,rowSpan:1,colSpan:1}}}}var C=a.getElementsByTagName(this.table,"td"),A=[];re.each(C,function(me){if(a.hasClass(me,"selectTdClass")){A.push(me)}});if(A.length){var q=A[0],K=A[A.length-1],V=this.getCellInfo(q),Z=this.getCellInfo(K);this.selectedTds=A;this.cellsRange={beginRowIndex:V.rowIndex,beginColIndex:V.colIndex,endRowIndex:Z.rowIndex+Z.rowSpan-1,endColIndex:Z.colIndex+Z.colSpan-1}}},getCellInfo:function B(m){if(!m)return;var u=m.cellIndex,o=m.parentNode.rowIndex,d=this.indexTable[o],s=this.colsNum;for(var e=u;e<s;e++){var n=d[e];if(n.rowIndex===o&&n.cellIndex===u){return n}}},getCell:function B(m,u){return m<this.rowsNum&&this.table.rows[m].cells[u]||null},deleteCell:function B(m,u){u=typeof u==="number"?u:m.parentNode.rowIndex;var o=this.table.rows[u];o.deleteCell(m.cellIndex)},getCellsRange:function B(m,u){function o(l,c,h,b){var v=l,S=c,p=h,C=b,A,q,K;if(l>0){for(q=c;q<b;q++){A=d.indexTable[l][q];K=A.rowIndex;if(K<l){v=Math.min(K,v)}}}if(b<d.colsNum){for(K=l;K<h;K++){A=d.indexTable[K][b];q=A.colIndex+A.colSpan-1;if(q>b){C=Math.max(q,C)}}}if(h<d.rowsNum){for(q=c;q<b;q++){A=d.indexTable[h][q];K=A.rowIndex+A.rowSpan-1;if(K>h){p=Math.max(K,p)}}}if(c>0){for(K=l;K<h;K++){A=d.indexTable[K][c];q=A.colIndex;if(q<c){S=Math.min(A.colIndex,S)}}}if(v!=l||S!=c||p!=h||C!=b){return o(v,S,p,C)}return{beginRowIndex:l,beginColIndex:c,endRowIndex:h,endColIndex:b}}try{var d=this,s=d.getCellInfo(m);if(m===u){return{beginRowIndex:s.rowIndex,beginColIndex:s.colIndex,endRowIndex:s.rowIndex+s.rowSpan-1,endColIndex:s.colIndex+s.colSpan-1}}var e=d.getCellInfo(u);var n=Math.min(s.rowIndex,e.rowIndex),t=Math.min(s.colIndex,e.colIndex),i=Math.max(s.rowIndex+s.rowSpan-1,e.rowIndex+e.rowSpan-1),r=Math.max(s.colIndex+s.colSpan-1,e.colIndex+e.colSpan-1);return o(n,t,i,r)}catch(l){}},getCells:function B(m){this.clearSelected();var u=m.beginRowIndex,o=m.beginColIndex,d=m.endRowIndex,s=m.endColIndex,e,n,t,i={},r=[];for(var l=u;l<=d;l++){for(var c=o;c<=s;c++){e=this.indexTable[l][c];n=e.rowIndex;t=e.colIndex;var h=n+"|"+t;if(i[h])continue;i[h]=1;if(n<l||t<c||n+e.rowSpan-1>d||t+e.colSpan-1>s){return null}r.push(this.getCell(n,e.cellIndex))}}return r},clearSelected:function B(){f.removeSelectedClass(this.selectedTds);this.selectedTds=[];this.cellsRange={}},setSelected:function B(m){var u=this.getCells(m);f.addSelectedClass(u);this.selectedTds=u;this.cellsRange=m},isFullRow:function B(){var m=this.cellsRange;return m.endColIndex-m.beginColIndex+1==this.colsNum},isFullCol:function B(){var m=this.cellsRange,u=this.table,o=u.getElementsByTagName("th"),d=m.endRowIndex-m.beginRowIndex+1;return!o.length?d==this.rowsNum:d==this.rowsNum||d==this.rowsNum-1},getNextCell:function B(m,u,o){try{var d=this.getCellInfo(m),s,e;var n=this.selectedTds.length&&!o,t=this.cellsRange;if(!u&&d.rowIndex==0||u&&(!n?d.rowIndex+d.rowSpan>this.rowsNum-1:t.endRowIndex==this.rowsNum-1))return null;s=!u?!n?d.rowIndex-1:t.beginRowIndex-1:!n?d.rowIndex+d.rowSpan:t.endRowIndex+1;e=!n?d.colIndex:t.beginColIndex;return this.getCell(this.indexTable[s][e].rowIndex,this.indexTable[s][e].cellIndex)}catch(i){E(i)}},getPreviewCell:function B(m,u){try{var o=this.getCellInfo(m),d,s;var e=this.selectedTds.length,n=this.cellsRange;if(!u&&(!e?!o.colIndex:!n.beginColIndex)||u&&(!e?o.rowIndex>this.colsNum-1:n.endColIndex==this.colsNum-1))return null;d=!u?!e?o.rowIndex:n.beginRowIndex:!e?o.rowIndex<1?0:o.rowIndex-1:n.beginRowIndex;s=!u?!e?o.colIndex<1?0:o.colIndex-1:n.beginColIndex-1:!e?o.colIndex:n.endColIndex+1;return this.getCell(this.indexTable[d][s].rowIndex,this.indexTable[d][s].cellIndex)}catch(t){E(t)}},moveContent:function B(m,u){if(f.isEmptyBlock(u))return;if(f.isEmptyBlock(m)){m.innerHTML=u.innerHTML;return}var o=m.lastChild;if(o.nodeType==3||!Re.$block[o.tagName]){m.appendChild(m.ownerDocument.createElement("br"))}while(o=u.firstChild){m.appendChild(o)}},mergeRight:function B(m){var u=this.getCellInfo(m),o=u.colIndex+u.colSpan,d=this.indexTable[u.rowIndex][o],s=this.getCell(d.rowIndex,d.cellIndex);m.colSpan=u.colSpan+d.colSpan;m.removeAttribute("width");this.moveContent(m,s);this.deleteCell(s,d.rowIndex);this.update()},mergeDown:function B(m){var u=this.getCellInfo(m),o=u.rowIndex+u.rowSpan,d=this.indexTable[o][u.colIndex],s=this.getCell(d.rowIndex,d.cellIndex);m.rowSpan=u.rowSpan+d.rowSpan;m.removeAttribute("height");this.moveContent(m,s);this.deleteCell(s,d.rowIndex);this.update()},mergeRange:function B(){var m=this.cellsRange,u=this.getCell(m.beginRowIndex,this.indexTable[m.beginRowIndex][m.beginColIndex].cellIndex);if(u.tagName=="TH"&&m.endRowIndex!==m.beginRowIndex){var o=this.indexTable,d=this.getCellInfo(u);u=this.getCell(1,o[1][d.colIndex].cellIndex);m=this.getCellsRange(u,this.getCell(o[this.rowsNum-1][d.colIndex].rowIndex,o[this.rowsNum-1][d.colIndex].cellIndex))}var s=this.getCells(m);for(var e=0,n;n=s[e++];){if(n!==u){this.moveContent(u,n);this.deleteCell(n)}}u.rowSpan=m.endRowIndex-m.beginRowIndex+1;u.rowSpan>1&&u.removeAttribute("height");u.colSpan=m.endColIndex-m.beginColIndex+1;u.colSpan>1&&u.removeAttribute("width");if(u.rowSpan==this.rowsNum&&u.colSpan!=1){u.colSpan=1}if(u.colSpan==this.colsNum&&u.rowSpan!=1){var t=u.parentNode.rowIndex;if(this.table.deleteRow){for(var e=t+1,i=t+1,r=u.rowSpan;e<r;e++){this.table.deleteRow(i)}}else{for(var e=0,r=u.rowSpan-1;e<r;e++){var l=this.table.rows[t+1];l.parentNode.removeChild(l)}}u.rowSpan=1}this.update()},insertRow:function B(m,u){var o=this.colsNum,d=this.table,s=d.insertRow(m),e,n=parseInt((d.offsetWidth-o*20-o-1)/o,10);if(m==0||m==this.rowsNum){for(var t=0;t<o;t++){e=this.cloneCell(u,true);this.setCellContent(e);e.getAttribute("vAlign")&&e.setAttribute("vAlign",e.getAttribute("vAlign"));s.appendChild(e)}}else{var i=this.indexTable[m],r=0;for(t=0;t<o;t++){var l=i[t];if(l.rowIndex<m){e=this.getCell(l.rowIndex,l.cellIndex);e.rowSpan=l.rowSpan+1}else{e=this.cloneCell(u,true);this.setCellContent(e);s.appendChild(e)}}}this.update();return s},deleteRow:function B(m){var u=this.table.rows[m],o=this.indexTable[m],d=this.colsNum,s=0;for(var e=0;e<d;){var n=o[e],t=this.getCell(n.rowIndex,n.cellIndex);if(t.rowSpan>1){if(n.rowIndex==m){var i=t.cloneNode(true);i.rowSpan=t.rowSpan-1;i.innerHTML="";t.rowSpan=1;var r=m+1,l=this.table.rows[r],c,h=this.getPreviewMergedCellsNum(r,e)-s;if(h<e){c=e-h-1;a.insertAfter(l.cells[c],i)}else{if(l.cells.length)l.insertBefore(i,l.cells[0])}s+=1}}e+=t.colSpan||1}var b=[],v={};for(e=0;e<d;e++){var S=o[e].rowIndex,p=o[e].cellIndex,C=S+"_"+p;if(v[C])continue;v[C]=1;t=this.getCell(S,p);b.push(t)}var A=[];re.each(b,function(q){if(q.rowSpan==1){q.parentNode.removeChild(q)}else{A.push(q)}});re.each(A,function(q){q.rowSpan--});u.parentNode.removeChild(u);this.update()},insertCol:function B(m,u,o){var d=this.rowsNum,s=0,e,n,t=parseInt((this.table.offsetWidth-(this.colsNum+1)*20-(this.colsNum+1))/(this.colsNum+1),10);function i(c,h,b){if(c==0){var v=h.nextSibling||h.previousSibling;if(v.tagName=="TH"){v=h.ownerDocument.createElement("th");v.appendChild(h.firstChild);b.insertBefore(v,h);a.remove(h)}}else{if(h.tagName=="TH"){var S=h.ownerDocument.createElement("td");S.appendChild(h.firstChild);b.insertBefore(S,h);a.remove(h)}}}var r;if(m==0||m==this.colsNum){for(;s<d;s++){e=this.table.rows[s];r=e.cells[m==0?m:e.cells.length];n=this.cloneCell(u,true);this.setCellContent(n);n.setAttribute("vAlign",n.getAttribute("vAlign"));r&&n.setAttribute("width",r.getAttribute("width"));if(!m){e.insertBefore(n,e.cells[0])}else{a.insertAfter(e.cells[e.cells.length-1],n)}i(s,n,e)}}else{for(;s<d;s++){var l=this.indexTable[s][m];if(l.colIndex<m){n=this.getCell(l.rowIndex,l.cellIndex);n.colSpan=l.colSpan+1}else{e=this.table.rows[s];r=e.cells[l.cellIndex];n=this.cloneCell(u,true);this.setCellContent(n);n.setAttribute("vAlign",n.getAttribute("vAlign"));r&&n.setAttribute("width",r.getAttribute("width"));r?e.insertBefore(n,r):e.appendChild(n)}i(s,n,e)}}this.update();this.updateWidth(t,o||{tdPadding:10,tdBorder:1})},updateWidth:function B(m,u){var o=this.table,d=f.getWidth(o)-u.tdPadding*2-u.tdBorder+m;if(d<o.ownerDocument.body.offsetWidth){o.setAttribute("width",d);return}var s=a.getElementsByTagName(this.table,"td");re.each(s,function(e){e.setAttribute("width",m)})},deleteCol:function B(m){var u=this.indexTable,o=this.table.rows,d=this.table.getAttribute("width"),s=0,e=this.rowsNum,n={};for(var t=0;t<e;){var i=u[t],r=i[m],l=r.rowIndex+"_"+r.colIndex;if(n[l])continue;n[l]=1;var c=this.getCell(r.rowIndex,r.cellIndex);if(!s)s=c&&parseInt(c.offsetWidth/c.colSpan,10).toFixed(0);if(c.colSpan>1){c.colSpan--}else{o[t].deleteCell(r.cellIndex)}t+=r.rowSpan||1}this.table.setAttribute("width",d-s);this.update()},splitToCells:function B(m){var u=this,o=this.splitToRows(m);re.each(o,function(d){u.splitToCols(d)})},splitToRows:function B(m){var u=this.getCellInfo(m),o=u.rowIndex,d=u.colIndex,s=[];m.rowSpan=1;s.push(m);for(var e=o,n=o+u.rowSpan;e<n;e++){if(e==o)continue;var t=this.table.rows[e],i=t.insertCell(d-this.getPreviewMergedCellsNum(e,d));i.colSpan=u.colSpan;this.setCellContent(i);i.setAttribute("vAlign",m.getAttribute("vAlign"));i.setAttribute("align",m.getAttribute("align"));if(m.style.cssText){i.style.cssText=m.style.cssText}s.push(i)}this.update();return s},getPreviewMergedCellsNum:function B(m,u){var o=this.indexTable[m],d=0;for(var s=0;s<u;){var e=o[s].colSpan,n=o[s].rowIndex;d+=e-(n==m?1:0);s+=e}return d},splitToCols:function B(m){var u=(m.offsetWidth/m.colSpan-22).toFixed(0),o=this.getCellInfo(m),d=o.rowIndex,s=o.colIndex,e=[];m.colSpan=1;m.setAttribute("width",u);e.push(m);for(var n=s,t=s+o.colSpan;n<t;n++){if(n==s)continue;var i=this.table.rows[d],r=i.insertCell(this.indexTable[d][n].cellIndex+1);r.rowSpan=o.rowSpan;this.setCellContent(r);r.setAttribute("vAlign",m.getAttribute("vAlign"));r.setAttribute("align",m.getAttribute("align"));r.setAttribute("width",u);if(m.style.cssText){r.style.cssText=m.style.cssText}if(m.tagName=="TH"){var l=m.ownerDocument.createElement("th");l.appendChild(r.firstChild);l.setAttribute("vAlign",m.getAttribute("vAlign"));l.rowSpan=r.rowSpan;i.insertBefore(l,r);a.remove(r)}e.push(r)}this.update();return e},isLastCell:function B(m,u,o){u=u||this.rowsNum;o=o||this.colsNum;var d=this.getCellInfo(m);return d.rowIndex+d.rowSpan==u&&d.colIndex+d.colSpan==o},getLastCell:function B(m){m=m||this.table.getElementsByTagName("td");var u=this.getCellInfo(m[0]);var o=this,d=m[0],s=d.parentNode,e=0,n=0,t;re.each(m,function(i){if(i.parentNode==s)n+=i.colSpan||1;e+=i.rowSpan*i.colSpan||1});t=e/n;re.each(m,function(i){if(o.isLastCell(i,t,n)){d=i;return false}});return d},selectRow:function B(m){var u=this.indexTable[m],o=this.getCell(u[0].rowIndex,u[0].cellIndex),d=this.getCell(u[this.colsNum-1].rowIndex,u[this.colsNum-1].cellIndex),s=this.getCellsRange(o,d);this.setSelected(s)},selectTable:function B(){var m=this.table.getElementsByTagName("td"),u=this.getCellsRange(m[0],m[m.length-1]);this.setSelected(u)},sortTable:function B(m,u){var o=this.table,d=o.rows,s=[],e=d[0].cells[0].tagName==="TH",n=0;if(this.selectedTds.length){var t=this.cellsRange,i=t.endRowIndex+1;for(var r=t.beginRowIndex;r<i;r++){s[r]=d[r]}s.splice(0,t.beginRowIndex);n=t.endRowIndex+1===this.rowsNum?0:t.endRowIndex+1}else{for(var r=0,i=d.length;r<i;r++){s[r]=d[r]}}e&&s.splice(0,1);s=re.sort(s,function(b,v){var S=function p(C){return C.innerText||C.textContent};return u?typeof u==="number"?u:u.call(this,b.cells[m],v.cells[m]):function(){var p=S(b.cells[m]),C=S(v.cells[m]);return p.localeCompare(C)}()});var l=o.ownerDocument.createDocumentFragment();for(var c=0,i=s.length;c<i;c++){l.appendChild(s[c])}var h=o.getElementsByTagName("tbody")[0];if(!n){h.appendChild(l)}else{h.insertBefore(l,d[n-t.endRowIndex+t.beginRowIndex-1])}},setBackground:function B(m,u){if(typeof u==="string"){re.each(m,function(r){r.style.backgroundColor=u})}else if(J(u)==="object"){u=re.extend({repeat:true,colorList:["#ddd","#fff"]},u);var o=this.getCellInfo(m[0]).rowIndex,d=0,s=u.colorList,e=function r(l,c,h){return l[c]?l[c]:h?l[c%l.length]:""};for(var n=0,t;t=m[n++];){var i=this.getCellInfo(t);t.style.backgroundColor=e(s,o+d==i.rowIndex?d:++d,u.repeat)}}},removeBackground:function B(m){re.each(m,function(u){u.style.backgroundColor=""})}};function E(B){}})();(function(){var f=UE.UETable,E=function e(n){return f.getTableItemsByRange(n)},B=function e(n){return f.getUETableBySelected(n)},m=function e(n,t){return f.getDefaultValue(n,t)},u=function e(n){return f.getUETable(n)};UE.commands.inserttable={queryCommandState:function e(){return E(this).table?-1:0},execCommand:function e(n,t){function i(p,C){var A=[],q=p.numRows,K=p.numCols;for(var V=0;V<q;V++){A.push("<tr>");for(var Z=0;Z<K;Z++){A.push('<td width="'+C+'"  vAlign="'+p.tdvalign+'" >'+(le.ie11below?a.fillChar:"<br/>")+"</td>")}A.push("</tr>")}return"<table><tbody>"+A.join("")+"</tbody></table>"}if(!t){t=re.extend({},{numCols:this.options.defaultCols,numRows:this.options.defaultRows,tdvalign:this.options.tdvalign})}var r=this;var l=this.selection.getRange(),c=l.startContainer,h=a.findParent(c,function(p){return a.isBlockElm(p)},true)||r.body;var b=m(r),v=h.offsetWidth,S=Math.floor(v/t.numCols-b.tdPadding*2-b.tdBorder);!t.tdvalign&&(t.tdvalign=r.options.tdvalign);r.execCommand("inserthtml",i(t,S))}};UE.commands.insertparagraphbeforetable={queryCommandState:function e(){return E(this).cell?0:-1},execCommand:function e(){var n=E(this).table;if(n){var t=this.document.createElement("p");t.innerHTML=le.ie11below?a.fillChar:"<br />";n.parentNode.insertBefore(t,n);this.selection.getRange().setStart(t,0).setCursor()}}};UE.commands.deletetable={queryCommandState:function e(){var n=this.selection.getRange();return a.findParentByTagName(n.startContainer,"table",true)?0:-1},execCommand:function e(n,t){var i=this.selection.getRange();t=t||a.findParentByTagName(i.startContainer,"table",true);if(t){var r=t.nextSibling;if(!r){r=a.createElement(this.document,"p",{"innerHTML":le.ie11below?a.fillChar:"<br/>"});t.parentNode.insertBefore(r,t)}a.remove(t);i=this.selection.getRange();if(r.nodeType==3){i.setStartBefore(r)}else{i.setStart(r,0)}i.setCursor(false,true);this.fireEvent("tablehasdeleted")}}};UE.commands.cellalign={queryCommandState:function e(){return s(this).length?0:-1},execCommand:function e(n,t){var i=s(this);if(i.length){for(var r=0,l;l=i[r++];){l.setAttribute("align",t)}}}};UE.commands.cellvalign={queryCommandState:function e(){return s(this).length?0:-1},execCommand:function e(n,t){var i=s(this);if(i.length){for(var r=0,l;l=i[r++];){l.setAttribute("vAlign",t)}}}};UE.commands.insertcaption={queryCommandState:function e(){var n=E(this).table;if(n){return n.getElementsByTagName("caption").length==0?1:-1}return-1},execCommand:function e(){var n=E(this).table;if(n){var t=this.document.createElement("caption");t.innerHTML=le.ie11below?a.fillChar:"<br/>";n.insertBefore(t,n.firstChild);var i=this.selection.getRange();i.setStart(t,0).setCursor()}}};UE.commands.deletecaption={queryCommandState:function e(){var n=this.selection.getRange(),t=a.findParentByTagName(n.startContainer,"table");if(t){return t.getElementsByTagName("caption").length==0?-1:1}return-1},execCommand:function e(){var n=this.selection.getRange(),t=a.findParentByTagName(n.startContainer,"table");if(t){a.remove(t.getElementsByTagName("caption")[0]);var i=this.selection.getRange();i.setStart(t.rows[0].cells[0],0).setCursor()}}};UE.commands.inserttitle={queryCommandState:function e(){var n=E(this).table;if(n){var t=n.rows[0];return t.getElementsByTagName("th").length==0?0:-1}return-1},execCommand:function e(){var n=E(this).table;if(n){u(n).insertRow(0,"th")}var t=n.getElementsByTagName("th")[0];this.selection.getRange().setStart(t,0).setCursor(false,true)}};UE.commands.deletetitle={queryCommandState:function e(){var n=E(this).table;if(n){var t=n.rows[0];return t.getElementsByTagName("th").length?0:-1}return-1},execCommand:function e(){var n=E(this).table;if(n){a.remove(n.rows[0])}var t=n.getElementsByTagName("td")[0];this.selection.getRange().setStart(t,0).setCursor(false,true)}};UE.commands.mergeright={queryCommandState:function e(n){var t=E(this);if(!t.cell)return-1;var i=u(t.table);if(i.selectedTds.length)return-1;var r=i.getCellInfo(t.cell),l=r.colIndex+r.colSpan;if(l>=i.colsNum)return-1;var c=i.indexTable[r.rowIndex][l];return c.rowIndex==r.rowIndex&&c.rowSpan==r.rowSpan?0:-1},execCommand:function e(n){var t=this.selection.getRange(),i=t.createBookmark(true);var r=E(this).cell,l=u(r);l.mergeRight(r);t.moveToBookmark(i).select()}};UE.commands.mergedown={queryCommandState:function e(n){var t=E(this),i=t.cell;if(!i||i.tagName=="TH")return-1;var r=u(t.table);if(r.selectedTds.length)return-1;var l=r.getCellInfo(t.cell),c=l.rowIndex+l.rowSpan;if(c>=r.rowsNum)return-1;var h=r.indexTable[c][l.colIndex];return h.colIndex==l.colIndex&&h.colSpan==l.colSpan&&t.cell.tagName!=="TH"?0:-1},execCommand:function e(){var n=this.selection.getRange(),t=n.createBookmark(true);var i=E(this).cell,r=u(i);r.mergeDown(i);n.moveToBookmark(t).select()}};UE.commands.mergecells={queryCommandState:function e(){return B(this)?0:-1},execCommand:function e(){var n=B(this);if(n&&n.selectedTds.length){var t=n.selectedTds[0];n.mergeRange();var i=this.selection.getRange();if(a.isEmptyBlock(t)){i.setStart(t,0).collapse(true)}else{i.selectNodeContents(t)}i.select()}}};UE.commands.insertrow={queryCommandState:function e(){var n=E(this),t=n.cell;return t&&t.tagName=="TD"&&u(n.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function e(){var n=this.selection.getRange(),t=n.createBookmark(true);var i=E(this),r=i.cell,l=i.table,c=u(l),h=c.getCellInfo(r);if(!c.selectedTds.length){c.insertRow(h.rowIndex,r)}else{var b=c.cellsRange;for(var v=0,S=b.endRowIndex-b.beginRowIndex+1;v<S;v++){c.insertRow(b.beginRowIndex,r)}}n.moveToBookmark(t).select();if(l.getAttribute("interlaced")==="enabled")this.fireEvent("interlacetable",l)}};UE.commands.insertrownext={queryCommandState:function e(){var n=E(this),t=n.cell;return t&&t.tagName=="TD"&&u(n.table).rowsNum<this.options.maxRowNum?0:-1},execCommand:function e(){var n=this.selection.getRange(),t=n.createBookmark(true);var i=E(this),r=i.cell,l=i.table,c=u(l),h=c.getCellInfo(r);if(!c.selectedTds.length){c.insertRow(h.rowIndex+h.rowSpan,r)}else{var b=c.cellsRange;for(var v=0,S=b.endRowIndex-b.beginRowIndex+1;v<S;v++){c.insertRow(b.endRowIndex+1,r)}}n.moveToBookmark(t).select();if(l.getAttribute("interlaced")==="enabled")this.fireEvent("interlacetable",l)}};UE.commands.deleterow={queryCommandState:function e(){var n=E(this);return n.cell?0:-1},execCommand:function e(){var n=E(this).cell,t=u(n),i=t.cellsRange,r=t.getCellInfo(n),l=t.getVSideCell(n),c=t.getVSideCell(n,true),h=this.selection.getRange();if(re.isEmptyObject(i)){t.deleteRow(r.rowIndex)}else{for(var b=i.beginRowIndex;b<i.endRowIndex+1;b++){t.deleteRow(i.beginRowIndex)}}var v=t.table;if(!v.getElementsByTagName("td").length){var S=v.nextSibling;a.remove(v);if(S){h.setStart(S,0).setCursor(false,true)}}else{if(r.rowSpan==1||r.rowSpan==i.endRowIndex-i.beginRowIndex+1){if(c||l)h.selectNodeContents(c||l).setCursor(false,true)}else{var p=t.getCell(r.rowIndex,t.indexTable[r.rowIndex][r.colIndex].cellIndex);if(p)h.selectNodeContents(p).setCursor(false,true)}}if(v.getAttribute("interlaced")==="enabled")this.fireEvent("interlacetable",v)}};UE.commands.insertcol={queryCommandState:function e(n){var t=E(this),i=t.cell;return i&&(i.tagName=="TD"||i.tagName=="TH")&&u(t.table).colsNum<this.options.maxColNum?0:-1},execCommand:function e(n){var t=this.selection.getRange(),i=t.createBookmark(true);if(this.queryCommandState(n)==-1)return;var r=E(this).cell,l=u(r),c=l.getCellInfo(r);if(!l.selectedTds.length){l.insertCol(c.colIndex,r)}else{var h=l.cellsRange;for(var b=0,v=h.endColIndex-h.beginColIndex+1;b<v;b++){l.insertCol(h.beginColIndex,r)}}t.moveToBookmark(i).select(true)}};UE.commands.insertcolnext={queryCommandState:function e(){var n=E(this),t=n.cell;return t&&u(n.table).colsNum<this.options.maxColNum?0:-1},execCommand:function e(){var n=this.selection.getRange(),t=n.createBookmark(true);var i=E(this).cell,r=u(i),l=r.getCellInfo(i);if(!r.selectedTds.length){r.insertCol(l.colIndex+l.colSpan,i)}else{var c=r.cellsRange;for(var h=0,b=c.endColIndex-c.beginColIndex+1;h<b;h++){r.insertCol(c.endColIndex+1,i)}}n.moveToBookmark(t).select()}};UE.commands.deletecol={queryCommandState:function e(){var n=E(this);return n.cell?0:-1},execCommand:function e(){var n=E(this).cell,t=u(n),i=t.cellsRange,r=t.getCellInfo(n),l=t.getHSideCell(n),c=t.getHSideCell(n,true);if(re.isEmptyObject(i)){t.deleteCol(r.colIndex)}else{for(var h=i.beginColIndex;h<i.endColIndex+1;h++){t.deleteCol(i.beginColIndex)}}var b=t.table,v=this.selection.getRange();if(!b.getElementsByTagName("td").length){var S=b.nextSibling;a.remove(b);if(S){v.setStart(S,0).setCursor(false,true)}}else{if(a.inDoc(n,this.document)){v.setStart(n,0).setCursor(false,true)}else{if(c&&a.inDoc(c,this.document)){v.selectNodeContents(c).setCursor(false,true)}else{if(l&&a.inDoc(l,this.document)){v.selectNodeContents(l).setCursor(true,true)}}}}}};UE.commands.splittocells={queryCommandState:function e(){var n=E(this),t=n.cell;if(!t)return-1;var i=u(n.table);if(i.selectedTds.length>0)return-1;return t&&(t.colSpan>1||t.rowSpan>1)?0:-1},execCommand:function e(){var n=this.selection.getRange(),t=n.createBookmark(true);var i=E(this).cell,r=u(i);r.splitToCells(i);n.moveToBookmark(t).select()}};UE.commands.splittorows={queryCommandState:function e(){var n=E(this),t=n.cell;if(!t)return-1;var i=u(n.table);if(i.selectedTds.length>0)return-1;return t&&t.rowSpan>1?0:-1},execCommand:function e(){var n=this.selection.getRange(),t=n.createBookmark(true);var i=E(this).cell,r=u(i);r.splitToRows(i);n.moveToBookmark(t).select()}};UE.commands.splittocols={queryCommandState:function e(){var n=E(this),t=n.cell;if(!t)return-1;var i=u(n.table);if(i.selectedTds.length>0)return-1;return t&&t.colSpan>1?0:-1},execCommand:function e(){var n=this.selection.getRange(),t=n.createBookmark(true);var i=E(this).cell,r=u(i);r.splitToCols(i);n.moveToBookmark(t).select()}};UE.commands.adaptbytext=UE.commands.adaptbywindow={queryCommandState:function e(){return E(this).table?0:-1},execCommand:function e(n){var t=E(this),i=t.table;if(i){if(n=="adaptbywindow"){o(i,this)}else{var r=a.getElementsByTagName(i,"td th");re.each(r,function(l){l.removeAttribute("width")});i.removeAttribute("width")}}}};UE.commands.averagedistributecol={queryCommandState:function e(){var n=B(this);if(!n)return-1;return n.isFullRow()||n.isFullCol()?0:-1},execCommand:function e(n){var t=this,i=B(t);function r(){var c=i.table,h,b=0,v=0,S=m(t,c);if(i.isFullRow()){b=c.offsetWidth;v=i.colsNum}else{var p=i.cellsRange.beginColIndex,C=i.cellsRange.endColIndex,A;for(var q=p;q<=C;){A=i.selectedTds[q];b+=A.offsetWidth;q+=A.colSpan;v+=1}}h=Math.ceil(b/v)-S.tdBorder*2-S.tdPadding*2;return h}function l(c){re.each(a.getElementsByTagName(i.table,"th"),function(b){b.setAttribute("width","")});var h=i.isFullRow()?a.getElementsByTagName(i.table,"td"):i.selectedTds;re.each(h,function(b){if(b.colSpan==1){b.setAttribute("width",c)}})}if(i&&i.selectedTds.length){l(r())}}};UE.commands.averagedistributerow={queryCommandState:function e(){var n=B(this);if(!n)return-1;if(n.selectedTds&&/th/ig.test(n.selectedTds[0].tagName))return-1;return n.isFullRow()||n.isFullCol()?0:-1},execCommand:function e(n){var t=this,i=B(t);function r(){var c,h,b=0,v=i.table,S=m(t,v),p=parseInt(a.getComputedStyle(v.getElementsByTagName("td")[0],"padding-top"));if(i.isFullCol()){var C=a.getElementsByTagName(v,"caption"),A=a.getElementsByTagName(v,"th"),q,K;if(C.length>0){q=C[0].offsetHeight}if(A.length>0){K=A[0].offsetHeight}b=v.offsetHeight-(q||0)-(K||0);h=A.length==0?i.rowsNum:i.rowsNum-1}else{var V=i.cellsRange.beginRowIndex,Z=i.cellsRange.endRowIndex,me=0,he=a.getElementsByTagName(v,"tr");for(var oe=V;oe<=Z;oe++){b+=he[oe].offsetHeight;me+=1}h=me}if(le.ie&&le.version<9){c=Math.ceil(b/h)}else{c=Math.ceil(b/h)-S.tdBorder*2-p*2}return c}function l(c){var h=i.isFullCol()?a.getElementsByTagName(i.table,"td"):i.selectedTds;re.each(h,function(b){if(b.rowSpan==1){b.setAttribute("height",c)}})}if(i&&i.selectedTds.length){l(r())}}};UE.commands.cellalignment={queryCommandState:function e(){return E(this).table?0:-1},execCommand:function e(n,t){var i=this,r=B(i);if(!r){var l=i.selection.getStart(),c=l&&a.findParentByTagName(l,["td","th","caption"],true);if(!/caption/ig.test(c.tagName)){a.setAttributes(c,t)}else{c.style.textAlign=t.align;c.style.verticalAlign=t.vAlign}i.selection.getRange().setCursor(true)}else{re.each(r.selectedTds,function(h){a.setAttributes(h,t)})}},queryCommandValue:function e(n){var t=E(this).cell;if(!t){t=s(this)[0]}if(!t){return null}var i=UE.UETable.getUETable(t).selectedTds;!i.length&&(i=t);return UE.UETable.getTableCellAlignState(i)}};UE.commands.tablealignment={queryCommandState:function e(){if(le.ie&&le.version<8){return-1}return E(this).table?0:-1},execCommand:function e(n,t){var i=this,r=i.selection.getStart(),l=r&&a.findParentByTagName(r,["table"],true);if(l){l.setAttribute("align",t)}}};UE.commands.edittable={queryCommandState:function e(){return E(this).table?0:-1},execCommand:function e(n,t){var i=this.selection.getRange(),r=a.findParentByTagName(i.startContainer,"table");if(r){var l=a.getElementsByTagName(r,"td").concat(a.getElementsByTagName(r,"th"),a.getElementsByTagName(r,"caption"));re.each(l,function(c){c.style.borderColor=t})}}};UE.commands.edittd={queryCommandState:function e(){return E(this).table?0:-1},execCommand:function e(n,t){var i=this,r=B(i);if(!r){var l=i.selection.getStart(),c=l&&a.findParentByTagName(l,["td","th","caption"],true);if(c){c.style.backgroundColor=t}}else{re.each(r.selectedTds,function(h){h.style.backgroundColor=t})}}};UE.commands.sorttable={queryCommandState:function e(){var n=this,t=E(n);if(!t.cell)return-1;var i=t.table,r=i.getElementsByTagName("td");for(var l=0,c;c=r[l++];){if(c.rowSpan!=1||c.colSpan!=1)return-1}return 0},execCommand:function e(n,t){var i=this,r=i.selection.getRange(),l=r.createBookmark(true),c=E(i),h=c.cell,b=u(c.table),v=b.getCellInfo(h);b.sortTable(v.cellIndex,t);r.moveToBookmark(l).select()}};UE.commands.enablesort=UE.commands.disablesort={queryCommandState:function e(){return E(this).table?0:-1},execCommand:function e(n){var t=E(this).table;t.setAttribute("data-sort",n=="enablesort"?"sortEnabled":"sortDisabled")}};UE.commands.settablebackground={queryCommandState:function e(){return s(this).length>1?0:-1},execCommand:function e(n,t){var i,r,l;r=s(this);l=u(r[0]);l.setBackground(r,t)}};UE.commands.cleartablebackground={queryCommandState:function e(){var n=s(this);if(!n.length)return-1;for(var t=0,i;i=n[t++];){if(i.style.backgroundColor!=="")return 0}return-1},execCommand:function e(){var n=s(this),t=u(n[0]);t.removeBackground(n)}};UE.commands.interlacetable=UE.commands.uninterlacetable={queryCommandState:function e(n){var t=E(this).table;if(!t)return-1;var i=t.getAttribute("interlaced");if(n=="interlacetable"){return i==="enabled"?-1:0}return!i||i==="disabled"?-1:0},execCommand:function e(n,t){var i=E(this).table;if(n=="interlacetable"){i.setAttribute("interlaced","enabled");this.fireEvent("interlacetable",i,t)}else{i.setAttribute("interlaced","disabled");this.fireEvent("uninterlacetable",i)}}};function o(e,n){var t=e.getElementsByTagName("td");re.each(t,function(i){i.removeAttribute("width")});e.setAttribute("width",d(n,true,m(n,e)));setTimeout(function(){re.each(t,function(i){i.colSpan==1&&i.setAttribute("width",i.offsetWidth+"")})},0)}function d(e,n,t){var i=e.body;var r=n?parseInt(a.getComputedStyle(i,"margin-left"),10)*2:0;var l=parseInt(a.getComputedStyle(i,"padding-left"),10)*2;return i.offsetWidth-r-l-t.tableBorder*2-(e.options.offsetWidth||0)}function s(e){var n=E(e).cell;if(n){var t=u(n);return t.selectedTds.length?t.selectedTds:[n]}return[]}})();UE.plugins.table=function(){var f=this,E=null,B=null,m=null,u=5,o=false,d=5,s=10,e=0,n=null,t=360,i=UE.UETable,r=function ie(ae){return i.getUETable(ae)},l=function ie(ae){return i.getUETableBySelected(ae)},c=function ie(ae,be){return i.getDefaultValue(ae,be)},h=function ie(ae){return i.removeSelectedClass(ae)};function b(ie){}f.ready(function(){var ie=this;var ae=ie.selection.getText;ie.selection.getText=function(){var be=l(ie);if(be){var _e="";re.each(be.selectedTds,function(Be){_e+=Be[le.ie?"innerText":"textContent"]});return _e}return ae.call(ie.selection)}});var v=null,S=null,p="",C=false,A=null,q=false,K=null,V=null;var Z=false,me=true;f.setOpt({"maxColNum":20,"maxRowNum":100,"defaultCols":5,"defaultRows":5,"tdvalign":"top","cursorpath":f.options.UEDITOR_HOME_URL+"themes/default/images/cursor_","tableDragable":false,"classList":["ue-table-interlace-color-single","ue-table-interlace-color-double"]});f.getUETable=r;var he={"deletetable":1,"inserttable":1,"cellvalign":1,"insertcaption":1,"deletecaption":1,"inserttitle":1,"deletetitle":1,"mergeright":1,"mergedown":1,"mergecells":1,"insertrow":1,"insertrownext":1,"deleterow":1,"insertcol":1,"insertcolnext":1,"deletecol":1,"splittocells":1,"splittorows":1,"splittocols":1,"adaptbytext":1,"adaptbywindow":1,"adaptbycustomer":1,"insertparagraph":1,"insertparagraphbeforetable":1,"averagedistributecol":1,"averagedistributerow":1};f.ready(function(){re.cssRule("table",".selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:2px solid #BBB;background:#F7F7F7;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}",f.document);var ie,ae,be;f.addListener("keydown",function(Se,Le){var Ee=this;var Me=Le.keyCode||Le.which;if(Me==8){var De=l(Ee);if(De&&De.selectedTds.length){if(De.isFullCol()){Ee.execCommand("deletecol")}else if(De.isFullRow()){Ee.execCommand("deleterow")}else{Ee.fireEvent("delcells")}a.preventDefault(Le)}var Pe=a.findParentByTagName(Ee.selection.getStart(),"caption",true),Ue=Ee.selection.getRange();if(Ue.collapsed&&Pe&&ke(Pe)){Ee.fireEvent("saveScene");var Qe=Pe.parentNode;a.remove(Pe);if(Qe){Ue.setStart(Qe.rows[0].cells[0],0).setCursor(false,true)}Ee.fireEvent("saveScene")}}if(Me==46){var De=l(Ee);if(De){Ee.fireEvent("saveScene");for(var Xe=0,Ze;Ze=De.selectedTds[Xe++];){a.fillNode(Ee.document,Ze)}Ee.fireEvent("saveScene");a.preventDefault(Le)}}if(Me==13){var $e=Ee.selection.getRange(),Pe=a.findParentByTagName($e.startContainer,"caption",true);if(Pe){var Qe=a.findParentByTagName(Pe,"table");if(!$e.collapsed){$e.deleteContents();Ee.fireEvent("saveScene")}else{if(Pe){$e.setStart(Qe.rows[0].cells[0],0).setCursor(false,true)}}a.preventDefault(Le);return}if($e.collapsed){var Qe=a.findParentByTagName($e.startContainer,"table");if(Qe){var Ve=Qe.rows[0].cells[0],rt=a.findParentByTagName(Ee.selection.getStart(),["td","th"],true),Ye=Qe.previousSibling;if(Ve===rt&&(!Ye||Ye.nodeType==1&&Ye.tagName=="TABLE")&&a.isStartInblock($e)){var je=a.findParent(Ee.selection.getStart(),function(Et){return a.isBlockElm(Et)},true);if(je&&(/t(h|d)/i.test(je.tagName)||je===rt.firstChild)){Ee.execCommand("insertparagraphbeforetable");a.preventDefault(Le)}}}}}if((Le.ctrlKey||Le.metaKey)&&Le.keyCode=="67"){ie=null;var De=l(Ee);if(De){var ft=De.selectedTds;ae=De.isFullCol();be=De.isFullRow();ie=[[De.cloneCell(ft[0],null,true)]];for(var Xe=1,Ze;Ze=ft[Xe];Xe++){if(Ze.parentNode!==ft[Xe-1].parentNode){ie.push([De.cloneCell(Ze,null,true)])}else{ie[ie.length-1].push(De.cloneCell(Ze,null,true))}}}}});f.addListener("tablehasdeleted",function(){ze(this,false,"",null);if(A)a.remove(A)});f.addListener("beforepaste",function(Se,Le){var Ee=this;var Me=Ee.selection.getRange();if(a.findParentByTagName(Me.startContainer,"caption",true)){var pt=Ee.document.createElement("div");pt.innerHTML=Le.html;Le.html=pt[le.ie9below?"innerText":"textContent"];return}var De=l(Ee);if(ie){Ee.fireEvent("saveScene");var Me=Ee.selection.getRange();var Pe=a.findParentByTagName(Me.startContainer,["td","th"],true),Ue,Qe;if(Pe){var Xe=r(Pe);if(be){var Ze=Xe.getCellInfo(Pe).rowIndex;if(Pe.tagName=="TH"){Ze++}for(var $e=0,Ve;Ve=ie[$e++];){var rt=Xe.insertRow(Ze++,"td");for(var Ye=0,je;je=Ve[Ye];Ye++){var ft=rt.cells[Ye];if(!ft){ft=rt.insertCell(Ye)}ft.innerHTML=je.innerHTML;je.getAttribute("width")&&ft.setAttribute("width",je.getAttribute("width"));je.getAttribute("vAlign")&&ft.setAttribute("vAlign",je.getAttribute("vAlign"));je.getAttribute("align")&&ft.setAttribute("align",je.getAttribute("align"));je.style.cssText&&(ft.style.cssText=je.style.cssText)}for(var Ye=0,je;je=rt.cells[Ye];Ye++){if(!Ve[Ye]){break}je.innerHTML=Ve[Ye].innerHTML;Ve[Ye].getAttribute("width")&&je.setAttribute("width",Ve[Ye].getAttribute("width"));Ve[Ye].getAttribute("vAlign")&&je.setAttribute("vAlign",Ve[Ye].getAttribute("vAlign"));Ve[Ye].getAttribute("align")&&je.setAttribute("align",Ve[Ye].getAttribute("align"));Ve[Ye].style.cssText&&(je.style.cssText=Ve[Ye].style.cssText)}}}else{if(ae){Et=Xe.getCellInfo(Pe);var Vt=0;for(var Ye=0,Ve=ie[0],je;je=Ve[Ye++];){Vt+=je.colSpan||1}Ee.__hasEnterExecCommand=true;for($e=0;$e<Vt;$e++){Ee.execCommand("insertcol")}Ee.__hasEnterExecCommand=false;Pe=Xe.table.rows[0].cells[Et.cellIndex];if(Pe.tagName=="TH"){Pe=Xe.table.rows[1].cells[Et.cellIndex]}}for(var $e=0,Ve;Ve=ie[$e++];){Ue=Pe;for(var Ye=0,je;je=Ve[Ye++];){if(Pe){Pe.innerHTML=je.innerHTML;je.getAttribute("width")&&Pe.setAttribute("width",je.getAttribute("width"));je.getAttribute("vAlign")&&Pe.setAttribute("vAlign",je.getAttribute("vAlign"));je.getAttribute("align")&&Pe.setAttribute("align",je.getAttribute("align"));je.style.cssText&&(Pe.style.cssText=je.style.cssText);Qe=Pe;Pe=Pe.nextSibling}else{var bt=je.cloneNode(true);a.removeAttributes(bt,["class","rowSpan","colSpan"]);Qe.parentNode.appendChild(bt)}}Pe=Xe.getNextCell(Ue,true,true);if(!ie[$e]){break}if(!Pe){var Et=Xe.getCellInfo(Ue);Xe.table.insertRow(Xe.table.rows.length);Xe.update();Pe=Xe.getVSideCell(Ue,true)}}}Xe.update()}else{De=Ee.document.createElement("table");for(var $e=0,Ve;Ve=ie[$e++];){var rt=De.insertRow(De.rows.length);for(var Ye=0,je;je=Ve[Ye++];){bt=i.cloneCell(je,null,true);a.removeAttributes(bt,["class"]);rt.appendChild(bt)}if(Ye==2&&bt.rowSpan>1){bt.rowSpan=1}}var Qt=c(Ee),Zt=Ee.body.offsetWidth-(me?parseInt(a.getComputedStyle(Ee.body,"margin-left"),10)*2:0)-Qt.tableBorder*2-(Ee.options.offsetWidth||0);Ee.execCommand("insertHTML","<table  "+(ae&&be?'width="'+Zt+'"':"")+">"+De.innerHTML.replace(/>\s*</g,"><").replace(/\bth\b/gi,"td")+"</table>")}Ee.fireEvent("contentchange");Ee.fireEvent("saveScene");Le.html="";return true}var pt=Ee.document.createElement("div"),It;pt.innerHTML=Le.html;It=pt.getElementsByTagName("table");if(a.findParentByTagName(Ee.selection.getStart(),"table")){re.each(It,function(xt){a.remove(xt)});if(a.findParentByTagName(Ee.selection.getStart(),"caption",true)){pt.innerHTML=pt[le.ie?"innerText":"textContent"]}}else{re.each(It,function(xt){oe(xt,true);a.removeAttributes(xt,["style","border"]);re.each(a.getElementsByTagName(xt,"td"),function(Ft){if(ke(Ft)){a.fillNode(Ee.document,Ft)}oe(Ft,true)})})}Le.html=pt.innerHTML});f.addListener("afterpaste",function(){re.each(a.getElementsByTagName(f.body,"table"),function(Se){if(Se.offsetWidth>f.body.offsetWidth){var Le=c(f,Se);Se.style.width=f.body.offsetWidth-(me?parseInt(a.getComputedStyle(f.body,"margin-left"),10)*2:0)-Le.tableBorder*2-(f.options.offsetWidth||0)+"px"}})});f.addListener("blur",function(){ie=null});var _e;f.addListener("keydown",function(){clearTimeout(_e);_e=setTimeout(function(){var Se=f.selection.getRange(),Le=a.findParentByTagName(Se.startContainer,["th","td"],true);if(Le){var Ee=Le.parentNode.parentNode.parentNode;if(Ee.offsetWidth>Ee.getAttribute("width")){Le.style.wordBreak="break-all"}}},100)});f.addListener("selectionchange",function(){ze(f,false,"",null)});f.addListener("contentchange",function(){var Se=this;yt(Se);if(l(Se))return;var Le=Se.selection.getRange();var Ee=Le.startContainer;Ee=a.findParentByTagName(Ee,["td","th"],true);re.each(a.getElementsByTagName(Se.document,"table"),function(Me){if(Se.fireEvent("excludetable",Me)===true)return;Me.ueTable=new i(Me);re.each(a.getElementsByTagName(Se.document,"td"),function(De){if(a.isEmptyBlock(De)&&De!==Ee){a.fillNode(Se.document,De);if(le.ie&&le.version==6){De.innerHTML="&nbsp;"}}});re.each(a.getElementsByTagName(Se.document,"th"),function(De){if(a.isEmptyBlock(De)&&De!==Ee){a.fillNode(Se.document,De);if(le.ie&&le.version==6){De.innerHTML="&nbsp;"}}});Me.onmouseover=function(){Se.fireEvent("tablemouseover",Me)};Me.onmousemove=function(){Se.fireEvent("tablemousemove",Me);Se.options.tableDragable&&Je(true,this,Se)};Me.onmouseout=function(){Se.fireEvent("tablemouseout",Me);ze(Se,false,"",null);yt(Se)};Me.onclick=function(De){De=Se.window.event||De;var Pe=ge(De.target||De.srcElement);if(!Pe)return;var Ue=r(Pe),Qe=Ue.table,Xe=Ue.getCellInfo(Pe),Ze,$e=Se.selection.getRange();if(nt(Qe,Pe,De,true)){var Ve=Ue.getCell(Ue.indexTable[Ue.rowsNum-1][Xe.colIndex].rowIndex,Ue.indexTable[Ue.rowsNum-1][Xe.colIndex].cellIndex);if(De.shiftKey&&Ue.selectedTds.length){if(Ue.selectedTds[0]!==Ve){Ze=Ue.getCellsRange(Ue.selectedTds[0],Ve);Ue.setSelected(Ze)}else{$e&&$e.selectNodeContents(Ve).select()}}else{if(Pe!==Ve){Ze=Ue.getCellsRange(Pe,Ve);Ue.setSelected(Ze)}else{$e&&$e.selectNodeContents(Ve).select()}}return}if(nt(Qe,Pe,De)){var rt=Ue.getCell(Ue.indexTable[Xe.rowIndex][Ue.colsNum-1].rowIndex,Ue.indexTable[Xe.rowIndex][Ue.colsNum-1].cellIndex);if(De.shiftKey&&Ue.selectedTds.length){if(Ue.selectedTds[0]!==rt){Ze=Ue.getCellsRange(Ue.selectedTds[0],rt);Ue.setSelected(Ze)}else{$e&&$e.selectNodeContents(rt).select()}}else{if(Pe!==rt){Ze=Ue.getCellsRange(Pe,rt);Ue.setSelected(Ze)}else{$e&&$e.selectNodeContents(rt).select()}}}}});Pt(Se,true)});a.on(f.document,"mousemove",qe);a.on(f.document,"mouseout",function(Se){var Le=Se.target||Se.srcElement;if(Le.tagName=="TABLE"){ze(f,false,"",null)}});f.addListener("interlacetable",function(Se,Le,Ee){if(!Le)return;var Me=this,De=Le.rows,Pe=De.length,Ue=function Xe(Ze,$e,Ve){return Ze[$e]?Ze[$e]:Ve?Ze[$e%Ze.length]:""};for(var Qe=0;Qe<Pe;Qe++){De[Qe].className=Ue(Ee||Me.options.classList,Qe,true)}});f.addListener("uninterlacetable",function(Se,Le){if(!Le)return;var Ee=this,Me=Le.rows,De=Ee.options.classList,Pe=Me.length;for(var Ue=0;Ue<Pe;Ue++){a.removeClasses(Me[Ue],De)}});f.addListener("mousedown",wt);f.addListener("mouseup",Ot);a.on(f.body,"dragstart",function(Se){Ot.call(f,"dragstart",Se)});var Be=0;f.addListener("mousedown",function(){Be=0});f.addListener("tabkeydown",function(){var Se=this.selection.getRange(),Le=Se.getCommonAncestor(true,true),Ee=a.findParentByTagName(Le,"table");if(Ee){if(a.findParentByTagName(Le,"caption",true)){var Me=a.getElementsByTagName(Ee,"th td");if(Me&&Me.length){Se.setStart(Me[0],0).setCursor(false,true)}}else{var Me=a.findParentByTagName(Le,["td","th"],true),De=r(Me);Be=Me.rowSpan>1?Be:De.getCellInfo(Me).rowIndex;var Pe=De.getTabNextCell(Me,Be);if(Pe){if(ke(Pe)){Se.setStart(Pe,0).setCursor(false,true)}else{Se.selectNodeContents(Pe).select()}}else{f.fireEvent("saveScene");f.__hasEnterExecCommand=true;this.execCommand("insertrownext");f.__hasEnterExecCommand=false;Se=this.selection.getRange();Se.setStart(Ee.rows[Ee.rows.length-1].cells[0],0).setCursor();f.fireEvent("saveScene")}}return true}});le.ie&&f.addListener("selectionchange",function(){ze(this,false,"",null)});f.addListener("keydown",function(Se,Le){var Ee=this;var Me=Le.keyCode||Le.which;if(Me==8||Me==46){return}var De=!Le.ctrlKey&&!Le.metaKey&&!Le.shiftKey&&!Le.altKey;De&&h(a.getElementsByTagName(Ee.body,"td"));var Pe=l(Ee);if(!Pe)return;De&&Pe.clearSelected()});f.addListener("beforegetcontent",function(){Pt(this,false);le.ie&&re.each(this.document.getElementsByTagName("caption"),function(Se){if(a.isEmptyNode(Se)){Se.innerHTML="&nbsp;"}})});f.addListener("aftergetcontent",function(){Pt(this,true)});f.addListener("getAllHtml",function(){h(f.document.getElementsByTagName("td"))});f.addListener("fullscreenchanged",function(Se,Le){if(!Le){var Ee=this.body.offsetWidth/document.body.offsetWidth,Me=a.getElementsByTagName(this.body,"table");re.each(Me,function(De){if(De.offsetWidth<f.body.offsetWidth)return false;var Pe=a.getElementsByTagName(De,"td"),Ue=[];re.each(Pe,function(Ze){Ue.push(Ze.offsetWidth)});for(var Qe=0,Xe;Xe=Pe[Qe];Qe++){Xe.setAttribute("width",Math.floor(Ue[Qe]*Ee))}De.setAttribute("width",Math.floor(getTableWidth(f,me,c(f))))})}});var Fe=f.execCommand;f.execCommand=function(Se,Le){var Ee=this,Me=arguments;Se=Se.toLowerCase();var De=l(Ee),Pe,Ue=new Ae.Range(Ee.document),Qe=Ee.commands[Se]||UE.commands[Se],Xe;if(!Qe)return;if(De&&!he[Se]&&!Qe.notNeedUndo&&!Ee.__hasEnterExecCommand){Ee.__hasEnterExecCommand=true;Ee.fireEvent("beforeexeccommand",Se);Pe=De.selectedTds;var Ze=-2,$e=-2,Ve,rt;for(var Ye=0,je;je=Pe[Ye];Ye++){if(ke(je)){Ue.setStart(je,0).setCursor(false,true)}else{Ue.selectNode(je).select(true)}rt=Ee.queryCommandState(Se);Ve=Ee.queryCommandValue(Se);if(rt!=-1){if(Ze!==rt||$e!==Ve){Ee._ignoreContentChange=true;Xe=Fe.apply(Ee,arguments);Ee._ignoreContentChange=false}Ze=Ee.queryCommandState(Se);$e=Ee.queryCommandValue(Se);if(a.isEmptyBlock(je)){a.fillNode(Ee.document,je)}}}Ue.setStart(Pe[0],0).shrinkBoundary(true).setCursor(false,true);Ee.fireEvent("contentchange");Ee.fireEvent("afterexeccommand",Se);Ee.__hasEnterExecCommand=false;Ee._selectionChange(null,null,Se)}else{Xe=Fe.apply(Ee,arguments)}return Xe}});function oe(ie,ae){de(ie,"width",true);de(ie,"height",true)}function de(ie,ae,be){if(ie.style[ae]){be&&ie.setAttribute(ae,parseInt(ie.style[ae],10));ie.style[ae]=""}}function ge(ie){if(ie.tagName=="TD"||ie.tagName=="TH")return ie;var ae;if(ae=a.findParentByTagName(ie,"td",true)||a.findParentByTagName(ie,"th",true))return ae;return null}function ke(ie){var ae=new RegExp(a.fillChar,"g");if(ie[le.ie?"innerText":"textContent"].replace(/^\s*$/,"").replace(ae,"").length>0){return 0}for(var be in Re.$isNotEmpty){if(ie.getElementsByTagName(be).length){return 0}}return 1}function Ie(ie){if(ie.pageX||ie.pageY){return{x:ie.pageX,y:ie.pageY}}return{x:ie.clientX+f.document.body.scrollLeft-f.document.body.clientLeft,y:ie.clientY+f.document.body.scrollTop-f.document.body.clientTop}}function qe(ie){if(_t()){return}try{var ae=ge(ie.target||ie.srcElement),be;if(o){f.body.style.webkitUserSelect="none";if(Math.abs(n.x-ie.clientX)>s||Math.abs(n.y-ie.clientY)>s){kt();o=false;e=0;Ut(ie)}}if(p&&V){e=0;f.body.style.webkitUserSelect="none";f.selection.getNative()[le.ie9below?"empty":"removeAllRanges"]();be=Ie(ie);ze(f,true,p,be,ae);if(p=="h"){K.style.left=it(V,ie)+"px"}else if(p=="v"){K.style.top=ut(V,ie)+"px"}return}if(ae){if(f.fireEvent("excludetable",ae)===true){return}be=Ie(ie);var _e=st(ae,be),Be=a.findParentByTagName(ae,"table",true);if(nt(Be,ae,ie,true)){if(f.fireEvent("excludetable",Be)===true)return;f.body.style.cursor="url("+f.options.cursorpath+"h.png),pointer"}else if(nt(Be,ae,ie)){if(f.fireEvent("excludetable",Be)===true)return;f.body.style.cursor="url("+f.options.cursorpath+"v.png),pointer"}else{f.body.style.cursor="text";var Fe=ae;if(/\d/.test(_e)){_e=_e.replace(/\d/,"");ae=r(ae).getPreviewCell(ae,_e=="v")}ze(f,ae?!!_e:false,ae?_e:"",be,ae)}}else{Je(false,Be,f)}}catch(Se){b(Se)}}var tt;function Je(ie,ae,be){if(!ie){if(q)return;tt=setTimeout(function(){!q&&A&&A.parentNode&&A.parentNode.removeChild(A)},2e3)}else{He(ae,be)}}function He(ie,ae){var be=a.getXY(ie),_e=ie.ownerDocument;if(A&&A.parentNode)return A;A=_e.createElement("div");A.contentEditable=false;A.innerHTML="";A.style.cssText="width:15px;height:15px;background-image:url("+ae.options.UEDITOR_HOME_URL+"dialogs/table/dragicon.png);position: absolute;cursor:move;top:"+(be.y-15)+"px;left:"+be.x+"px;";a.unSelectable(A);A.onmouseover=function(Le){q=true};A.onmouseout=function(Le){q=false};a.on(A,"click",function(Le,Ee){Fe(Ee,this)});a.on(A,"dblclick",function(Le,Ee){Se(Ee)});a.on(A,"dragstart",function(Le,Ee){a.preventDefault(Ee)});var Be;function Fe(Le,Ee){clearTimeout(Be);Be=setTimeout(function(){ae.fireEvent("tableClicked",ie,Ee)},300)}function Se(Le){clearTimeout(Be);var Ee=r(ie),Me=ie.rows[0].cells[0],De=Ee.getLastCell(),Pe=Ee.getCellsRange(Me,De);ae.selection.getRange().setStart(Me,0).setCursor(false,true);Ee.setSelected(Pe)}_e.body.appendChild(A)}function nt(ie,ae,be,_e){var Be=Ie(be),Fe=st(ae,Be);if(_e){var Se=ie.getElementsByTagName("caption")[0],Le=Se?Se.offsetHeight:0;return Fe=="v1"&&Be.y-a.getXY(ie).y-Le<8}return Fe=="h1"&&Be.x-a.getXY(ie).x<8}function it(ie,ae){var be=r(ie);if(be){var _e=be.getSameEndPosCells(ie,"x")[0],Be=be.getSameStartPosXCells(ie)[0],Fe=Ie(ae).x,Se=(_e?a.getXY(_e).x:a.getXY(be.table).x)+20,Le=Be?a.getXY(Be).x+Be.offsetWidth-20:f.body.offsetWidth+5||parseInt(a.getComputedStyle(f.body,"width"),10);Se+=u;Le-=u;return Fe<Se?Se:Fe>Le?Le:Fe}}function ut(ie,ae){try{var be=a.getXY(ie).y,_e=Ie(ae).y;return _e<be?be:_e}catch(Be){b(Be)}}function ze(ie,ae,be,_e,Be){try{if(ie.queryCommandState("formatmatch")){return false}ie.body.style.cursor=be=="h"?"col-resize":be=="v"?"row-resize":"text";if(le.ie){if(be&&!Z&&!l(ie)){qt(ie,ie.document);zt(be,Be)}else{yt(ie)}}C=ae}catch(Fe){b(Fe)}}function gt(){var ie="_UETableResizeLine",ae=this.document.getElementById(ie);if(!ae){ae=this.document.createElement("div");ae.id=ie;ae.contnetEditable=false;ae.setAttribute("unselectable","on");var be={width:2*d+1+"px",position:"absolute","z-index":1e5,cursor:"col-resize",background:"red",display:"none"};ae.onmouseout=function(){this.style.display="none"};re.extend(ae.style,be);this.document.body.appendChild(ae)}return ae}function ot(ie,ae){var be=gt.call(this),_e=ae.table,Be={top:a.getXY(_e).y+"px",left:a.getXY(ie).x+ie.offsetWidth-d+"px",display:"block",height:_e.offsetHeight+"px"};re.extend(be.style,Be)}function Ct(ie){var ae=r(ie);ot.call(this,ie,ae)}function st(ie,ae){var be=a.getXY(ie);if(!be){return""}if(be.x+ie.offsetWidth-ae.x<d){return"h"}if(ae.x-be.x<d){return"h1"}if(be.y+ie.offsetHeight-ae.y<d){return"v"}if(ae.y-be.y<d){return"v1"}return""}function wt(ie,ae){if(_t()){return}n={x:ae.clientX,y:ae.clientY};if(ae.button==2){var be=l(f),_e=false;if(be){var Be=Wt(f,ae);re.each(be.selectedTds,function(Fe){if(Fe===Be){_e=true}});if(!_e){h(a.getElementsByTagName(f.body,"th td"));be.clearSelected()}else{Be=be.selectedTds[0];setTimeout(function(){f.selection.getRange().setStart(Be,0).setCursor(false,true)},0)}}}else{At(ae)}}function lt(){E&&clearTimeout(E);E=null}function vt(ie){e=0;ie=ie||f.window.event;var ae=ge(ie.target||ie.srcElement);if(ae){var be;if(be=st(ae,Ie(ie))){yt(f);if(be=="h1"){be="h";if(nt(a.findParentByTagName(ae,"table"),ae,ie)){f.execCommand("adaptbywindow")}else{ae=r(ae).getPreviewCell(ae);if(ae){var _e=f.selection.getRange();_e.selectNodeContents(ae).setCursor(true,true)}}}if(be=="h"){var Be=r(ae),Fe=Be.table,Se=jt(ae,Fe,true);Se=Lt(Se,"left");Be.width=Be.offsetWidth;var Le=[],Ee=[];re.each(Se,function(Me){Le.push(Me.offsetWidth)});re.each(Se,function(Me){Me.removeAttribute("width")});window.setTimeout(function(){var Me=true;re.each(Se,function(Pe,Ue){var Qe=Pe.offsetWidth;if(Qe>Le[Ue]){Me=false;return false}Ee.push(Qe)});var De=Me?Ee:Le;re.each(Se,function(Pe,Ue){Pe.width=De[Ue]-Nt()})},0)}}}}function At(ie){h(a.getElementsByTagName(f.body,"td th"));re.each(f.document.getElementsByTagName("table"),function(_e){_e.ueTable=null});v=Wt(f,ie);if(!v)return;var ae=a.findParentByTagName(v,"table",true),be=r(ae);be&&be.clearSelected();if(!C){f.document.body.style.webkitUserSelect="";Z=true;f.addListener("mouseover",Ht)}else{ht(ie)}}function ht(ie){if(le.ie){ie=$t(ie)}kt();o=true;B=setTimeout(function(){Ut(ie)},t)}function Lt(ie,ae){var be=[],_e=null;for(var Be=0,Fe=ie.length;Be<Fe;Be++){_e=ie[Be][ae];if(_e){be.push(_e)}}return be}function kt(){B&&clearTimeout(B);B=null}function $t(ie){var ae=["pageX","pageY","clientX","clientY","srcElement","target"],be={};if(ie){for(var _e=0,Be,Fe;Be=ae[_e];_e++){Fe=ie[Be];Fe&&(be[Be]=Fe)}}return be}function Ut(ie){o=false;if(!v)return;var ae=Math.abs(n.x-ie.clientX)>=Math.abs(n.y-ie.clientY)?"h":"v";if(/\d/.test(ae)){ae=ae.replace(/\d/,"");v=r(v).getPreviewCell(v,ae=="v")}yt(f);qt(f,f.document);f.fireEvent("saveScene");zt(ae,v);Z=true;p=ae;V=v}function Ot(ie,ae){if(_t()){return}kt();o=false;if(C){e=++e%3;n={x:ae.clientX,y:ae.clientY};m=setTimeout(function(){e>0&&e--},t);if(e===2){e=0;vt(ae);return}}if(ae.button==2)return;var be=this;var _e=be.selection.getRange(),Be=a.findParentByTagName(_e.startContainer,"table",true),Fe=a.findParentByTagName(_e.endContainer,"table",true);if(Be||Fe){if(Be===Fe){Be=a.findParentByTagName(_e.startContainer,["td","th","caption"],true);Fe=a.findParentByTagName(_e.endContainer,["td","th","caption"],true);if(Be!==Fe){be.selection.clearRange()}}else{be.selection.clearRange()}}Z=false;be.document.body.style.webkitUserSelect="";if(p&&V){be.selection.getNative()[le.ie9below?"empty":"removeAllRanges"]();e=0;K=be.document.getElementById("ue_tableDragLine");var Se=a.getXY(V),Le=a.getXY(K);switch(p){case"h":Xt(V,Le.x-Se.x);break;case"v":Yt(V,Le.y-Se.y-V.offsetHeight);break;default:}p="";V=null;yt(be);be.fireEvent("saveScene");return}if(!v){var Ee=a.findParentByTagName(ae.target||ae.srcElement,"td",true);if(!Ee)Ee=a.findParentByTagName(ae.target||ae.srcElement,"th",true);if(Ee&&(Ee.tagName=="TD"||Ee.tagName=="TH")){if(be.fireEvent("excludetable",Ee)===true)return;_e=new Ae.Range(be.document);_e.setStart(Ee,0).setCursor(false,true)}}else{var Me=r(v),De=Me?Me.selectedTds[0]:null;if(De){_e=new Ae.Range(be.document);if(a.isEmptyBlock(De)){_e.setStart(De,0).setCursor(false,true)}else{_e.selectNodeContents(De).shrinkBoundary().setCursor(false,true)}}else{_e=be.selection.getRange().shrinkBoundary();if(!_e.collapsed){var Be=a.findParentByTagName(_e.startContainer,["td","th"],true),Fe=a.findParentByTagName(_e.endContainer,["td","th"],true);if(Be&&!Fe||!Be&&Fe||Be&&Fe&&Be!==Fe){_e.setCursor(false,true)}}}v=null;be.removeListener("mouseover",Ht)}be._selectionChange(250,ae,ae.type)}function Ht(ie,ae){if(_t()){return}var be=this,_e=ae.target||ae.srcElement;S=a.findParentByTagName(_e,"td",true)||a.findParentByTagName(_e,"th",true);if(v&&S&&(v.tagName=="TD"&&S.tagName=="TD"||v.tagName=="TH"&&S.tagName=="TH")&&a.findParentByTagName(v,"table")==a.findParentByTagName(S,"table")){var Be=r(S);if(v!=S){be.document.body.style.webkitUserSelect="none";be.selection.getNative()[le.ie9below?"empty":"removeAllRanges"]();var Fe=Be.getCellsRange(v,S);Be.setSelected(Fe)}else{be.document.body.style.webkitUserSelect="";Be.clearSelected()}}ae.preventDefault?ae.preventDefault():ae.returnValue=false}function Kt(ie,ae,be){var _e=parseInt(a.getComputedStyle(ie,"line-height"),10),Be=be+ae;ae=Be<_e?_e:Be;if(ie.style.height)ie.style.height="";ie.rowSpan==1?ie.setAttribute("height",ae):ie.removeAttribute&&ie.removeAttribute("height")}function en(ie){if(!ie)return 0;return parseInt(a.getComputedStyle(ie,"width"),10)}function Xt(ie,ae){var be=r(ie);if(be){var _e=be.table,Be=jt(ie,_e);_e.style.width="";_e.removeAttribute("width");ae=Gt(ae,ie,Be);if(ie.nextSibling){var Fe=0;re.each(Be,function(Se){Se.left.width=+Se.left.width+ae;Se.right&&(Se.right.width=+Se.right.width-ae)})}else{re.each(Be,function(Se){Se.left.width-=-ae})}}}function _t(){return f.body.contentEditable==="false"}function Yt(ie,ae){if(Math.abs(ae)<10)return;var be=r(ie);if(be){var _e=be.getSameEndPosCells(ie,"y"),Be=_e[0]?_e[0].offsetHeight:0;for(var Fe=0,Se;Se=_e[Fe++];){Kt(Se,ae,Be)}}}function jt(ie,ae,be){if(!ae){ae=a.findParentByTagName(ie,"table")}if(!ae){return null}var _e=a.getNodeIndex(ie),Be=ie,Fe=ae.rows,Se=0;while(Be){if(Be.nodeType===1){Se+=Be.colSpan||1}Be=Be.previousSibling}Be=null;var Le=[];re.each(Fe,function(Ee){var Me=Ee.cells,De=0;re.each(Me,function(Pe){De+=Pe.colSpan||1;if(De===Se){Le.push({left:Pe,right:Pe.nextSibling||null});return false}else if(De>Se){if(be){Le.push({left:Pe})}return false}})});return Le}function tn(ie){var ae=Number.MAX_VALUE;for(var be=0,_e;_e=ie[be];be++){ae=Math.min(ae,_e.width||Dt(_e))}return ae}function Gt(ie,ae,be){ie-=Nt();if(ie<0){return 0}ie-=Dt(ae);var _e=ie<0?"left":"right";ie=Math.abs(ie);re.each(be,function(Be){var Fe=Be[_e];if(Fe){ie=Math.min(ie,Dt(Fe)-u)}});ie=ie<0?0:ie;return _e==="left"?-ie:ie}function Dt(ie){var be=0,ae=0,be=ie.offsetWidth-Nt();if(!ie.nextSibling){be-=Jt(ie)}be=be<0?0:be;try{ie.width=be}catch(_e){}return be}function Jt(ie){var ae=a.findParentByTagName(ie,"table",false);if(ae.offsetVal===void 0){var be=ie.previousSibling;if(be){ae.offsetVal=ie.offsetWidth-be.offsetWidth===i.borderWidth?i.borderWidth:0}else{ae.offsetVal=0}}return ae.offsetVal}function Nt(){if(i.tabcellSpace===void 0){var ie=null,ae=f.document.createElement("table"),be=f.document.createElement("tbody"),_e=f.document.createElement("tr"),Be=f.document.createElement("td"),Fe=null;Be.style.cssText="border: 0;";Be.width=1;_e.appendChild(Be);_e.appendChild(Fe=Be.cloneNode(false));be.appendChild(_e);ae.appendChild(be);ae.style.cssText="visibility: hidden;";f.body.appendChild(ae);i.paddingSpace=Be.offsetWidth-1;var Se=ae.offsetWidth;Be.style.cssText="";Fe.style.cssText="";i.borderWidth=(ae.offsetWidth-Se)/3;i.tabcellSpace=i.paddingSpace+i.borderWidth;f.body.removeChild(ae)}Nt=function Le(){return i.tabcellSpace};return i.tabcellSpace}function qt(ie,ae){if(Z)return;K=ie.document.createElement("div");a.setAttributes(K,{id:"ue_tableDragLine",unselectable:"on",contenteditable:false,"onresizestart":"return false","ondragstart":"return false","onselectstart":"return false",style:"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)"});ie.body.appendChild(K)}function yt(ie){if(Z)return;var ae;while(ae=ie.document.getElementById("ue_tableDragLine")){a.remove(ae)}}function zt(ie,ae){if(!ae)return;var be=a.findParentByTagName(ae,"table"),_e=be.getElementsByTagName("caption"),Be=be.offsetWidth,Fe=be.offsetHeight-(_e.length>0?_e[0].offsetHeight:0),Se=a.getXY(be),Le=a.getXY(ae),Ee;switch(ie){case"h":Ee="height:"+Fe+"px;top:"+(Se.y+(_e.length>0?_e[0].offsetHeight:0))+"px;left:"+(Le.x+ae.offsetWidth);K.style.cssText=Ee+"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)";break;case"v":Ee="width:"+Be+"px;left:"+Se.x+"px;top:"+(Le.y+ae.offsetHeight);K.style.cssText=Ee+"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)";break;default:}}function Pt(ie,ae){var be=a.getElementsByTagName(ie.body,"table"),_e;for(var Be=0,Fe;Fe=be[Be++];){var Se=a.getElementsByTagName(Fe,"td");if(Se[0]){if(ae){_e=Se[0].style.borderColor.replace(/\s/g,"");if(/(#ffffff)|(rgb\(255,f55,255\))/ig.test(_e)){a.addClass(Fe,"noBorderTable")}}else{a.removeClasses(Fe,"noBorderTable")}}}}function Wt(ie,ae){var be=a.findParentByTagName(ae.target||ae.srcElement,["td","th"],true),_e=null;if(!be){return null}_e=st(be,Ie(ae));if(!be){return null}if(_e==="h1"&&be.previousSibling){var Be=a.getXY(be),Fe=be.offsetWidth;if(Math.abs(Be.x+Fe-ae.clientX)>Fe/3){be=be.previousSibling}}else if(_e==="v1"&&be.parentNode.previousSibling){var Be=a.getXY(be),Se=be.offsetHeight;if(Math.abs(Be.y+Se-ae.clientY)>Se/3){be=be.parentNode.previousSibling.firstChild}}return be&&!(ie.fireEvent("excludetable",be)===true)?be:null}};UE.plugins.contextmenu=function(){var f=this,E=f.getLang("contextMenu"),B,m=f.options.contextMenu;if(!m.length){return}var u=UE.ui.uiUtils;var o={click:[{id:"122333",key:"50"}],selectall:[{id:"122333",key:"51"}],cleardoc:[{id:"122333",key:"53"}],justify:{pv:[{id:"122333",key:"55"}],left:[{id:"122333",key:"57"}],right:[{id:"122333",key:"59"}],center:[{id:"122333",key:"61"}],justify:[{id:"122333",key:"63"}]},inserttable:[{id:"122333",key:"65"}],insertparagraph:{"true":[{id:"122333",key:"67"}],"undefined":[{id:"122333",key:"69"}]},copy:[{id:"122333",key:"71"}],paste:[{id:"122333",key:"73"}]};var d=function s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var n=o[e.cmd];if(n){var t=[].concat(o.click);var i=null;var r=e.value+"";if(r){i=n[r]}if(i){t=t.concat(i);var l=n.pv;if(l){t=t.concat(l)}}else{t=t.concat(n)}f.fireEvent("reportAddNum",t)}};f.addListener("contextmenu",function(s,e){var n=u.getViewportOffsetByEvent(e);f.fireEvent("beforeselectionchange");if(B){B.destroy()}for(var t=0,i,r=[];i=m[t];t++){var l;(function(b){if(b=="-"){if((l=r[r.length-1])&&l!=="-"){r.push("-")}}else if(b.hasOwnProperty("group")){for(var v=0,S,p=[];S=b.subMenu[v];v++){(function(A){if(A=="-"){if((l=p[p.length-1])&&l!=="-"){p.push("-")}else{p.splice(p.length-1)}}else{if((f.commands[A.cmdName]||UE.commands[A.cmdName]||A.query)&&(A.query?A.query():f.queryCommandState(A.cmdName))>-1){p.push({"label":A.label||f.getLang("contextMenu."+A.cmdName+(A.value||""))||"","className":"edui-for-"+A.cmdName+(A.className?" edui-for-"+A.cmdName+"-"+A.className:""),onclick:A.exec?function(){!!A.cmdName&&f.fireEvent("funcPvUvReport","menu_"+A.cmdName);A.exec.call(f);d({cmd:A.cmdName})}:function(){f.fireEvent("funcPvUvReport","menu_"+A.cmdName+(A.value||""));f.execCommand(A.cmdName,A.value);d({cmd:A.cmdName,value:A.value+""})}})}}})(S)}if(p.length){var C=function A(){switch(b.icon){case"table":return f.getLang("contextMenu.table");case"justifyjustify":return f.getLang("contextMenu.paragraph");case"aligntd":return f.getLang("contextMenu.aligntd");case"aligntable":return f.getLang("contextMenu.aligntable");case"tablesort":return E.tablesort;case"borderBack":return E.borderbk;default:return""}};r.push({"label":C(),className:"edui-for-"+b.icon,"subMenu":{items:p,editor:f}})}}else{if((f.commands[b.cmdName]||UE.commands[b.cmdName]||b.query)&&(b.query?b.query.call(f):f.queryCommandState(b.cmdName))>-1){if(b.cmdName=="highlightcode"){if(f.queryCommandState(b.cmdName)==1&&b.icon!="deletehighlightcode"){return}if(f.queryCommandState(b.cmdName)!=1&&b.icon=="deletehighlightcode"){return}}r.push({"label":b.label||f.getLang("contextMenu."+b.cmdName),className:"edui-for-"+(b.icon?b.icon:b.cmdName+(b.value||"")),onclick:b.exec?function(){!!b.cmdName&&f.fireEvent("funcPvUvReport","menu_"+b.cmdName);b.exec.call(f);d({cmd:b.cmdName})}:function(){f.fireEvent("funcPvUvReport","menu_"+b.cmdName+(b.value||""));f.execCommand(b.cmdName,b.value);d({cmd:b.cmdName,value:b.value+""})}})}}})(i)}if(r[r.length-1]=="-"){r.pop()}B=new UE.ui.Menu({items:r,className:"edui-contextmenu",editor:f});B.render();B.showAt(n);f.fireEvent("funcPvUvReport","contextmenu");f.fireEvent("aftershowcontextmenu",B);f.fireEvent("reportAddNum","122333","49","1");a.preventDefault(e);if(le.ie){var c;try{c=f.selection.getNative().createRange()}catch(b){return}if(c.item){var h=new Ae.Range(f.document);h.selectNode(c.item(0)).select(true,true)}}})};UE.plugins.shortcutmenu=function(){var f=this,E,B=f.options.shortcutMenu||[];if(!B.length){return}f.addListener("contextmenu mouseup",function(m,u){var o=this,d={type:m,target:u.target||u.srcElement,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY};setTimeout(function(){var n=o.selection.getRange();if(n.collapsed===false||m=="contextmenu"){if(!E){E=new fe.editor.ui.ShortCutMenu({editor:o,items:B,theme:o.options.theme,className:"edui-shortcutmenu"});E.render();o.fireEvent("afterrendershortcutmenu",E)}E.show(d,!!UE.plugins.contextmenu)}});if(m=="contextmenu"){a.preventDefault(u);if(le.ie9below){var s;try{s=o.selection.getNative().createRange()}catch(n){return}if(s.item){var e=new Ae.Range(o.document);e.selectNode(s.item(0)).select(true,true)}}}if(m=="keydown"){E&&!E.isHidden&&E.hide()}});f.addListener("keydown",function(m){if(m=="keydown"){E&&!E.isHidden&&E.hide()}})};UE.plugins.basestyle=function(){var f={"bold":{"font-weight":"bold"},"italic":{"font-style":"italic"}};var E={"bold":["strong","b"],"italic":["em","i"],"subscript":["sub"],"superscript":["sup"]},B=function o(d,s){return a.filterNodeList(d.selection.getStartElementPath(),s)},m=this;m.addshortcutkey({"Bold":"ctrl+66","Italic":"ctrl+73","Underline":"ctrl+85"});m.addInputRule(function(o){re.each(o.getNodesByTagName("b i"),function(d){switch(d.tagName){case"b":d.tagName="strong";break;case"i":d.tagName="em"}})});for(var u in E){(function(o,d){m.commands[o]={execCommand:function s(e,n){var t=m.selection.getRange(),i=B(this,d);if(t.collapsed){if(i){var r=m.document.createTextNode("");t.insertNode(r).removeInlineStyle(d,{ignoreUnEditable:true,liStyle:f[o]});t.setStartBefore(r);a.remove(r)}else{var l=t.document.createElement(d[0]);if(e=="superscript"||e=="subscript"){r=m.document.createTextNode("");t.insertNode(r).removeInlineStyle(["sub","sup"],{ignoreUnEditable:true}).setStartBefore(r).collapse(true)}t.insertNode(l).setStart(l,0)}t.collapse(true)}else{if(e=="superscript"||e=="subscript"){if(!i||i.tagName.toLowerCase()!=e){t.removeInlineStyle(["sub","sup"],{ignoreUnEditable:true})}}if(n===1){t.applyInlineStyle(d[0],null,null,{ignoreUnEditable:true,liStyle:f[o]})}else if(n===0){t.removeInlineStyle(d,{ignoreUnEditable:true,liStyle:f[o]})}else{if(i){t.removeInlineStyle(d,{ignoreUnEditable:true,liStyle:f[o]})}else{t.applyInlineStyle(d[0],null,null,{ignoreUnEditable:true,liStyle:f[o]})}}}t.select()},queryCommandState:function s(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n.allDomInRange&&n.allDomInRange[0]&&a.isContentEditable({node:n.allDomInRange[0],checkParent:false})===2){return-1}return B(this,d)?1:0}}})(u,E[u])}};UE.plugins.elementpath=function(){var f,E,B=this;B.setOpt("elementPathEnabled",true);if(!B.options.elementPathEnabled){return}B.commands.elementpath={execCommand:function m(u,o){var d=E[o],s=B.selection.getRange();f=o*1;s.selectNode(d).select()},queryCommandValue:function m(){var u=[].concat(this.selection.getStartElementPath()).reverse(),o=[];E=u;for(var d=0,s;s=u[d];d++){if(s.nodeType==3){continue}var e=s.tagName.toLowerCase();if(e=="img"&&s.getAttribute("anchorname")){e="anchor"}o[d]=e;if(f==d){f=-1;break}}return o}}};UE.plugins.formatmatch=function(){var f=this,E=[],B,m=0,u=0,o;var d=null;var s=null;var e=null;f.addListener("reset",function(){E=[];m=0;r()});f.addListener("beforeexeccommand",function(h){if(h!=="formatmatch"){if(f.queryCommandState("formatmatch")){f.execCommand("formatmatch")}}});function n(h,b){if(le.webkit){var v=b.target.tagName=="IMG"?b.target:null}function S(V){if(q){V.selectNode(q)}if(E.length){V.applyInlineStyle(E[E.length-1].tagName,null,E,{ignoreUnEditable:true,liStyle:s})}V.applyBlockStyle({attrs:d,liAttrs:s,listAttrs:e,removeOrigin:true,ignoreUnEditable:true,distUnEditableParentAttr:true})}f.undoManger&&f.undoManger.save();var p=f.selection.getRange(),C=v||p.getClosedNode();if(B&&C&&C.tagName=="IMG"){C.style.cssText+=";float:"+(B.style.cssFloat||B.style.styleFloat||"none")+";display:"+(B.style.display||"inline");B=null}else{if(!B){var A=p.collapsed;if(A){var q=f.document.createTextNode("match");p.insertNode(q).select()}f.__hasEnterExecCommand=true;var K=f.options.removeFormatAttributes;f.options.removeFormatAttributes="";f.execCommand("removeformat",{ignoreUnEditable:true});f.options.removeFormatAttributes=K;f.__hasEnterExecCommand=false;p=f.selection.getRange();S(p);if(q){p.setStartBefore(q).collapse(true)}p.select();q&&a.remove(q)}}if(u===0){d=null;s=null;e=null}f.undoManger&&f.undoManger.save();if(u===0){f.removeListener("mouseup",n);m=0;r()}}function t(){if(!o){o=document.getElementById("js_format_painter_icon")}f.document.body.addEventListener("mousemove",i);f.document.body.addEventListener("mouseleave",l);f.document.body.addEventListener("mouseenter",c);f.fireEvent("reportAddNum",122325,127,1)}function i(h){var b=h.clientX;var v=h.clientY;var S=window.parent;var p=f.iframe.getBoundingClientRect();var C={top:p.top+S.pageYOffset,left:p.left+S.pageXOffset};o.style.left="".concat(b+C.left+5,"px");o.style.top="".concat(v+C.top-65-window.pageYOffset,"px")}function r(){u=0;fe.editor.ui.buttons.formatmatch.setToolTipsWording("\u683C\u5F0F\u5237\uFF0C\u53CC\u51FB\u53EF\u91CD\u590D\u4F7F\u7528");l();f.document.body.removeEventListener("mousemove",i);f.document.body.removeEventListener("mouseleave",l);f.document.body.removeEventListener("mouseenter",c)}function l(){o&&(o.style.display="none")}function c(){o.style.display="block"}f.commands.formatmatch={execCommand:function h(b,v){if(m){m=0;E=[];d=null;s=null;e=null;f.removeListener("mouseup",n);r();return}t();var S=f.selection.getRange();B=S.getClosedNode();if(!B||B.tagName!="IMG"){S.collapse(true).shrinkBoundary();var p=S.startContainer;E=a.findParents(p,true,function(q){if(a.isBody(q)){return false}var K=a.isBlockElm(q);var V=!!(q.nodeName.toLowerCase()==="li");var Z=!!/^(ul)|(ol)$/i.test(q.nodeName);var me=null;if(V){if(!s){s={}}me=s}else if(Z){if(!e){e={}}me=e}else if(K){if(!d){d={}}me=d}if(me){var he=a.getStyles(q);if(he){for(var oe in he){if(Object.prototype.hasOwnProperty.call(he,oe)){if(!me[oe]){me[oe]=he[oe]}}}}}return!K&&!V&&!Z&&q.nodeType==1});for(var C=0,A;A=E[C];C++){if(A.tagName=="A"){E.splice(C,1);break}}}f.addListener("mouseup",n);m=1;if(v==="dblclick"){if(u===0){u=1;fe.editor.ui.buttons.formatmatch.setToolTipsWording("\u9000\u51FA\u683C\u5F0F\u5237\uFF08Esc\uFF09")}else{u=0}}},queryCommandState:function h(b){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(v.allDomInRange&&v.allDomInRange[0]&&a.isContentEditable({node:v.allDomInRange[0],checkParent:false})===2){return-1}return m},notNeedUndo:1}};UE.plugins.customstyle=function(){var f=this;f.setOpt({"customstyle":[{tag:"h1",name:"tc",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",name:"tl",style:"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;"},{tag:"span",name:"im",style:"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;"},{tag:"span",name:"hi",style:"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;"}]});f.commands.customstyle={execCommand:function E(B,m){var u=this,o=m.tag,d=a.findParent(u.selection.getStart(),function(p){return p.getAttribute("label")},true),s,e,n={};for(var t in m){if(m[t]!==void 0){n[t]=m[t]}}delete n.tag;if(d&&d.getAttribute("label")==m.label){s=this.selection.getRange();e=s.createBookmark();if(s.collapsed){if(Re.$block[d.tagName]){var i=u.document.createElement("p");a.moveChild(d,i);d.parentNode.insertBefore(i,d);a.remove(d)}else{a.remove(d,true)}}else{var r=a.getCommonAncestor(e.start,e.end),l=a.getElementsByTagName(r,o);if(new RegExp(o,"i").test(r.tagName)){l.push(r)}for(var c=0,h;h=l[c++];){if(h.getAttribute("label")==m.label){var b=a.getPosition(h,e.start),v=a.getPosition(h,e.end);if((b&a.POSITION_FOLLOWING||b&a.POSITION_CONTAINS)&&(v&a.POSITION_PRECEDING||v&a.POSITION_CONTAINS)){if(Re.$block[o]){var i=u.document.createElement("p");a.moveChild(h,i);h.parentNode.insertBefore(i,h)}}a.remove(h,true)}}d=a.findParent(r,function(p){return p.getAttribute("label")==m.label},true);if(d){a.remove(d,true)}}s.moveToBookmark(e).select()}else{if(Re.$block[o]){this.execCommand("paragraph",o,n,"customstyle");s=u.selection.getRange();if(!s.collapsed){s.collapse();d=a.findParent(u.selection.getStart(),function(p){return p.getAttribute("label")==m.label},true);var S=u.document.createElement("p");a.insertAfter(d,S);a.fillNode(u.document,S);s.setStart(S,0).setCursor()}}else{s=u.selection.getRange();if(s.collapsed){d=u.document.createElement(o);a.setAttributes(d,n);s.insertNode(d).setStart(d,0).setCursor();return}e=s.createBookmark();s.applyInlineStyle(o,n).moveToBookmark(e).select()}}},queryCommandValue:function E(){var B=a.filterNodeList(this.selection.getStartElementPath(),function(m){return m.getAttribute("label")});return B?B.getAttribute("label"):""}};f.addListener("keyup",function(E,B){var m=B.keyCode||B.which;if(m==32||m==13){var u=f.selection.getRange();if(u.collapsed){var o=a.findParent(f.selection.getStart(),function(s){return s.getAttribute("label")},true);if(o&&Re.$block[o.tagName]&&a.isEmptyNode(o)){var d=f.document.createElement("p");a.insertAfter(o,d);a.fillNode(f.document,d);a.remove(o);u.setStart(d,0).setCursor()}}}})};UE.commands.insertparagraph={execCommand:function f(E,B){var m=this,u=m.selection.getRange(),o=u.startContainer,d;while(o){if(a.isBody(o)){break}d=o;o=o.parentNode}if(d){var s=m.document.createElement("p");if(B){d.parentNode.insertBefore(s,d)}else{d.parentNode.insertBefore(s,d.nextSibling)}a.fillNode(m.document,s);u.setStart(s,0).setCursor(false,true)}}};var fe=fe||{};fe.editor=fe.editor||{};fe.editor.ui={};(function(){var f=fe.editor.browser,E=fe.editor.dom.domUtils;var B="$EDITORUI";var m=window[B]={};var u="ID"+B;var o=0;var d=fe.editor.ui.uiUtils={uid:function n(t){return t?t[u]||(t[u]=++o):++o},hook:function n(t,i){var r;if(t&&t._callbacks){r=t}else{r=function l(){var c;if(t){c=t.apply(this,arguments)}var h=r._callbacks;var b=h.length;while(b--){var v=h[b].apply(this,arguments);if(c===void 0){c=v}}return c};r._callbacks=[]}r._callbacks.push(i);return r},createElementByHtml:function n(t){var i=document.createElement("div");i.innerHTML=t;i=i.firstChild;i.parentNode.removeChild(i);return i},getViewportElement:function n(){return f.ie&&f.quirks?document.body:document.documentElement},getClientRect:function n(t){var i;try{i=t.getBoundingClientRect()}catch(c){i={left:0,top:0,height:0,width:0}}var r={left:Math.round(i.left),top:Math.round(i.top),height:Math.round(i.bottom-i.top),width:Math.round(i.right-i.left)};var l;while((t&&(l=t.ownerDocument))!==document&&l&&(t=E.getWindow(l).frameElement)){i=t.getBoundingClientRect();r.left+=i.left;r.top+=i.top}r.bottom=r.top+r.height;r.right=r.left+r.width;return r},getViewportRect:function n(){var t=d.getViewportElement();var i=(window.innerWidth||t.clientWidth)|0;var r=(window.innerHeight||t.clientHeight)|0;return{left:0,top:0,height:r,width:i,bottom:r,right:i}},setViewportOffset:function n(t,i){var r;var l=d.getFixedLayer();if(t.parentNode===l){t.style.left=i.left+"px";t.style.top=i.top+"px"}else{E.setViewportOffset(t,i)}},setViewportSize:function n(t,i){if(!i)return;var r=t.getElementsByClassName("js_link_popup");if(i.width){t.style.width=i.width+"px";r&&r[0]&&(r[0].style.width=i.width+"px")}if(i.height){t.style.height=i.height+"px";r&&r[0]&&(r[0].style.height=i.height+"px")}},getEventOffset:function n(t){var i=t.target||t.srcElement;var r=d.getClientRect(i);var l=d.getViewportOffsetByEvent(t);return{left:l.left-r.left,top:l.top-r.top}},getViewportOffsetByEvent:function n(t){var i=t.target||t.srcElement;var r=E.getWindow(i).frameElement;var l={left:t.clientX,top:t.clientY};if(r&&i.ownerDocument!==document){var c=d.getClientRect(r);l.left+=c.left;l.top+=c.top}return l},setGlobal:function n(t,i){m[t]=i;return B+'["'+t+'"]'},unsetGlobal:function n(t){delete m[t]},copyAttributes:function n(t,i){var r=i.attributes;var l=r.length;while(l--){var c=r[l];if(c.nodeName!="style"&&c.nodeName!="class"&&(!f.ie||c.specified)){t.setAttribute(c.nodeName,c.nodeValue)}}if(i.className){E.addClass(t,i.className)}if(i.style.cssText){t.style.cssText+=";"+i.style.cssText}},removeStyle:function n(t,i){if(t.style.removeProperty){t.style.removeProperty(i)}else if(t.style.removeAttribute){t.style.removeAttribute(i)}else throw""},contains:function n(t,i){return t&&i&&(t===i?false:t.contains?t.contains(i):t.compareDocumentPosition(i)&16)},startDrag:function n(t,i,l){var l=l||document;var c=t.clientX;var h=t.clientY;function b(C){var A=C.clientX-c;var q=C.clientY-h;i.ondragmove(A,q,C);if(C.stopPropagation){C.stopPropagation()}else{C.cancelBubble=true}}if(l.addEventListener){var v=function C(A){l.removeEventListener("mousemove",b,true);l.removeEventListener("mouseup",C,true);window.removeEventListener("mouseup",C,true);i.ondragstop()};l.addEventListener("mousemove",b,true);l.addEventListener("mouseup",v,true);window.addEventListener("mouseup",v,true);t.preventDefault()}else{var S=function C(){p.releaseCapture();p.detachEvent("onmousemove",b);p.detachEvent("onmouseup",C);p.detachEvent("onlosecaptrue",C);i.ondragstop()};var p=t.srcElement;p.setCapture();p.attachEvent("onmousemove",b);p.attachEvent("onmouseup",S);p.attachEvent("onlosecaptrue",S);t.returnValue=false}i.ondragstart()},getFixedLayer:function n(){var t=document.getElementById("edui_fixedlayer");if(t==null){t=document.createElement("div");t.id="edui_fixedlayer";document.body.appendChild(t);if(f.ie&&f.version<=8){t.style.position="absolute";e();setTimeout(s)}else{t.style.position="fixed"}t.style.left="0";t.style.top="0";t.style.width="0";t.style.height="0"}return t},makeUnselectable:function n(t){if(f.opera||f.ie&&f.version<9){t.unselectable="on";if(t.hasChildNodes()){for(var i=0;i<t.childNodes.length;i++){if(t.childNodes[i].nodeType==1){d.makeUnselectable(t.childNodes[i])}}}}else{if(t.style.MozUserSelect!==void 0){t.style.MozUserSelect="none"}else if(t.style.WebkitUserSelect!==void 0){t.style.WebkitUserSelect="none"}else if(t.style.KhtmlUserSelect!==void 0){t.style.KhtmlUserSelect="none"}}}};function s(){var n=document.getElementById("edui_fixedlayer");d.setViewportOffset(n,{left:0,top:0})}function e(n){E.on(window,"scroll",s);E.on(window,"resize",fe.editor.utils.defer(s,0,true))}})();(function(){var f=fe.editor.utils,E=fe.editor.ui.uiUtils,B=fe.editor.EventBase,m=fe.editor.ui.UIBase=function(){};m.prototype={className:"",uiName:"",initOptions:function u(o){var d=this;for(var s in o){d[s]=o[s]}this.id=this.id||"edui"+E.uid()},initUIBase:function u(){this._globalKey=f.unhtml(E.setGlobal(this.id,this))},render:function u(o){var d=this.renderHtml();var s=E.createElementByHtml(d);var e=a.getElementsByTagName(s,"*");var n="edui-"+(this.theme||this.editor.options.theme);var t=document.getElementById("edui_fixedlayer");for(var i=0,r;r=e[i++];){a.addClass(r,n)}a.addClass(s,n);if(t){t.className="";a.addClass(t,n)}var l=this.getDom();if(l!=null){l.parentNode.replaceChild(s,l);E.copyAttributes(s,l)}else{if(typeof o==="string"){o=document.getElementById(o)}o=o||E.getFixedLayer();a.addClass(o,n);o.appendChild(s)}this.postRender()},getDom:function u(o){if(!o){return document.getElementById(this.id)}return document.getElementById(this.id+"_"+o)},postRender:function u(){this.fireEvent("postrender")},getHtmlTpl:function u(){return""},formatHtml:function u(o){var d="edui-"+this.uiName;return o.replace(/##/g,this.id).replace(/%%-/g,this.uiName?d+"-":"").replace(/%%/g,(this.uiName?d:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function u(){return this.formatHtml(this.getHtmlTpl())},dispose:function u(){var o=this.getDom();if(o)fe.editor.dom.domUtils.remove(o);E.unsetGlobal(this.id)}};f.inherits(m,B)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.UIBase,B=fe.editor.ui.Separator=function(m){this.initOptions(m);this.initSeparator()};B.prototype={uiName:"separator",initSeparator:function m(){this.initUIBase()},getHtmlTpl:function m(){return'<div id="##" class="edui-box %%"></div>'}};f.inherits(B,E)})();(function(){var f=fe.editor.utils,E=fe.editor.dom.domUtils,B=fe.editor.ui.UIBase,m=fe.editor.ui.uiUtils;var u=fe.editor.ui.Mask=function(o){this.initOptions(o);this.initUIBase()};u.prototype={getHtmlTpl:function o(){return'<div id="##" class="edui-mask %%" onmousedown="return $$._onMouseDown(event, this);"></div>'},postRender:function o(){var d=this;E.on(window,"resize",function(){setTimeout(function(){if(!d.isHidden()){d._fill()}})})},show:function o(d){this._fill();this.getDom().style.display="";this.getDom().style.zIndex=d},hide:function o(){this.getDom().style.display="none";this.getDom().style.zIndex=""},isHidden:function o(){return this.getDom().style.display=="none"},_onMouseDown:function o(){return false},_fill:function o(){var d=this.getDom();var s=m.getViewportRect();d.style.width=s.width+"px";d.style.height=s.height+"px"}};f.inherits(u,B)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.uiUtils,B=fe.editor.dom.domUtils,m=fe.editor.ui.UIBase,u=fe.editor.ui.Popup=function(e){this.initOptions(e);this.initPopup()};var o=[];function d(e,n,t){for(var i=0;i<o.length;i++){var r=o[i];if(t==="scroll"&&r.opts&&r.opts.stickerPopup){continue}if(t==="resize"&&(!r.opts||!r.opts.stickerPopup)){continue}if(!r.isHidden()){if(r.queryAutoHide(n)!==false){if(e&&r.className==="edui-wordpastepop"){if(/scroll/ig.test(e.type)){r.showPasteAnchor();return}r.editor.fireEvent("clearWordPastePopAnchor");r.editor.fireEvent("clearWordPastePopRangeNode")}if(e&&/mousedown/.test(e.type)){var l=$(e.target).parents("#js_rb_setting_wrp");var c=$(e.target).find("#js_rb_setting_wrp");if(l&&(l.length>0||c.length>0)){return}}r.hide()}}}if(o.length){r.editor.fireEvent("afterhidepop")}}u.postHide=d;var s=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];u.prototype={contentClass:"edui-popup-content",SHADOW_RADIUS:5,content:null,_hidden:false,autoRender:true,canSideLeft:true,canSideUp:true,ANCHOR_CLASSES:s,opts:{},initPopup:function e(){this.initUIBase();o.push(this)},getHtmlTpl:function e(){return'<div id="##" class="edui-popup %%"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: transparent;" frameborder="0" width="100%" height="100%" src="javascript:"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="'+this.contentClass+'">'+this.getContentHtmlTpl()+"  </div> </div></div>"},getContentHtmlTpl:function e(){if(this.content){if(typeof this.content==="string"){return this.content}return this.content.renderHtml()}return""},_UIBase_postRender:m.prototype.postRender,postRender:function e(){if(this.content instanceof m){this.content.postRender()}if(this.captureWheel&&!this.captured){this.captured=true;var n=(document.documentElement.clientHeight||document.body.clientHeight)-80,t=this.getDom().offsetHeight,i=this.combox.getDom().getBoundingClientRect().top,r=this.getDom("content"),l=this;while(i+t>n){t-=30}if(window.XMLHttpRequest){B.on(r,"onmousewheel"in document.body?"mousewheel":"DOMMouseScroll",function(c){if(c.preventDefault){c.preventDefault()}else{c.returnValue=false}if(c.wheelDelta){r.scrollTop-=c.wheelDelta/120*60}else{r.scrollTop-=c.detail/-3*60}})}else{B.on(this.getDom(),"mousewheel",function(c){c.returnValue=false;l.getDom("content").scrollTop-=c.wheelDelta/120*60})}}this.fireEvent("postRenderAfter");this.hide(true);this._UIBase_postRender()},_doAutoRender:function e(){if(!this.getDom()&&this.autoRender){this.render()}},mesureSize:function e(){var n=this.getDom("content");return E.getClientRect(n)},fitSize:function e(){if(this.captureWheel&&this.sized){return this.__size}this.sized=true;var n=this.getDom("body");n.style.width="";n.style.height="";var t=this.mesureSize();if(this.captureWheel){n.style.width=-(-20-t.width)+"px"}else{n.style.width=t.width+"px"}n.style.height=t.height+"px";this.__size=t;this.captureWheel&&(this.getDom("content").style.overflow="auto");return t},showAnchor:function e(n,t){this.showAnchorRect(E.getClientRect(n),t)},showAnchorRect:function e(n,t,i){this._doAutoRender();var r=E.getViewportRect();this._show();var l=this.fitSize();var c,h,b,v;if(t){c=this.canSideLeft&&n.right+l.width>r.right&&n.left>l.width;h=this.canSideUp&&n.top+l.height>r.bottom&&n.bottom>l.height;b=c?n.left-l.width:n.right;v=h?n.bottom-l.height:n.top}else if(this.opts.rightBottom){var S=window.getInnerWidth&&window.getInnerWidth()||window.innerWidth||document.documentElement.clientWidth||0;var p=n.left;var C=10;if(S&&p+l.width+C>=S){p=S-C-l.width}h=this.canSideUp&&n.top+l.height>r.bottom&&n.bottom>l.height;b=p;v=h?n.top-l.height:n.bottom}else{c=this.canSideLeft&&n.right+l.width>r.right&&n.left>l.width;h=this.canSideUp&&n.top+l.height>r.bottom&&n.bottom>l.height;b=c?n.right-l.width:n.left;v=h?n.top-l.height:n.bottom}var A=this.getDom();E.setViewportOffset(A,{left:b,top:v});B.removeClasses(A,this.ANCHOR_CLASSES);A.className+=" "+this.ANCHOR_CLASSES[(h?1:0)*2+(c?1:0)];if(this.editor){A.style.zIndex=this.editor.container.style.zIndex*1+10;fe.editor.ui.uiUtils.getFixedLayer().style.zIndex=A.style.zIndex-1;if(this.opts.stickerPopup){A.style.zIndex=this.editor.container.style.zIndex*1+5e3;fe.editor.ui.uiUtils.getFixedLayer().style.zIndex=A.style.zIndex-1}}},showAt:function e(n){var t=n.left;var i=n.top;var r={left:t,top:i,right:t,bottom:i,height:0,width:0};this.showAnchorRect(r,false,true)},_show:function e(){if(this._hidden){var n=this.getDom();n.style.display="";this._hidden=false;this.fireEvent("show")}},isHidden:function e(){return this._hidden},show:function e(){this._doAutoRender();this._show()},hide:function e(n){if(!n&&this.opts&&this.opts.stickerPopup){this.getDom()&&this.getDom().remove();document.dispatchEvent(new Event("stickerExposeLeave"));return}if(!this._hidden&&this.getDom()){this.getDom().style.display="none";this._hidden=true;if(!n){this.fireEvent("hide")}}},queryAutoHide:function e(n){return!n||!E.contains(this.getDom(),n)}};f.inherits(u,m);B.on(document,"mousedown",function(e){var n=e.target||e.srcElement;d(e,n,"mousedown")});B.on(window,"scroll",function(e,n){d(e,n,"scroll")});B.on(window,"resize",function(e,n){d(e,n,"resize")})})();(function(){var f=fe.editor.utils,E=fe.editor.ui.UIBase,B=8,m='<span onclick="return false;" title="\u6E05\u9664\u989C\u8272" class="ue_colorpicker_nocolor ue_colorpicker_square"></span>',u=fe.editor.ui.ColorPicker=function(s){var e=this;this.initOptions(s);this.noColorText=this.noColorText||this.editor.getLang("clearColor");this.initUIBase();var n=this.storekey="recentlycolor_"+(s.storekey||"");Y.get({key:n,success:function t(i){if(i!==null){var r=i.recentlyColor;e.recentlyColor=r?r.slice(0,B):["#000"]}else{e.recentlyColor=["#000"]}},error:function t(i){e.recentlyColor=["#000"]}})};u.prototype={getHtmlTpl:function s(){return d(this.noColorText,this.editor,this)},_initColorPicker:function s(){var e=this;var n=this.getDom("colorpicker");var t=this.getDom("colorinput_preview");var i=e.getDom("colorinput");$(n).addClass("cp cp-default");var r=ee(n,function(l){if(l){l=l.substr(1);i.value=l;var c=e._getColor();var h=!!c?c:"#ffffff";t.style.backgroundColor=h;t.setAttribute("title",h);t.setAttribute("data-color",h)}})},_onTableClick:function s(e){var n=e.target||e.srcElement;var t=n.getAttribute("data-color");if(t){this._saveColor(t);var i=this.getDom("colorinput_preview");var r=this.getDom("colorinput");i.style.backgroundColor=t;i.setAttribute("title",t);i.setAttribute("data-color",t);r.value=(t||"").substr(1);var l=n.getAttribute("data-type")||"";this.fireEvent("pickcolor",t,{type:l})}else{this._onPickNoColor()}},_saveColor:function s(e){var n=this.recentlyColor||["#000"];var t=[];for(var i=0,r=n.length;i<r;++i){var l=n[i];if(l!=e){t.push(l)}}t.unshift(e);n=t.slice(0,B);this.recentlyColor=n;Y.set({key:this.storekey,value:{recentlyColor:n}});var c=m;for(var i=0,r=n.length;i<r;i++){var l=n[i].substr(1);c+='<span onclick="return false;" title="#'+l+'" data-type="recently" data-color="#'+l+'" class="ue_colorpicker_square" style="background-color:#'+l+'"></span>'}this.getDom("recently_color").innerHTML=c},_onTableOver:function s(e){var n=e.target||e.srcElement;var t=n.getAttribute("data-color");if(t){this.getDom("preview").style.backgroundColor=t}},_getColor:function s(){var e=this.getDom("colorinput");var n=e.value||"";n=n.toLowerCase();var t=n.split("");var i=t.length;if(i!=3&&i!=6){return false}for(var r=0;r<i;++r){var l=t[r];if(l>="0"&&l<="9"){continue}if(l>="a"&&l<="f"){continue}return false}return"#"+n},_onBtnClick:function s(e){var n=this._getColor();if(!!n){this._saveColor(n);this.fireEvent("pickcolor",n,{type:"okBtn"})}else{}if(e.stopPropagation){e.stopPropagation();e.preventDefault()}else{e.cancelBubble=true}return false},_onInputKeyup:function s(e){var n=this.getDom("colorinput_preview");var t=this._getColor();var i=!!t?t:"#ffffff";var r=e.keyCode||e.which;n.style.backgroundColor=i;n.setAttribute("title",i);n.setAttribute("data-color",i);if(!!t&&r==13){this._saveColor(t);this.fireEvent("pickcolor",t,{type:"input"})}},_onInputClick:function s(e){var n=this;if(e.stopPropagation){e.stopPropagation();e.preventDefault()}else{e.cancelBubble=true}},_onTableOut:function s(){this.getDom("preview").style.backgroundColor=""},_onPickNoColor:function s(){this.fireEvent("picknocolor")},_onBasicColorClick:function s(e){var n=this.getDom("basiccolor");var t=this.getDom("colorpicker");n.style.display="block";t.style.display="none";var i=this.getDom("basiccolor_tab");var r=this.getDom("colorpicker_tab");$(i).addClass("selected");$(r).removeClass("selected");if(e.stopPropagation){e.stopPropagation();e.preventDefault()}else{e.cancelBubble=true}return false},_onColorPickerClick:function s(e){var n=this.getDom("basiccolor");var t=this.getDom("colorpicker");n.style.display="none";t.style.display="block";var i=this.getDom("basiccolor_tab");var r=this.getDom("colorpicker_tab");$(i).removeClass("selected");$(r).addClass("selected");if(!this.__hasInitColorPicker){this.__hasInitColorPicker=true;this._initColorPicker()}if(e.stopPropagation){e.stopPropagation();e.preventDefault()}else{e.cancelBubble=true}return false}};f.inherits(u,E);var o="ffffff,ffd7d5,ffdaa9,fffed5,d4fa00,73fcd6,a5c8ff,ffacd5,ff7faa,d6d6d6,ffacaa,ffb995,fffb00,73fa79,00fcff,78acfe,d84fa9,ff4f79,b2b2b2,d7aba9,ff6827,ffda51,00d100,00d5ff,0080ff,ac39ff,ff2941,888888,7a4442,ff4c00,ffa900,3da742,3daad6,0052ff,7a4fd6,d92142,000000,7b0c00,ff4c41,d6a841,407600,007aaa,021eaa,797baa,ab1942".split(",");function d(s,e,n){var t='<div unselectable="on" id="##_preview" class="edui-colorpicker-preview" style="display:none;"></div><div class="ue_colorpicker_box" onmouseover="$$._onTableOver(event, this);" onmouseout="$$._onTableOut(event, this);" onclick="return $$._onTableClick(event, this);">';t+='<div class="ue_colorpicker_group" style="overflow:hidden;"><div class="ue_colorpicker_hd">'+e.getLang("recentlyColor")+'</div><div class="ue_colorpicker_bd" id="##_recently_color" >'+m;var i=n.recentlyColor;if(i.length>0){for(var r=0,l=i.length;r<l;r++){var c=i[r].substr(1);t+='<span onclick="return false;" title="#'+c+'" data-type="recently" data-color="#'+c+'" class="ue_colorpicker_square" style="background-color:#'+c+'"></span>'}}t+="</div></div>";var h='<span id="##_colorpicker_tab" class="ue_colorpicker_hd_tab" onclick="return $$._onColorPickerClick(event, this);">\u66F4\u591A\u989C\u8272</span>';if(!document.getElementsByClassName){h=""}t+='<div class="ue_colorpicker_group" style="overflow:hidden;"><div class="ue_colorpicker_hd"><span id="##_basiccolor_tab" class="ue_colorpicker_hd_tab selected" onclick="return $$._onBasicColorClick(event, this);">'+e.getLang("basicColor")+"</span>"+h+'</div><div class="ue_colorpicker_bd" id="##_basiccolor">';for(var r=0,l=o.length;r<l;r++){var c=o[r];t+='<span onclick="return false;" title="#'+c+'" data-type="basic" data-color="#'+c+'" class="ue_colorpicker_square" style="background-color:#'+c+'"></span>'}t+='</div><div class="ue_colorpicker_bd" id="##_colorpicker" style="display:none;"></div></div><div class="ue_colorpicker_toolbar"><span onclick="return false;" title="#f00" data-type="preview" data-color="#f00" class="ue_colorpicker_square" id="##_colorinput_preview" style="background-color:#f00"></span><a href="javascript:void(0);" onclick="return $$._onBtnClick(event, this);" class="btn_ue_colorpicker">\u786E\u8BA4</a><span class="ue_colorpicker_input_box"><span class="ue_colorpicker_input_append">#</span><span class="ue_colorpicker_input_inner"><input id="##_colorinput" value="ff0000" type="text" onkeyup="return $$._onInputKeyup(event, this);" onclick="return $$._onInputClick(event, this);"></span></span></div></div>';return t}})();(function(){var f=fe.editor.utils,E=fe.editor.ui.uiUtils,B=fe.editor.ui.UIBase;var m=fe.editor.ui.TablePicker=function(u){this.initOptions(u);this.initTablePicker()};m.prototype={defaultNumRows:10,defaultNumCols:10,maxNumRows:20,maxNumCols:20,numRows:10,numCols:10,lengthOfCellSide:22,initTablePicker:function u(){this.initUIBase()},getHtmlTpl:function u(){var o=this;return'<div id="##" class="edui-tablepicker %%"><div class="edui-tablepicker-body"><div class="edui-infoarea"><span id="##_label" class="edui-label"></span></div><div class="edui-pickarea" onmousemove="$$._onMouseMove(event, this);" onmouseover="$$._onMouseOver(event, this);" onmouseout="$$._onMouseOut(event, this);" onclick="$$._onClick(event, this);"><div id="##_overlay" class="edui-overlay"></div></div></div></div>'},_UIBase_render:B.prototype.render,render:function u(o){this._UIBase_render(o);this.getDom("label").innerHTML="0"+this.editor.getLang("t_row")+" x 0"+this.editor.getLang("t_col")},_track:function u(o,d){var s=this.getDom("overlay").style;var e=this.lengthOfCellSide;s.width=o*e+"px";s.height=d*e+"px";var n=this.getDom("label");n.innerHTML=o+this.editor.getLang("t_col")+" x "+d+this.editor.getLang("t_row");this.numCols=o;this.numRows=d},_onMouseOver:function u(o,d){var s=o.relatedTarget||o.fromElement;if(!E.contains(d,s)&&d!==s){this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row");this.getDom("overlay").style.visibility=""}},_onMouseOut:function u(o,d){var s=o.relatedTarget||o.toElement;if(!E.contains(d,s)&&d!==s){this.getDom("label").innerHTML="0"+this.editor.getLang("t_col")+" x 0"+this.editor.getLang("t_row");this.getDom("overlay").style.visibility="hidden"}},_onMouseMove:function u(o,d){var s=this.getDom("overlay").style;var e=E.getEventOffset(o);var n=this.lengthOfCellSide;var t=Math.ceil(e.left/n);var i=Math.ceil(e.top/n);this._track(t,i)},_onClick:function u(){this.fireEvent("picktable",this.numCols,this.numRows)}};f.inherits(m,B)})();(function(){var f=fe.editor.browser,E=fe.editor.dom.domUtils,B=fe.editor.ui.uiUtils;var m='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(f.ie?' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"':' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');fe.editor.ui.Stateful={alwalysHoverable:false,target:null,Stateful_init:function u(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl;this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function u(){var o=this._Stateful_dGetHtmlTpl();return o.replace(/stateful/g,function(){return m})},Stateful_onMouseEnter:function u(o,d){this.target=d;if(!this.isDisabled()||this.alwalysHoverable){this.addState("hover");this.fireEvent("over")}},Stateful_onMouseLeave:function u(o,d){if(!this.isDisabled()||this.alwalysHoverable){this.removeState("hover");this.removeState("active");this.fireEvent("out")}},Stateful_onMouseOver:function u(o,d){var s=o.relatedTarget;if(!B.contains(d,s)&&d!==s){this.Stateful_onMouseEnter(o,d)}},Stateful_onMouseOut:function u(o,d){var s=o.relatedTarget;if(!B.contains(d,s)&&d!==s){this.Stateful_onMouseLeave(o,d)}},Stateful_onMouseDown:function u(o,d){if(!this.isDisabled()){this.addState("active")}},Stateful_onMouseUp:function u(o,d){if(!this.isDisabled()){this.removeState("active")}},Stateful_postRender:function u(){if(this.disabled&&!this.hasState("disabled")){this.addState("disabled")}},hasState:function u(o){return E.hasClass(this.getStateDom(),"edui-state-"+o)},addState:function u(o){var d=this.getStateDom();if(!this.hasState(o)&&d){d.className+=" edui-state-"+o}},removeState:function u(o){if(this.hasState(o)){E.removeClasses(this.getStateDom(),["edui-state-"+o])}},getStateDom:function u(){return this.getDom("state")},isChecked:function u(){return this.hasState("checked")},setChecked:function u(o){if(!this.isDisabled()&&o){this.addState("checked")}else{this.removeState("checked")}},isDisabled:function u(){return this.hasState("disabled")},setDisabled:function u(o){if(o){this.removeState("hover");this.removeState("checked");this.removeState("active");this.addState("disabled")}else{this.removeState("disabled")}}}})();(function(){var f=fe.editor.utils,E=fe.editor.ui.UIBase,B=fe.editor.ui.Stateful,m=fe.editor.ui.Button=function(u){this.initOptions(u);this.initButton()};m.prototype={uiName:"button",label:"",title:"",showIcon:true,showText:true,initButton:function u(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function u(){return'<div id="##" class="edui-box %%"'+(this.hideWhenInit?' style="display:none !important;"':"")+'><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'data-tooltip="'+this.title+'"':"")+' class="%%-body js_tooltip" onmousedown="return false;" onclick="return $$._onClick();" ondblclick="return $$._onDblclick();">'+(this.showIcon?'<div class="edui-box edui-icon"></div>':"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"</div>":"")+"</div></div></div></div>"},postRender:function u(){this.Stateful_postRender();this.setDisabled(this.disabled)},_onClick:function u(){if(!this.isDisabled()){this.fireEvent("click")}},_onDblclick:function u(){if(!this.isDisabled()){this.fireEvent("dblclick")}},setToolTipsWording:function u(o){var d=this.getDom("body");$(d).data("tooltip",o)}};f.inherits(m,E);f.extend(m.prototype,B)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.uiUtils,B=fe.editor.dom.domUtils,m=fe.editor.ui.UIBase,u=fe.editor.ui.Stateful,o=fe.editor.ui.SplitButton=function(d){this.initOptions(d);this.initSplitButton()};o.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function d(){this.initUIBase();this.Stateful_init();var s=this;if(this.popup!=null){var e=this.popup;this.popup=null;this.setPopup(e)}},_UIBase_postRender:m.prototype.postRender,postRender:function d(){this.Stateful_postRender();this._UIBase_postRender()},setPopup:function d(s){if(this.popup===s)return;if(this.popup!=null){this.popup.dispose()}s.addListener("show",f.bind(this._onPopupShow,this));s.addListener("hide",f.bind(this._onPopupHide,this));s.addListener("postrender",f.bind(function(){s.getDom("body").appendChild(E.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(E.getClientRect(this.getDom()).width+20)+'px"></div>'));s.getDom().className+=" "+this.className},this));this.popup=s},_onPopupShow:function d(){this.addState("opened")},_onPopupHide:function d(){this.removeState("opened")},getHtmlTpl:function d(){var s='<div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);"><div class="edui-box edui-icon"></div></div>';if(!!this.useInput){s='<div id="##_button_body" class="edui-box edui-button-body"><input id="##_wx_input" class="edui-box edui-wx-input " type="text" onkeydown="$$._onInputKeydown(event, this);" onclick="$$._onInputClick(event, this);" onblur="$$._onInputBlur(event, this);"></div>'}if(this.useArrow!==false){s+='<div class="edui-box edui-splitborder"></div><div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div>'}return'<div id="##" class="edui-box %%"><div '+(this.title?'data-tooltip="'+this.title+'"':"")+' id="##_state" stateful class="js_tooltip"><div class="%%-body">'+s+"</div></div></div>"},showPopup:function d(){var s=E.getClientRect(this.getDom());s.top-=this.popup.SHADOW_RADIUS;s.height+=this.popup.SHADOW_RADIUS;this.popup.showAnchorRect(s)},_onArrowClick:function d(s,e){if(!this.isDisabled()){this.showPopup()}},_onInputClick:function d(s){if(!this.isDisabled()){this.fireEvent("inputclick")}},_onInputBlur:function d(s){if(!this.isDisabled()){this.fireEvent("inputblur")}if(s.stopPropagation){s.stopPropagation();s.preventDefault()}else{s.cancelBubble=true}},_onInputKeydown:function d(s,e){if(!this.isDisabled()){this.fireEvent("inputkeydown",s)}},_onButtonClick:function d(){if(!this.isDisabled()){this.fireEvent("buttonclick")}}};f.inherits(o,m);f.extend(o.prototype,u,true)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.uiUtils,B=fe.editor.ui.ColorPicker,m=fe.editor.ui.Popup,u=fe.editor.ui.SplitButton,o=fe.editor.ui.ColorButton=function(d){this.initOptions(d);this.initColorButton()};o.prototype={initColorButton:function d(){var s=this;this.popup=new m({content:new B({noColorText:s.editor.getLang("clearColor"),storekey:s.storekey,editor:s.editor,onpickcolor:function e(n,t,i){s._onPickColor(t,i)},onpicknocolor:function e(n,t){s._onPickNoColor(t)}}),editor:s.editor});this.initSplitButton()},_SplitButton_postRender:u.prototype.postRender,postRender:function d(){this._SplitButton_postRender();this.getDom("button_body").appendChild(E.createElementByHtml('<div id="'+this.id+'_colorlump" class="edui-colorlump"></div>'));this.getDom().className+=" edui-colorbutton"},setColor:function d(s){this.getDom("colorlump").style.backgroundColor=s;this.color=s},_onPickColor:function d(s,e){if(this.fireEvent("pickcolor",s,e)!==false){this.setColor(s);this.popup.hide()}},_onPickNoColor:function d(s){if(this.fireEvent("picknocolor")!==false){this.popup.hide()}}};f.inherits(o,u)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.Popup,B=fe.editor.ui.TablePicker,m=fe.editor.ui.SplitButton,u=fe.editor.ui.TableButton=function(o){this.initOptions(o);this.initTableButton()};u.prototype={initTableButton:function o(){var d=this;this.popup=new E({content:new B({editor:d.editor,onpicktable:function s(e,n,t){d._onPickTable(n,t)}}),"editor":d.editor});this.initSplitButton()},_onPickTable:function o(d,s){if(this.fireEvent("picktable",d,s)!==false){this.popup.hide()}}};f.inherits(u,m)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.UIBase;var B=fe.editor.ui.AutoTypeSetPicker=function(m){this.initOptions(m);this.initAutoTypeSetPicker()};B.prototype={initAutoTypeSetPicker:function m(){this.initUIBase()},getHtmlTpl:function m(){var u=this.editor,o=u.options.autotypeset,d=u.getLang("autoTypeSet");var s="textAlignValue"+u.uid,e="imageBlockLineValue"+u.uid;return'<div id="##" class="edui-autotypesetpicker %%"><div class="edui-autotypesetpicker-body"><table ><tr><td nowrap colspan="2"><input type="checkbox" name="mergeEmptyline" '+(o.mergeEmptyline?"checked":"")+">"+d.mergeLine+'</td><td colspan="2"><input type="checkbox" name="removeEmptyline" '+(o.removeEmptyline?"checked":"")+">"+d.delLine+'</td></tr><tr><td nowrap colspan="2"><input type="checkbox" name="removeClass" '+(o.removeClass?"checked":"")+">"+d.removeFormat+'</td><td colspan="2"><input type="checkbox" name="indent" '+(o.indent?"checked":"")+">"+d.indent+'</td></tr><tr><td nowrap colspan="2"><input type="checkbox" name="textAlign" '+(o.textAlign?"checked":"")+">"+d.alignment+'</td><td colspan="2" id="'+s+'"><input type="radio" name="'+s+'" value="left" '+(o.textAlign&&o.textAlign=="left"?"checked":"")+">"+u.getLang("justifyleft")+'<input type="radio" name="'+s+'" value="center" '+(o.textAlign&&o.textAlign=="center"?"checked":"")+">"+u.getLang("justifycenter")+'<input type="radio" name="'+s+'" value="right" '+(o.textAlign&&o.textAlign=="right"?"checked":"")+">"+u.getLang("justifyright")+' </tr><tr><td nowrap colspan="2"><input type="checkbox" name="imageBlockLine" '+(o.imageBlockLine?"checked":"")+">"+d.imageFloat+'</td><td nowrap colspan="2" id="'+e+'"><input type="radio" name="'+e+'" value="none" '+(o.imageBlockLine&&o.imageBlockLine=="none"?"checked":"")+">"+u.getLang("default")+'<input type="radio" name="'+e+'" value="left" '+(o.imageBlockLine&&o.imageBlockLine=="left"?"checked":"")+">"+u.getLang("justifyleft")+'<input type="radio" name="'+e+'" value="center" '+(o.imageBlockLine&&o.imageBlockLine=="center"?"checked":"")+">"+u.getLang("justifycenter")+'<input type="radio" name="'+e+'" value="right" '+(o.imageBlockLine&&o.imageBlockLine=="right"?"checked":"")+">"+u.getLang("justifyright")+'</tr><tr><td nowrap colspan="2"><input type="checkbox" name="clearFontSize" '+(o.clearFontSize?"checked":"")+">"+d.removeFontsize+'</td><td colspan="2"><input type="checkbox" name="clearFontFamily" '+(o.clearFontFamily?"checked":"")+">"+d.removeFontFamily+'</td></tr><tr><td nowrap colspan="4"><input type="checkbox" name="removeEmptyNode" '+(o.removeEmptyNode?"checked":"")+">"+d.removeHtml+'</td></tr><tr><td nowrap colspan="4"><input type="checkbox" name="pasteFilter" '+(o.pasteFilter?"checked":"")+">"+d.pasteFilter+'</td></tr><tr><td nowrap colspan="4" align="right"><button >'+d.run+"</button></td></tr></table></div></div>"},_UIBase_render:E.prototype.render};f.inherits(B,E)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.Popup,B=fe.editor.ui.AutoTypeSetPicker,m=fe.editor.ui.SplitButton,u=fe.editor.ui.AutoTypeSetButton=function(d){this.initOptions(d);this.initAutoTypeSetButton()};function o(d){var s=d.editor.options.autotypeset,e=d.getDom(),n=d.editor.uid,t=null,i=null,r=a.getElementsByTagName(e,"input");for(var l=r.length-1,c;c=r[l--];){t=c.getAttribute("type");if(t=="checkbox"){i=c.getAttribute("name");s[i]&&delete s[i];if(c.checked){var h=document.getElementById(i+"Value"+n);if(h){if(/input/ig.test(h.tagName)){s[i]=h.value}else{var b=h.getElementsByTagName("input");for(var v=b.length-1,S;S=b[v--];){if(S.checked){s[i]=S.value;break}}}}else{s[i]=true}}}}var p=a.getElementsByTagName(e,"select");for(var l=0,C;C=p[l++];){var A=C.getAttribute("name");s[A]=s[A]?C.value:""}d.editor.options.autotypeset=s}u.prototype={initAutoTypeSetButton:function d(){var s=this;this.popup=new E({content:new B({editor:s.editor}),"editor":s.editor,hide:function n(){if(!this._hidden&&this.getDom()){o(this);this.getDom().style.display="none";this._hidden=true;this.fireEvent("hide")}}});var e=0;this.popup.addListener("postRenderAfter",function(){var n=this;if(e)return;var t=this.getDom(),i=t.getElementsByTagName("button")[0];i.onclick=function(){o(n);s.editor.execCommand("autotypeset");n.hide()};e=1});this.initSplitButton()}};f.inherits(u,m)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.Popup,B=fe.editor.ui.Stateful,m=fe.editor.ui.UIBase;var u=fe.editor.ui.CellAlignPicker=function(o){this.initOptions(o);this.initSelected();this.initCellAlignPicker()};u.prototype={initSelected:function o(){var d={valign:{top:0,middle:1,bottom:2},align:{left:0,center:1,right:2},count:3},s=-1;if(this.selected){this.selectedIndex=d.valign[this.selected.valign]*d.count+d.align[this.selected.align]}},initCellAlignPicker:function o(){this.initUIBase();this.Stateful_init()},getHtmlTpl:function o(){var d=["left","center","right"],s=9,e=null,n=-1,t=[];for(var i=0;i<s;i++){e=this.selectedIndex===i?' class="edui-cellalign-selected" ':"";n=i%3;n===0&&t.push("<tr>");t.push('<td index="'+i+'" '+e+' stateful><div class="edui-icon edui-'+d[n]+'"></div></td>');n===2&&t.push("</tr>")}return'<div id="##" class="edui-cellalignpicker %%"><div class="edui-cellalignpicker-body"><table onclick="$$._onClick(event);">'+t.join("")+"</table></div></div>"},getStateDom:function o(){return this.target},_onClick:function o(d){var s=d.target||d.srcElement;if(/icon/.test(s.className)){this.items[s.parentNode.getAttribute("index")].onclick();E.postHide(d)}},_UIBase_render:m.prototype.render};f.inherits(u,m);f.extend(u.prototype,B,true)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.Stateful,B=fe.editor.ui.uiUtils,m=fe.editor.ui.UIBase;var u=fe.editor.ui.PastePicker=function(o){this.initOptions(o);this.initPastePicker()};u.prototype={initPastePicker:function o(){this.initUIBase();this.Stateful_init();this.pastePopup=null;this.pasteContentNode=null},getHtmlTpl:function o(){return'<div class="edui-pasteicon" onclick="$$._onClick(this)"></div><div class="edui-pastecontainer"><div class="edui-button"><div onclick="$$.format(1)" stateful><div class="js_richtxticon">\u4FDD\u7559\u6E90\u683C\u5F0F</div></div><div onclick="$$.format(2)" stateful><div class="js_tagicon">\u5339\u914D\u76EE\u6807\u683C\u5F0F</div></div><div onclick="$$.format(3)" stateful><div class="js_plaintxticon">\u4EC5\u4FDD\u7559\u6587\u672C</div></div></div></div></div>'},getStateDom:function o(){return this.target},format:function o(d){this.editor.ui._isTransfer=true;this.editor.fireEvent("pasteTransfer",d);this.editor.fireEvent("reportAddNum",291858,d+9,1);if(/visible/ig.test(a.getComputedStyle(this.pasteContentNode,"visibility"))){this.pasteContentNode.style.visibility="hidden"}this.pastePopup.style.backgroundColor="#ffffff";fe.editor.ui.Popup.pastePop.lastCheckedOpt=d;var s=this.pasteContentNode.childNodes[0];s.childNodes.forEach(function(e,n){a.removeClasses(e,"edui-status-checked")})},_onClick:function o(d){var s=a.getNextDomNode(d),e=B.getViewportRect().height,n=B.getClientRect(s);this.pastePopup=document.getElementsByClassName("edui-wordpastepop")[0];this.pasteContentNode=document.getElementsByClassName("edui-pastecontainer")[0];if(n.top+n.height>e){s.style.top=-n.height-d.offsetHeight+"px"}else{s.style.top=""}if(/hidden/ig.test(a.getComputedStyle(s,"visibility"))){s.style.visibility="visible";this.pastePopup.style.backgroundColor="#E3E4E5";var t=this.pasteContentNode.childNodes[0];t.childNodes.forEach(function(i,r){a.removeClasses(i,"edui-status-checked")});if(fe.editor.ui.Popup.pastePop.lastCheckedOpt!==-1){a.addClass(t.childNodes[fe.editor.ui.Popup.pastePop.lastCheckedOpt-1],"edui-status-checked")}}else{s.style.visibility="hidden";this.pastePopup.style.backgroundColor="#ffffff"}},_UIBase_render:m.prototype.render};f.inherits(u,m);f.extend(u.prototype,E,true)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.uiUtils,B=fe.editor.ui.UIBase,m=fe.editor.ui.Toolbar=function(u){this.initOptions(u);this.initToolbar()};m.prototype={items:null,initToolbar:function u(){this.items=this.items||[];this.initUIBase()},add:function u(o){this.items.push(o)},getHtmlTpl:function u(){var o=[];for(var d=0;d<this.items.length;d++){o[d]=this.items[d].renderHtml()}return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+o.join("")+"</div>"},postRender:function u(){var o=this.getDom();for(var d=0;d<this.items.length;d++){this.items[d].postRender()}E.makeUnselectable(o)},_onMouseDown:function u(){return false}};f.inherits(m,B)})();(function(){var f=fe.editor.utils,E=fe.editor.dom.domUtils,B=fe.editor.ui.uiUtils,m=fe.editor.ui.UIBase,u=fe.editor.ui.Popup,o=fe.editor.ui.Stateful,d=fe.editor.ui.CellAlignPicker,s=fe.editor.ui.Menu=function(t){this.initOptions(t);this.initMenu()};var e={renderHtml:function t(){return'<div style="padding-left: 0px;" class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner" style="margin-left: 0px;"></div></div>'},postRender:function t(){},queryAutoHide:function t(){return true}};s.prototype={items:null,uiName:"menu",initMenu:function t(){this.items=this.items||[];this.initPopup();this.initItems()},initItems:function t(){for(var i=0;i<this.items.length;i++){var r=this.items[i];if(r=="-"){this.items[i]=this.getSeparator()}else if(!(r instanceof n)){r.editor=this.editor;r.theme=this.editor.options.theme;this.items[i]=this.createItem(r)}}},getSeparator:function t(){return e},createItem:function t(i){i.menu=this;return new n(i)},_Popup_getContentHtmlTpl:u.prototype.getContentHtmlTpl,getContentHtmlTpl:function t(){if(this.items.length==0){return this._Popup_getContentHtmlTpl()}var i=[];for(var r=0;r<this.items.length;r++){var l=this.items[r];i[r]=l.renderHtml()}return'<div class="%%-body">'+i.join("")+"</div>"},_Popup_postRender:u.prototype.postRender,postRender:function t(){var i=this;for(var r=0;r<this.items.length;r++){var l=this.items[r];l.ownerMenu=this;l.postRender()}E.on(this.getDom(),"mouseover",function(c){c=c||event;var h=c.relatedTarget||c.fromElement;var b=i.getDom();if(!B.contains(b,h)&&b!==h){i.fireEvent("over")}});this._Popup_postRender()},queryAutoHide:function t(i){if(i){if(B.contains(this.getDom(),i)){return false}for(var r=0;r<this.items.length;r++){var l=this.items[r];if(l.queryAutoHide(i)===false){return false}}}},clearItems:function t(){for(var i=0;i<this.items.length;i++){var r=this.items[i];clearTimeout(r._showingTimer);clearTimeout(r._closingTimer);if(r.subMenu){r.subMenu.destroy()}}this.items=[]},destroy:function t(){if(this.getDom()){E.remove(this.getDom())}this.clearItems()},dispose:function t(){this.destroy()}};f.inherits(s,u);var n=fe.editor.ui.MenuItem=function(t){this.initOptions(t);this.initUIBase();this.Stateful_init();if(this.subMenu&&!(this.subMenu instanceof s)){if(t.className&&t.className.indexOf("aligntd")!=-1){var i=this;this.subMenu.selected=this.editor.queryCommandValue("cellalignment");this.subMenu=new u({content:new d(this.subMenu),parentMenu:i,editor:i.editor,destroy:function r(){if(this.getDom()){E.remove(this.getDom())}}});this.subMenu.addListener("postRenderAfter",function(){E.on(this.getDom(),"mouseover",function(){i.addState("opened")})})}else{this.subMenu=new s(this.subMenu)}}};n.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:true,getHtmlTpl:function t(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"</div></div>"},postRender:function t(){var i=this;this.addListener("over",function(){i.ownerMenu.fireEvent("submenuover",i);if(i.subMenu){i.delayShowSubMenu()}});if(this.subMenu){this.getDom().className+=" edui-hassubmenu";this.subMenu.render();this.addListener("out",function(){i.delayHideSubMenu()});this.subMenu.addListener("over",function(){clearTimeout(i._closingTimer);i._closingTimer=null;i.addState("opened")});this.ownerMenu.addListener("hide",function(){i.hideSubMenu()});this.ownerMenu.addListener("submenuover",function(r,l){if(l!==i){i.delayHideSubMenu()}});this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide;this.subMenu.queryAutoHide=function(r){if(r&&B.contains(i.getDom(),r)){return false}return this._bakQueryAutoHide(r)}}this.getDom().style.tabIndex="-1";B.makeUnselectable(this.getDom());this.Stateful_postRender()},delayShowSubMenu:function t(){var i=this;if(!i.isDisabled()){i.addState("opened");clearTimeout(i._showingTimer);clearTimeout(i._closingTimer);i._closingTimer=null;i._showingTimer=setTimeout(function(){i.showSubMenu()},250)}},delayHideSubMenu:function t(){var i=this;if(!i.isDisabled()){i.removeState("opened");clearTimeout(i._showingTimer);if(!i._closingTimer){i._closingTimer=setTimeout(function(){if(!i.hasState("opened")){i.hideSubMenu()}i._closingTimer=null},400)}}},renderLabelHtml:function t(){return'<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">'+(this.label||"")+"</div>"},getStateDom:function t(){return this.getDom()},queryAutoHide:function t(i){if(this.subMenu&&this.hasState("opened")){return this.subMenu.queryAutoHide(i)}},_onClick:function t(i,r){if(this.hasState("disabled"))return;if(this.fireEvent("click",i,r)!==false){if(this.subMenu){this.showSubMenu()}else{if(!this.notHideMenu){u.postHide(i)}}}},showSubMenu:function t(){var i=B.getClientRect(this.getDom());i.right-=5;i.left+=2;i.width-=7;i.top-=4;i.bottom+=4;i.height+=8;this.subMenu.showAnchorRect(i,true,true)},hideSubMenu:function t(){this.subMenu.hide()}};f.inherits(n,m);f.extend(n.prototype,o,true)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.uiUtils,B=fe.editor.ui.Menu,m=fe.editor.ui.SplitButton,u=fe.editor.ui.Combox=function(o){this.initOptions(o);this.initCombox()};u.prototype={uiName:"combox",initCombox:function o(){var d=this;this.items=this.items||[];for(var s=0;s<this.items.length;s++){var e=this.items[s];e.uiName="listitem";e.index=s;e.onclick=function(){d.selectByIndex(this.index)}}this.popup=new B({items:this.items,uiName:"list",editor:this.editor,captureWheel:true,combox:this});this.initSplitButton()},_SplitButton_postRender:m.prototype.postRender,postRender:function o(){this._SplitButton_postRender();this.setLabel(this.label||"");this.setValue(this.initValue||"")},showPopup:function o(){var d=E.getClientRect(this.getDom());d.top+=1;d.bottom-=1;d.height-=2;this.popup.showAnchorRect(d)},getValue:function o(){return this.value},setValue:function o(d){var s=this.indexByValue(d);if(s!=-1){this.selectedIndex=s;this.setLabel(this.items[s].label);this.value=this.items[s].value}else{this.selectedIndex=-1;this.setLabel(this.getLabelForUnknowValue(d));this.value=d}},setLabel:function o(d){if(!!this.useInput){var s=this.getDom("wx_input");if(s){s.value=d}}else{var e=this.getDom("button_body");if(e){e.innerHTML=d}}this.label=d},getLabelForUnknowValue:function o(d){return d},indexByValue:function o(d){for(var s=0;s<this.items.length;s++){if(d==this.items[s].value){return s}}return-1},getItem:function o(d){return this.items[d]},selectByIndex:function o(d){if(d<this.items.length&&this.fireEvent("select",d)!==false){this.selectedIndex=d;this.value=this.items[d].value;this.setLabel(this.items[d].label)}}};f.inherits(u,m)})();(function(){var f=fe.editor.utils,E=fe.editor.dom.domUtils,B=fe.editor.ui.uiUtils,m=fe.editor.ui.Mask,u=fe.editor.ui.UIBase,o=fe.editor.ui.Button,d=fe.editor.ui.Dialog=function(n){this.initOptions(f.extend({autoReset:true,draggable:true,onok:function t(){},oncancel:function t(){},onclose:function t(i,r){return r?this.onok():this.oncancel()},holdScroll:false},n));this.initDialog()};var s;var e;d.prototype={draggable:false,uiName:"dialog",initDialog:function n(){var t=this,i=this.editor.options.theme;this.initUIBase();this.modalMask=s||(s=new m({className:"edui-dialog-modalmask",theme:i}));this.dragMask=e||(e=new m({className:"edui-dialog-dragmask",theme:i}));this.closeButton=new o({className:"edui-dialog-closebutton",title:t.closeDialog,theme:i,onclick:function l(){t.close(false)}});if(this.buttons){for(var r=0;r<this.buttons.length;r++){if(!(this.buttons[r]instanceof o)){this.buttons[r]=new o(this.buttons[r])}}}},fitSize:function n(){var t=this.getDom("body");var i=this.mesureSize();t.style.width=i.width+"px";t.style.height=i.height+"px";return i},safeSetOffset:function n(t){var i=this;var r=i.getDom();var l=B.getViewportRect();var c=B.getClientRect(r);var h=t.left;if(h+c.width>l.right){h=l.right-c.width}var b=t.top;if(b+c.height>l.bottom){b=l.bottom-c.height}r.style.left=Math.max(h,0)+"px";r.style.top=Math.max(b,0)+"px"},showAtCenter:function n(){this.getDom().style.display="";var t=B.getViewportRect();var i=this.fitSize();var r=this.getDom("titlebar").offsetHeight|0;var l=t.width/2-i.width/2;var c=t.height/2-(i.height-r)/2-r;var h=this.getDom();this.safeSetOffset({left:Math.max(l|0,0),top:Math.max(c|0,0)});if(!E.hasClass(h,"edui-state-centered")){h.className+=" edui-state-centered"}this._show()},getContentHtml:function n(){var t="";if(typeof this.content==="string"){t=this.content}else if(this.iframeUrl){t='<span id="'+this.id+'_contmask" class="dialogcontmask"></span><iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"></iframe>'}return t},getHtmlTpl:function n(){var t="";if(this.buttons){var i=[];for(var r=0;r<this.buttons.length;r++){i[r]=this.buttons[r].renderHtml()}t='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+i.join("")+"</div></div>"}return'<div id="##" class="%%"><div class="%%-wrap"><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"</span></div>"+this.closeButton.renderHtml()+'</div><div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"</div>"+t+"</div></div></div>"},postRender:function n(){if(!this.modalMask.getDom()){this.modalMask.render();this.modalMask.hide()}if(!this.dragMask.getDom()){this.dragMask.render();this.dragMask.hide()}var t=this;this.addListener("show",function(){t.modalMask.show(this.getDom().style.zIndex-2)});this.addListener("hide",function(){t.modalMask.hide()});if(this.buttons){for(var i=0;i<this.buttons.length;i++){this.buttons[i].postRender()}}E.on(window,"resize",function(){setTimeout(function(){if(!t.isHidden()){t.safeSetOffset(B.getClientRect(t.getDom()))}})});if(this.holdScroll){if(!t.iframeUrl){E.on(document.getElementById(t.id+"_iframe"),!le.gecko?"mousewheel":"DOMMouseScroll",function(r){E.preventDefault(r)})}else{t.addListener("dialogafterreset",function(){window.setTimeout(function(){var r=document.getElementById(t.id+"_iframe").contentWindow;if(le.ie){var l=window.setInterval(function(){if(r.document&&r.document.body){window.clearInterval(l);l=null;E.on(r.document.body,!le.gecko?"mousewheel":"DOMMouseScroll",function(c){E.preventDefault(c)})}},100)}else{E.on(r,!le.gecko?"mousewheel":"DOMMouseScroll",function(c){E.preventDefault(c)})}},1)})}}this._hide()},mesureSize:function n(){var t=this.getDom("body");var i=B.getClientRect(this.getDom("content")).width;var r=t.style;r.width=i;return B.getClientRect(t)},_onTitlebarMouseDown:function n(t,i){if(this.draggable){var r;var l=B.getViewportRect();var c=this;B.startDrag(t,{ondragstart:function h(){r=B.getClientRect(c.getDom());c.getDom("contmask").style.visibility="visible";c.dragMask.show(c.getDom().style.zIndex-1)},ondragmove:function h(b,v){var S=r.left+b;var p=r.top+v;c.safeSetOffset({left:S,top:p})},ondragstop:function h(){c.getDom("contmask").style.visibility="hidden";E.removeClasses(c.getDom(),["edui-state-centered"]);c.dragMask.hide()}})}},reset:function n(){this.getDom("content").innerHTML=this.getContentHtml();this.fireEvent("dialogafterreset")},_show:function n(){if(this._hidden){this.getDom().style.display="";this.editor.container.style.zIndex&&(this.getDom().style.zIndex=this.editor.container.style.zIndex*1+10);this._hidden=false;this.fireEvent("show");fe.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4}},isHidden:function n(){return this._hidden},_hide:function n(){if(!this._hidden){this.getDom().style.display="none";this.getDom().style.zIndex="";this._hidden=true;this.fireEvent("hide")}},open:function n(){if(this.autoReset){try{this.reset()}catch(t){this.render();this.open()}}this.showAtCenter();if(this.iframeUrl){try{this.getDom("iframe").focus()}catch(t){}}},_onCloseButtonClick:function n(t,i){this.close(false)},close:function n(t){if(this.fireEvent("close",t)!==false){this._hide()}}};f.inherits(d,u)})();(function(){var f=fe.editor.utils,E=fe.editor.ui.Menu,B=fe.editor.ui.SplitButton,m=fe.editor.ui.MenuButton=function(u){this.initOptions(u);this.initMenuButton()};m.prototype={initMenuButton:function u(){var o=this;this.uiName="menubutton";this.popup=new E({items:o.items,className:o.className,editor:o.editor});this.popup.addListener("show",function(){var d=this;for(var s=0;s<d.items.length;s++){if(d.items[s].removeState){d.items[s].removeState("checked");if(d.items[s].value==o._value){d.items[s].addState("checked");this.value=o._value}}}});this.initSplitButton()},setValue:function u(o){this._value=o}};f.inherits(m,B)})();(function(){var f=fe.editor.utils;var E=fe.editor.ui;var B=E.Dialog;E.buttons={};E.Dialog=function(p){var C=new B(p);C.addListener("hide",function(){if(C.editor){var A=C.editor;try{if(le.gecko){var q=A.window.scrollY,K=A.window.scrollX;A.body.focus();A.window.scrollTo(K,q)}else{A.focus()}}catch(V){}}});return C};var m={"edittable":"https://mp.weixin.qq.com/cgi-bin/readtemplate?t=pages/editor/plugin/table/edittable_tmpl","edittd":"https://mp.weixin.qq.com/cgi-bin/readtemplate?t=pages/editor/plugin/table/edittd_tmpl"};var u=["undo","redo","formatmatch","bold","italic","underline","fontborder","indent","strikethrough","pasteplain","selectall","horizontal","removeformat",,"insertparagraphbeforetable","insertlist","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","mergecells","deletetable","more"];var o={"undo":{id:"122325",key:"20"},"redo":{id:"122325",key:"23"},"horizontal":{id:"122325",key:"29"},"removeformat":{id:"122325",key:"31"},"formatmatch":{id:"122325",key:"33"},"bold":{id:"122325",key:"45"},"italic":{id:"122325",key:"47"},"underline":{id:"122325",key:"49"},"strikethrough":{id:"122325",key:"53"},"indent":{id:"122325",key:"71"},"justifyleft":{id:"122325",key:"73"},"justifycenter":{id:"122325",key:"75"},"justifyright":{id:"122325",key:"77"},"justifyjustify":{id:"122325",key:"79"},"imagenone":{id:"122333",key:"21"},"imageleft":{id:"122333",key:"23"},"imageright":{id:"122333",key:"25"},"inserttable":{id:"122325",key:"125"}};for(var d=0,s;s=u[d++];){s=s.toLowerCase();E[s]=function(p){return function(C){var A=new E.Button({className:"edui-for-"+p,title:C.options.labelMap[p]||C.getLang("labelMap."+p)||"",onclick:function q(){C.execCommand(p);var K=o[p];if(K){C.fireEvent("reportToolbarClick",K.id,K.key,1)}if(p==="removeformat"){C.fireEvent("afterremoveformat")}},ondblclick:function q(){if(p==="formatmatch"){C.execCommand(p,"dblclick")}},theme:C.options.theme,showText:false});E.buttons[p]=A;C.addListener("selectionchange",function(q,K,V,Z){var me=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};var he=C.queryCommandState(p,{allDomInRange:me.allDomInRange||[]});if(he==-1){A.setDisabled(true);A.setChecked(false)}else{if(!V){A.setDisabled(false);A.setChecked(he)}}});return A}}(s)}E.cleardoc=function(p){var C=new E.Button({className:"edui-for-cleardoc",title:p.options.labelMap.cleardoc||p.getLang("labelMap.cleardoc")||"",theme:p.options.theme,onclick:function A(){if(confirm(p.getLang("confirmClear"))){p.execCommand("cleardoc")}}});E.buttons.cleardoc=C;p.addListener("selectionchange",function(){C.setDisabled(p.queryCommandState("cleardoc")==-1)});return C};var e={"justify":["left","right","center","justify"],"imagefloat":["none","left","center","right"]};for(var n in e){(function(p,C){for(var A=0,q;q=C[A++];){(function(K){var V=p.replace("float","")+K;E[V]=function(Z){var me=new E.Button({className:"edui-for-"+V,title:Z.options.labelMap[V]||Z.getLang("labelMap."+V)||"",theme:Z.options.theme,onclick:function he(){Z.execCommand(p,K);var oe=o[V];if(oe){Z.fireEvent("reportToolbarClick",oe.id,oe.key,1)}}});E.buttons[p+K]=me;Z.addListener("selectionchange",function(he,oe,de,ge){var ke=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};me.setDisabled(Z.queryCommandState(p,K,{allDomInRange:ke.allDomInRange||[]})==-1);me.setChecked(Z.queryCommandValue(p,K)==K&&!de)});return me}})(q)}})(n,e[n])}var t={"forecolor":{pv:[{id:"122333",key:"114"},{id:"122325",key:"55"}],recently:{id:"122325",key:"57"},basic:{id:"122325",key:"59"},input:{id:"122325",key:"61"},button:{id:"122333",key:"115"},okBtn:{id:"122333",key:"117"},noColor:{id:"122333",key:"119"}},"backcolor":{pv:[{id:"122333",key:"121"},{id:"122325",key:"63"}],recently:{id:"122325",key:"65"},basic:{id:"122325",key:"67"},input:{id:"122325",key:"69"},button:{id:"122333",key:"122"},okBtn:{id:"122333",key:"124"},noColor:{id:"122333",key:"126"}}};var i=function p(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var A=t[C.cmd][C.type];if(A){var q=[].concat(t[C.cmd].pv);q.push({id:A.id,key:A.key});C.editor.fireEvent("reportToolbarClick",q)}};for(var d=0,s;s=["backcolor","forecolor"][d++];){E[s]=function(A){return function(q){var K=new E.ColorButton({className:"edui-for-"+A,color:"default",storekey:A,title:q.options.labelMap[A]||q.getLang("labelMap."+A)||"",editor:q,onpickcolor:function V(Z,me){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};q.execCommand(A,me);i({editor:q,cmd:A,type:he.type})},onpicknocolor:function V(){q.execCommand(A,"default");this.setColor("transparent");this.color="default";i({editor:q,cmd:A,type:"noColor"})},onbuttonclick:function V(){q.execCommand(A,this.color);i({editor:q,cmd:A,type:"button"})}});E.buttons[A]=K;q.addListener("selectionchange",function(V,Z,me,he){var oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};K.setDisabled(q.queryCommandState(A,{allDomInRange:oe.allDomInRange||[]})==-1)});return K}}(s)}var r={noOk:[],ok:["edittable","edittd"]};for(var n in r){(function(C,A){for(var q=0,K;K=A[q++];){if(le.opera&&K==="searchreplace"){continue}(function(V){E[V]=function(Z,me,he){me=me||(Z.options.iframeUrlMap||{})[V]||m[V];he=Z.options.labelMap[V]||Z.getLang("labelMap."+V)||"";var oe;if(me){oe=new E.Dialog(f.extend({iframeUrl:me,editor:Z,className:"edui-for-"+V,title:he,holdScroll:V==="insertimage",closeDialog:Z.getLang("closeDialog")},C=="ok"?{buttons:[{className:"edui-okbutton",label:Z.getLang("ok"),editor:Z,onclick:function ge(){oe.close(true)}},{className:"edui-cancelbutton",label:Z.getLang("cancel"),editor:Z,onclick:function ge(){oe.close(false)}}]}:{}));Z.ui._dialogs[V+"Dialog"]=oe}var de=new E.Button({className:"edui-for-"+V,title:he,onclick:function ge(){if(oe){switch(V){case"wordimage":Z.execCommand("wordimage","word_img");if(Z.word_img){oe.render();oe.open()}break;case"scrawl":if(Z.queryCommandState("scrawl")!=-1){oe.render();oe.open()}break;default:oe.render();oe.open()}}},theme:Z.options.theme,disabled:V=="scrawl"&&Z.queryCommandState("scrawl")==-1});E.buttons[V]=de;Z.addListener("selectionchange",function(){var ge={"edittable":1};if(V in ge)return;var ke=Z.queryCommandState(V);if(de.getDom()){de.setDisabled(ke==-1);de.setChecked(ke)}});return de}})(K.toLowerCase())}})(n,r[n])}E.fontfamily=function(p,C,A){C=p.options.fontfamily||[];A=p.options.labelMap.fontfamily||p.getLang("labelMap.fontfamily")||"";if(!C.length)return;for(var q=0,K,V=[];K=C[q];q++){var Z=p.getLang("fontfamily")[K.name]||"";(function(he,oe){V.push({label:he,value:oe,theme:p.options.theme,renderLabelHtml:function de(){return'<div class="edui-label %%-label" style="font-family:'+f.unhtml(this.value)+'">'+(this.label||"")+"</div>"}})})(K.label||Z,K.val)}var me=new E.Combox({editor:p,items:V,onselect:function he(oe,de){p.execCommand("FontFamily",this.items[de].value)},onbuttonclick:function he(){this.showPopup()},title:A,initValue:A,className:"edui-for-fontfamily",indexByValue:function he(oe){if(oe){for(var de=0,ge;ge=this.items[de];de++){if(ge.value.indexOf(oe)!=-1){return de}}}return-1}});E.buttons.fontfamily=me;p.addListener("selectionchange",function(he,oe,de){if(!de){var ge=p.queryCommandState("FontFamily");if(ge==-1){me.setDisabled(true)}else{me.setDisabled(false);var ke=p.queryCommandValue("FontFamily");ke&&(ke=ke.replace(/['"]/g,"").split(",")[0]);me.setValue(ke)}}});return me};E.fontsize=function(p,C,A){A=p.options.labelMap.fontsize||p.getLang("labelMap.fontsize")||"";C=C||p.options.fontsize||[];if(!C.length)return;var q=[];for(var K=0;K<C.length;K++){var V=C[K]+"px";q.push({label:V,value:V,theme:p.options.theme,renderLabelHtml:function me(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}var Z=new E.Combox({editor:p,items:q,title:A,useInput:!(le.ie&&le.version<9),initValue:A,onselect:function me(he,oe){var de=this.items[oe].value;p.execCommand("FontSize",de);p.fireEvent("reportToolbarClick","122325","25",1)},onbuttonclick:function me(){this.showPopup()},oninputclick:function me(){var he=this;setTimeout(function(){var oe=he.getDom("wx_input");var de=parseInt(this.value);var ge=oe.value;var ke=parseInt(ge);if(le.ie){oe.value="";oe.focus()}else{oe.focus();oe.select()}},100)},oninputblur:function me(){var he=this;var oe=he.getDom("wx_input");var de=oe.value;var ge=parseInt(de);var ke=parseInt(this.value);if(de==""){oe.value=ke+"px";return false}if(ge<10){ge=10}if(ge>50){ge=50}if(ke==ge){return false}p.execCommand("FontSize",ge+"px");p.fireEvent("reportToolbarClick","122325","25",1)},oninputkeydown:function me(he,oe){var de=this;var ge=oe.keyCode||oe.which;var ke=de.getDom("wx_input");if(ge==13){ke.blur();if(oe.stopPropagation){oe.stopPropagation();oe.preventDefault()}else{oe.cancelBubble=true}}},className:"edui-for-fontsize"});E.buttons.fontsize=Z;p.addListener("selectionchange",function(me,he,oe,de){var ge=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!oe){var ke=p.queryCommandState("FontSize",{allDomInRange:ge.allDomInRange});if(ke==-1){Z.setDisabled(true)}else{Z.setDisabled(false);Z.setValue(p.queryCommandValue("FontSize"))}}});return Z};E.paragraph=function(p,C,A){A=p.options.labelMap.paragraph||p.getLang("labelMap.paragraph")||"";C=p.options.paragraph||[];if(f.isEmptyObject(C))return;var q=[];for(var K in C){q.push({value:K,label:C[K]||p.getLang("paragraph")[K],theme:p.options.theme,renderLabelHtml:function Z(){return'<div class="edui-label %%-label"><span class="edui-for-'+this.value+'">'+(this.label||"")+"</span></div>"}})}var V=new E.Combox({editor:p,items:q,title:A,initValue:A,className:"edui-for-paragraph",onselect:function Z(me,he){p.execCommand("Paragraph",this.items[he].value)},onbuttonclick:function Z(){this.showPopup()}});E.buttons.paragraph=V;p.addListener("selectionchange",function(Z,me,he){if(!he){var oe=p.queryCommandState("Paragraph");if(oe==-1){V.setDisabled(true)}else{V.setDisabled(false);var de=p.queryCommandValue("Paragraph");var ge=V.indexByValue(de);if(ge!=-1){V.setValue(de)}else{V.setValue(V.initValue)}}}});return V};E.justify=function(p,C,A){A=p.options.labelMap.justify||p.getLang("labelMap.justify")||"";C=p.options.justify||[];if(f.isEmptyObject(C))return;var q=[];var K=function me(){var he=p.getLang("justify")[V];var oe=C[V];var de=function(ge,ke){return"<div "+(he?'data-tooltip="'+he+'"':"")+'><div class="edui-box edui-button edui-default edui-for-'+ge+'"><div class="edui-button-wrap"><div unselectable="on"  class="edui-button-body js_tooltip" onmousedown="return false;"><div class="edui-box edui-icon"></div></div></div></div><span class="edui-button-desc">'+ke+"</span></div>"}(V,oe);q.push({value:V,label:de,theme:p.options.theme,renderLabelHtml:function ge(){return de}})};for(var V in C){K()}var Z=new E.Combox({editor:p,items:q,title:A,initValue:"justify",className:"edui-for-justify",onselect:function me(he,oe){var de=this.items[oe].value;var ge=de.slice(7);p.execCommand("justify",ge);var ke=o[de];if(ke){p.fireEvent("reportToolbarClick",ke.id,ke.key,1)}},onbuttonclick:function me(){this.showPopup()},indexByValue:function me(he){for(var oe=0,de;de=this.items[oe++];){if(de.value=="justify"+he){return oe-1}}return-1}});E.buttons.justify=Z;p.addListener("selectionchange",function(me,he,oe,de){var ge=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!oe){var ke=p.queryCommandValue("justify");var Ie=p.queryCommandState("justify",ke,{allDomInRange:ge.allDomInRange||[]});if(Ie==-1){Z.setDisabled(true)}else{Z.setDisabled(false);var qe=Z.indexByValue(ke);if(qe!=-1){ke&&Z.setValue((ke+"").replace(/cm/,""))}else{Z.setValue((Z.initValue+"").replace(/cm/,""))}Z.setChecked(p.queryCommandValue("justify",ke)==ke)}}});return Z};E.imagefloat=function(p,C,A){A=p.options.labelMap.imagefloat||p.getLang("labelMap.imagefloat")||"";C=p.options.imagefloat||[];if(f.isEmptyObject(C))return;var q=[];var K=function me(){var he=p.getLang("imagefloat")[V];var oe=C[V];var de=function(ge,ke){return"<div "+(he?'data-tooltip="'+he+'"':"")+'><div class="edui-box edui-button edui-default edui-for-image'+ge+'"><div class="edui-button-wrap"><div unselectable="on"  class="edui-button-body js_tooltip" onmousedown="return false;"><div class="edui-box edui-icon"></div></div></div></div><span class="edui-button-desc">'+ke+"</span></div>"}(V,oe);q.push({value:V,label:de,theme:p.options.theme,renderLabelHtml:function ge(){return de}})};for(var V in C){K()}var Z=new E.Combox({editor:p,items:q,title:A,initValue:"none",className:"edui-for-imagefloat",onselect:function me(he,oe){var de=this.items[oe].value;var ge="image"+de;p.execCommand("imagefloat",de);var ke=o[ge];if(ke){p.fireEvent("reportToolbarClick",ke.id,ke.key,1)}},onbuttonclick:function me(){this.showPopup()}});E.buttons.imagefloat=Z;p.addListener("selectionchange",function(me,he,oe,de){var ge=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!oe){var ke=p.queryCommandValue("imagefloat");var Ie=p.queryCommandState("imagefloat",ke,{allDomInRange:ge.allDomInRange||[]});if(Ie==-1){Z.setDisabled(true)}else{Z.setDisabled(false);var qe=Z.indexByValue(ke);if(qe!=-1){ke&&Z.setValue((ke+"").replace(/cm/,""))}else{Z.setValue((Z.initValue+"").replace(/cm/,""))}Z.setChecked(p.queryCommandValue("imagefloat",ke)==ke)}}});return Z};E.customstyle=function(p){var C=p.options.customstyle||[],A=p.options.labelMap.customstyle||p.getLang("labelMap.customstyle")||"";if(!C.length)return;var q=p.getLang("customstyle");for(var K=0,V=[],Z;Z=C[K++];){(function(he){var oe={};oe.label=he.label?he.label:q[he.name];oe.style=he.style;oe.className=he.className;oe.tag=he.tag;V.push({label:oe.label,value:oe,theme:p.options.theme,renderLabelHtml:function de(){return'<div class="edui-label %%-label"><'+oe.tag+" "+(oe.className?' class="'+oe.className+'"':"")+(oe.style?' style="'+oe.style+'"':"")+">"+oe.label+"</"+oe.tag+"></div>"}})})(Z)}var me=new E.Combox({editor:p,items:V,title:A,initValue:A,className:"edui-for-customstyle",onselect:function he(oe,de){p.execCommand("customstyle",this.items[de].value)},onbuttonclick:function he(){this.showPopup()},indexByValue:function he(oe){for(var de=0,ge;ge=this.items[de++];){if(ge.label==oe){return de-1}}return-1}});E.buttons.customstyle=me;p.addListener("selectionchange",function(he,oe,de){if(!de){var ge=p.queryCommandState("customstyle");if(ge==-1){me.setDisabled(true)}else{me.setDisabled(false);var ke=p.queryCommandValue("customstyle");var Ie=me.indexByValue(ke);if(Ie!=-1){me.setValue(ke)}else{me.setValue(me.initValue)}}}});return me};E.inserttable=function(p,C,A){A=p.options.labelMap.inserttable||p.getLang("labelMap.inserttable")||"";var q=new E.TableButton({editor:p,title:A,className:"edui-for-inserttable",onpicktable:function K(V,Z,me){p.execCommand("InsertTable",{numRows:me,numCols:Z,border:1});var he=o.inserttable;if(he){p.fireEvent("reportToolbarClick",he.id,he.key,1)}},onbuttonclick:function K(){this.showPopup()}});E.buttons.inserttable=q;p.addListener("selectionchange",function(){q.setDisabled(p.queryCommandState("inserttable")==-1)});return q};var l={"1":{id:"122325",key:"109"},"1.5":{id:"122325",key:"111"},"1.75":{id:"122325",key:"113"},"2":{id:"122325",key:"115"},"3":{id:"122325",key:"117"},"4":{id:"122325",key:"119"},"5":{id:"122325",key:"121"}};E.lineheight=function(p){var C=p.options.lineheight||[];if(!C.length)return;for(var A=0,q,K=[];q=C[A++];){K.push({label:q.name,value:q.key,theme:p.options.theme,onclick:function Z(){p.execCommand("lineheight",this.value);var me=l[this.value];if(me){p.fireEvent("reportToolbarClick",[{id:"122325",key:"107"},{id:me.id,key:me.key}])}}})}var V=new E.MenuButton({editor:p,className:"edui-for-lineheight",title:p.options.labelMap.lineheight||p.getLang("labelMap.lineheight")||"",items:K,onbuttonclick:function Z(){var me=p.queryCommandValue("LineHeight")||this.value;p.execCommand("LineHeight",me)}});E.buttons.lineheight=V;p.addListener("selectionchange",function(Z,me,he,oe){var de=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};var ge=p.queryCommandState("LineHeight",{allDomInRange:de.allDomInRange||[]});if(ge==-1){V.setDisabled(true)}else{V.setDisabled(false);var ke=p.queryCommandValue("LineHeight");ke&&V.setValue((ke+"").replace(/cm/,""));V.setChecked(ge)}});return V};E.justifyindent=function(p){var C=p.options.justifyindent||[];if(!C.length)return null;for(var A=0,q,K=[];q=C[A++];){K.push({label:q.name,value:q.val,theme:p.options.theme,onclick:function Z(){p.execCommand("justifyindent",this.value);p.fireEvent("reportToolbarClick","122325","81",1)}})}var V=new E.MenuButton({editor:p,className:"edui-for-justifyindent",title:p.options.labelMap.justifyindent||p.getLang("labelMap.justifyindent")||"",items:K,onbuttonclick:function Z(){var me=p.queryCommandValue("justifyindent")||this.value;p.execCommand("justifyindent",me)}});E.buttons.justifyindent=V;p.addListener("selectionchange",function(Z,me,he,oe){var de=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};var ge=p.queryCommandState("justifyindent",{allDomInRange:de.allDomInRange||[]});if(ge==-1){V.setDisabled(true)}else{V.setDisabled(false);var ke=p.queryCommandValue("justifyindent");ke&&V.setValue((ke+"").replace(/%/,""));V.setChecked(ge)}});return V};var c={"top":{pv:{id:"122325",key:"83"},"0":{id:"122325",key:"84"},"8":{id:"122325",key:"85"},"16":{id:"122325",key:"86"},"24":{id:"122325",key:"87"},"32":{id:"122325",key:"88"},"40":{id:"122325",key:"89"},"48":{id:"122325",key:"90"}},"bottom":{pv:{id:"122325",key:"95"},"0":{id:"122325",key:"96"},"8":{id:"122325",key:"97"},"16":{id:"122325",key:"98"},"24":{id:"122325",key:"99"},"32":{id:"122325",key:"100"},"40":{id:"122325",key:"101"},"48":{id:"122325",key:"102"}}};var h=["top","bottom"];for(var b=0,v;v=h[b++];){(function(p){E["rowspacing"+p]=function(C){var A=C.options["rowspacing"+p]||[];if(!A.length)return null;for(var q=0,K,V=[];K=A[q++];){V.push({label:K.name,value:K.key,theme:C.options.theme,onclick:function me(){C.execCommand("rowspacing",this.value,p);var he=c[p].pv;var oe=c[p][this.value];if(he&&oe){C.fireEvent("reportToolbarClick",[{id:he.id,key:he.key},{id:oe.id,key:oe.key}])}}})}if(p==="bottom"){V.push("-");V.push({label:"\u8BBE\u7F6E\u9ED8\u8BA4\u6BB5\u540E\u8DDD",value:null,theme:"test",notHideMenu:true,onclick:function me(){C.fireEvent("rbSettingClick",this)}})}var Z=new E.MenuButton({editor:C,className:"edui-for-rowspacing"+p,title:C.options.labelMap["rowspacing"+p]||C.getLang("labelMap.rowspacing"+p)||"",items:V,onbuttonclick:function me(){var he=C.queryCommandValue("rowspacing",p)||this.value;C.execCommand("rowspacing",he,p)}});E.buttons["rowspacing"+p]=Z;C.addListener("selectionchange",function(){var me=C.queryCommandState("rowspacing",p);if(me==-1){Z.setDisabled(true)}else{Z.setDisabled(false);var he=C.queryCommandValue("rowspacing",p);he&&Z.setValue((he+"").replace(/%/,""));Z.setChecked(me)}});return Z}})(v)}var S={"letterspacing":{pv:{id:"122325",key:"123"}},"insertorderedlist":{pv:{id:"122333",key:"1"},"decimal":{id:"122333",key:"3"},"lower-alpha":{id:"122333",key:"5"},"lower-roman":{id:"122333",key:"7"},"upper-alpha":{id:"122333",key:"9"},"upper-roman":{id:"122333",key:"11"}},"insertunorderedlist":{pv:{id:"122333",key:"13"},"circle":{id:"122333",key:"15"},"disc":{id:"122333",key:"17"},"square":{id:"122333",key:"19"}}};E.letterspacing=function(p){var C="letterspacing";var A=p.options[C],q=function me(){p.execCommand(C,this.value);var he=S[C].pv;var oe=S[C][this.value];var de=[];if(he){de.push({id:he.id,key:he.key})}if(oe){de.push({id:oe.id,key:oe.key})}if(de.length>0){p.fireEvent("reportToolbarClick",de)}},K=[];for(var V in A){K.push({label:A[V]||p.getLang()[C][V]||"",value:V,theme:p.options.theme,onclick:q})}var Z=new E.MenuButton({editor:p,className:"edui-for-letterspacing",title:p.getLang("labelMap."+C)||"",items:K,onbuttonclick:function me(){var he=p.queryCommandValue(C)||this.value;p.execCommand(C,he)}});E.buttons[C]=Z;p.addListener("selectionchange",function(me,he,oe,de){var ge=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};var ke=p.queryCommandState(C,{allDomInRange:ge.allDomInRange||[]});if(ke==-1){Z.setDisabled(true)}else{Z.setDisabled(false);var Ie=p.queryCommandValue(C);Z.setValue(Ie);Z.setChecked(ke)}});return Z};E.insertlist=function(p,C,A){A=p.options.labelMap.insertlist||p.getLang("labelMap.insertlist")||"";C=p.options.insertlist||[];var q=p.options.insertorderedlist||[];var K=p.options.insertunorderedlist||[];if(f.isEmptyObject(C))return;var V=[];for(var Z in C){V.push({value:Z,label:C[Z]||p.getLang("insertlist")[Z],theme:p.options.theme,renderLabelHtml:function he(){return'<div class="edui-label %%-label"><span class="edui-for-'+this.value+'">'+(this.label||"")+"</span></div>"}})}var me=new E.Combox({editor:p,items:V,title:A,initValue:'<div class="edui-box edui-icon edui-default"></div>',className:"edui-for-insertunorderedlist",onselect:function he(oe,de){var ge=this.items[de].value;var ke=null;if(Object.keys(q).indexOf(ge)!==-1){p.execCommand("insertorderedlist",ge);ke="insertorderedlist"}else if(Object.keys(K).indexOf(ge)!==-1){p.execCommand("insertunorderedlist",ge);ke="insertunorderedlist"}else{return}var Ie=S[ke].pv;var qe=S[ke][ge];var tt=[];if(Ie){tt.push({id:Ie.id,key:Ie.key})}if(qe){tt.push({id:qe.id,key:qe.key})}if(tt.length>0){p.fireEvent("reportToolbarClick",tt)}},onbuttonclick:function he(){this.showPopup()},selectByIndex:function he(oe){if(oe<this.items.length&&this.fireEvent("select",oe)!==false){this.selectedIndex=oe;this.value=this.items[oe].value}}});E.buttons.insertlist=me;p.addListener("selectionchange",function(he,oe,de,ge){var ke=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!de){var Ie=p.queryCommandValue("insertlist");var qe="insertunorderedlist";if(Object.keys(q).indexOf(Ie)!==-1){qe="insertorderedlist"}else if(Object.keys(K).indexOf(Ie)!==-1){qe="insertunorderedlist"}var tt=p.queryCommandState("insertlist",{allDomInRange:ke.allDomInRange||[]});if(tt==-1){me.setDisabled(true)}else{me.setDisabled(false);var Je=p.queryCommandValue("insertlist");me.setValue(me.initValue)}}});return me}})();(function(){var f=fe.editor.utils,E=fe.editor.ui.uiUtils,B=fe.editor.ui.UIBase,m=fe.editor.dom.domUtils;var u=[];function o(s){this.initOptions(s);this.initEditorUI()}o.prototype={uiName:"editor",initEditorUI:function s(){this.editor.ui=this;this._dialogs={};this.initUIBase();this._initToolbars();var e=this.editor,n=this;e.addListener("ready",function(){e.getDialog=function(v){return e.ui._dialogs[v+"Dialog"]};m.on(e.window,"scroll",function(v){fe.editor.ui.Popup.postHide(v)});if(e.options.elementPathEnabled){e.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">'+e.getLang("elementPathTip")+":</div>"}if(e.options.scaleEnabled){e.ui._scale();if(e.autoHeightEnabled){e.disableAutoHeight()}n.enableScale()}else if(typeof n.disableScale==="function"){n.disableScale()}if(!e.options.elementPathEnabled&&!e.options.scaleEnabled){var h=e.ui.getDom("elementpath");var b=e.ui.getDom("scale");h&&(h.style.display="none");b&&(b.style.display="none")}if(!e.selection.isFocus())return;e.fireEvent("selectionchange",false,true,"ready")});e.addListener("mousedown",function(h,b){var v=b.target||b.srcElement;fe.editor.ui.Popup.postHide(b,v);fe.editor.ui.ShortCutMenu.postHide(b)});var t=function h(){var b=new fe.editor.ui.Popup({content:new fe.editor.ui.PastePicker({editor:e}),editor:e,className:"edui-wordpastepop"});b.lastCheckedOpt=-1;b.showPasteAnchor=function(v,S){var p=this.editor.document.getElementsByClassName("js_pasteword")[0];if(!p)return;if(p.textContent){var C=p.textContent.match(/\u200B/g);var A=p.textContent.match(/[\u4e00-\u9fa5_a-zA-Z0-9]/g);if(C&&C.length){if(!A||!A.length){p=p.previousSibling}}}var q=E.getClientRect(p);this.showPasteAnchorRect(q,S);this.editor.fireEvent("reportAddNum",291858,9,1)};b.showPasteAnchorRect=function(v,S,p){this._doAutoRender();var C=E.getViewportRect();var A=fe.editor.ui.Popup.pastePop.content;if(document.getElementsByClassName("edui-wordpastepop")[0]){document.getElementsByClassName("edui-wordpastepop")[0].style.backgroundColor="#ffffff"}if(A.pasteContentNode){A.pasteContentNode.style.visibility="hidden"}this._show();var q=$("#bottom_main");var K=this.editor.ui.getDom("toolbarbox");if(q&&q[0]){botBarTop=E.getClientRect(q[0]).top}if(K){var V=E.getClientRect(K);toolBarBot=V.top+V.height}editorIframeBot=E.getClientRect(this.editor.iframe).bottom;var Z=this.getDom();E.setViewportOffset(Z,{left:v.right,top:v.bottom});m.removeClasses(Z,this.ANCHOR_CLASSES);Z.className+=" "+this.ANCHOR_CLASSES[0];if(this.editor){Z.style.zIndex=10;fe.editor.ui.uiUtils.getFixedLayer().style.zIndex=Z.style.zIndex-1}};return b};var i,r=false,l,c=false;e.addListener("canNotShowPastePopup",function(){c=true});e.addListener("afterpaste",function(){if(e.queryCommandState("pasteplain")){return}if(fe.editor.ui.PastePicker){c=false;if(fe.editor.ui.Popup.pastePop){r=true;fe.editor.ui.Popup.pastePop.lastCheckedOpt=-1;return}fe.editor.ui.Popup.pastePop=t();fe.editor.ui.Popup.pastePop.render()}r=true});e.addListener("afterinserthtml",function(h,b){if(c||b!=="fromPaste")return;clearTimeout(l);l=setTimeout(function(){if(fe.editor.ui.Popup.pastePop&&(r||e.ui._isTransfer)){e.fireEvent("clearWordPastePopAnchor");var v=m.createElement(e.document,"span",{}),S=e.selection.getRange();v.classList.add("js_pasteword");try{var p=e.document.getElementById("js_pasteword_end");if(p){var C=p.previousSibling;if(C.nodeType!==3&&!Re.$nonTextNode[C.tagName]&&!C.shadow){C.appendChild(v)}else{p.parentNode.insertBefore(v,p)}}else{S.insertNode(v)}}catch(q){S.insertNode(v)}if(E.getClientRect(v).top+50>E.getClientRect(document.getElementById("js_button_area")).top){$("html,body").animate({scrollTop:v.offsetTop})}var A=mt(v,"firstChild","previousSibling");A&&fe.editor.ui.Popup.pastePop.showPasteAnchor(A.nodeType==3?A.parentNode:A);delete e.ui._isTransfer;r=false}},200)});e.addListener("contextmenu",function(h,b){fe.editor.ui.Popup.postHide(b)});e.addListener("keydown",function(h,b){if(i)i.dispose(b);var v=b.keyCode||b.which;if(b.altKey&&v==90&&UE.ui.buttons.fullscreen){UE.ui.buttons.fullscreen.onclick()}});e.addListener("selectionchange",function(){if(e.options.elementPathEnabled){n[(e.queryCommandState("elementpath")==-1?"dis":"en")+"ableElementPath"]()}if(e.options.scaleEnabled){n[(e.queryCommandState("scale")==-1?"dis":"en")+"ableScale"]()}})},_initToolbars:function s(){var e=this.editor;var n=this.toolbars||[];var t=[];var i=["edui-toolbar-primary","edui-toobar-secondary"];for(var r=0;r<n.length;r++){var l=n[r];var c=new fe.editor.ui.Toolbar({theme:e.options.theme,className:i[r],id:"js_toolbar_"+r});for(var h=0;h<l.length;h++){var b=l[h];var v=null;if(typeof b==="string"){b=b.toLowerCase();if(b=="|"){b="Separator"}if(b=="||"){b="Breakline"}if(fe.editor.ui[b]){v=new fe.editor.ui[b](e)}}else{v=b}if(v&&v.id){c.add(v)}}t[r]=c}this.toolbars=t},getHtmlTpl:function s(){return this.layout({is_illegal:this.is_illegal*1||0,length:this.toolbars.length,toolbarBoxHtml:this.renderToolbarBoxHtml(),clickToUpload:this.editor.getLang("clickToUpload")})},showWordImageDialog:function s(){this.editor.execCommand("wordimage","word_img");this._dialogs.wordimageDialog.open()},renderToolbarBoxHtml:function s(){var e=[];for(var n=0;n<this.toolbars.length;n++){e.push(this.toolbars[n].renderHtml())}return e.join("")},setFullScreen:function s(e){var n=this.editor,t=n.container.parentNode.parentNode;if(this._fullscreen!=e){this._fullscreen=e;this.editor.fireEvent("beforefullscreenchange",e);if(fe.editor.browser.gecko){var i=n.selection.getRange().createBookmark()}if(e){while(t.tagName!="BODY"){var r=fe.editor.dom.domUtils.getComputedStyle(t,"position");u.push(r);t.style.position="static";t=t.parentNode}this._bakHtmlOverflow=document.documentElement.style.overflow;this._bakBodyOverflow=document.body.style.overflow;this._bakAutoHeight=this.editor.autoHeightEnabled;this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this._bakEditorContaninerWidth=n.iframe.parentNode.offsetWidth;if(this._bakAutoHeight){n.autoHeightEnabled=false;this.editor.disableAutoHeight()}document.documentElement.style.overflow="hidden";document.body.style.overflow="hidden";this._bakCssText=this.getDom().style.cssText;this._bakCssText1=this.getDom("iframeholder").style.cssText;n.iframe.parentNode.style.width="";this._updateFullScreen()}else{while(t.tagName!="BODY"){t.style.position=u.shift();t=t.parentNode}this.getDom().style.cssText=this._bakCssText;this.getDom("iframeholder").style.cssText=this._bakCssText1;if(this._bakAutoHeight){n.autoHeightEnabled=true;this.editor.enableAutoHeight()}document.documentElement.style.overflow=this._bakHtmlOverflow;document.body.style.overflow=this._bakBodyOverflow;n.iframe.parentNode.style.width=this._bakEditorContaninerWidth+"px";window.scrollTo(0,this._bakScrollTop)}if(le.gecko&&n.body.contentEditable==="true"){var l=document.createElement("input");document.body.appendChild(l);n.body.contentEditable=false;setTimeout(function(){l.focus();setTimeout(function(){n.body.contentEditable=true;n.fireEvent("fullscreenchanged",e);n.selection.getRange().moveToBookmark(i).select(true);fe.editor.dom.domUtils.remove(l);e&&window.scroll(0,0)},0)},0)}if(n.body.contentEditable==="true"){this.editor.fireEvent("fullscreenchanged",e);this.triggerLayout()}}},_updateFullScreen:function s(){if(this._fullscreen){var e=E.getViewportRect();this.getDom().style.cssText="border:0;position:absolute;left:0;top:"+(this.editor.options.topOffset||0)+"px;width:"+e.width+"px;height:"+e.height+"px;z-index:"+(this.getDom().style.zIndex*1+100);E.setViewportOffset(this.getDom(),{left:0,top:this.editor.options.topOffset||0});this.editor.setHeight(e.height-this.getDom("toolbarbox").offsetHeight-this.getDom("bottombar").offsetHeight-(this.editor.options.topOffset||0));if(le.gecko){try{window.onresize()}catch(n){}}}},_updateElementPath:function s(){var e=this.getDom("elementpath"),n;if(this.elementPathEnabled&&(n=this.editor.queryCommandValue("elementpath"))){var t=[];for(var i=0,r;r=n[i];i++){t[i]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+i+'&quot;);">'+r+"</span>")}e.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">'+this.editor.getLang("elementPathTip")+": "+t.join(" &gt; ")+"</div>"}else{e.style.display="none"}},disableElementPath:function s(){var e=this.getDom("elementpath");e.innerHTML="";e.style.display="none";this.elementPathEnabled=false},enableElementPath:function s(){var e=this.getDom("elementpath");e.style.display="";this.elementPathEnabled=true;this._updateElementPath()},_scale:function s(){var e=document,n=this.editor,t=n.container,i=n.document,r=this.getDom("toolbarbox"),l=this.getDom("bottombar"),c=this.getDom("scale"),h=this.getDom("scalelayer");var b=false,v=null,S=0,p=n.options.minFrameWidth,C=0,A=0,q=0,K=0;function V(){v=m.getXY(t);if(!S){S=n.options.minFrameHeight+r.offsetHeight+l.offsetHeight}h.style.cssText="position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;z-index:"+(n.options.zIndex+1);m.on(e,"mousemove",me);m.on(i,"mouseup",he);m.on(e,"mouseup",he)}var Z=this;function me(de){oe();var ge=de||window.event;C=ge.pageX||e.documentElement.scrollLeft+ge.clientX;A=ge.pageY||e.documentElement.scrollTop+ge.clientY;q=C-v.x;K=A-v.y;if(q>=p){b=true;h.style.width=q+"px"}if(K>=S){b=true;h.style.height=K+"px"}}function he(){if(b){b=false;n.ui._actualFrameWidth=h.offsetWidth-2;t.style.width=n.ui._actualFrameWidth+"px";n.setHeight(h.offsetHeight-l.offsetHeight-r.offsetHeight-2)}if(h){h.style.display="none"}oe();m.un(e,"mousemove",me);m.un(i,"mouseup",he);m.un(e,"mouseup",he)}function oe(){if(le.ie){e.selection.clear()}else{window.getSelection().removeAllRanges()}}this.enableScale=function(){if(!c){return}if(n.queryCommandState("source")==1)return;c.style.display="";this.scaleEnabled=true;m.on(c,"mousedown",V)};this.disableScale=function(){if(!c){return}c.style.display="none";this.scaleEnabled=false;m.un(c,"mousedown",V)}},isFullScreen:function s(){return this._fullscreen},postRender:function s(){B.prototype.postRender.call(this);for(var e=0;e<this.toolbars.length;e++){this.toolbars[e].postRender()}var n=this;var t,i=fe.editor.dom.domUtils,r=function l(){clearTimeout(t);t=setTimeout(function(){n._updateFullScreen()})};i.on(window,"resize",r);n.addListener("destroy",function(){i.un(window,"resize",r);clearTimeout(t)})},showToolbarMsg:function s(e,n){this.getDom("toolbarmsg_label").innerHTML=e;this.getDom("toolbarmsg").style.display="";if(!n){var t=this.getDom("upload_dialog");t.style.display="none"}},hideToolbarMsg:function s(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function s(e){return e?e.replace("~/",this.editor.options.UEDITOR_HOME_URL||""):""},triggerLayout:function s(){var e=this.getDom();if(e.style.zoom=="1"){e.style.zoom="100%"}else{e.style.zoom="1"}}};f.inherits(o,fe.editor.ui.UIBase);var d={};UE.ui.Editor=function(s){var e=new UE.Editor(s);e.options.editor=e;var n=e.render;e.render=function(t){if(t.constructor===String){e.key=t;d[t]=e}f.domReady(function(){e.langIsReady?i():e.addListener("langReady",i);function i(){e.setOpt({labelMap:e.options.labelMap||e.getLang("labelMap")});new o(e.options);if(t){if(t.constructor===String){t=document.getElementById(t)}t&&t.getAttribute("name")&&(e.options.textarea=t.getAttribute("name"));if(t&&/script|textarea/ig.test(t.tagName)){var r=document.createElement("div");t.parentNode.insertBefore(r,t);var l=t.value||t.innerHTML;e.options.initialContent=/^[\t\r\n ]*$/.test(l)?e.options.initialContent:l.replace(/>[\n\r\t]+([ ]{4})+/g,">").replace(/[\n\r\t]+([ ]{4})+</g,"<").replace(/>[\n\r\t]+</g,"><");t.className&&(r.className=t.className);t.style.cssText&&(r.style.cssText=t.style.cssText);if(/textarea/i.test(t.tagName)){e.textarea=t;e.textarea.style.display="none"}else{t.parentNode.removeChild(t);t.id&&(r.id=t.id)}t=r;t.innerHTML=""}}m.addClass(t,"edui-"+e.options.theme);e.ui.render(t);var c=e.options;e.container=e.ui.getDom();e.container.style.cssText="z-index:"+e.options.zIndex;n.call(e,e.ui.getDom("iframeholder"))}})};return e};UE.getEditor=function(s,e){var n=d[s];if(!n){n=d[s]=new UE.ui.Editor(e);n.render(s)}return n};UE.delEditor=function(s){var e;if(e=d[s]){e.key&&e.destroy();delete d[s]}}})();(function(){var f=fe.editor.utils,E=fe.editor.ui.Popup,B=fe.editor.ui.SplitButton,m=fe.editor.ui.MultiMenuPop=function(u){this.initOptions(u);this.initMultiMenu()};m.prototype={initMultiMenu:function u(){var o=this;this.popup=new E({content:"",editor:o.editor,iframe_rendered:false,onshow:function d(){if(!this.iframe_rendered){this.iframe_rendered=true;this.getDom("content").innerHTML='<iframe id="'+o.id+'_iframe" src="'+o.iframeUrl+'" frameborder="0"></iframe>';o.editor.container.style.zIndex&&(this.getDom().style.zIndex=o.editor.container.style.zIndex*1+1)}}});this.onbuttonclick=function(){this.showPopup()};this.initSplitButton()}};f.inherits(m,B)})();(function(){var f=fe.editor.ui,E=f.UIBase,B=f.uiUtils,m=fe.editor.utils,u=fe.editor.dom.domUtils;var o=[],d,s=false;var e=f.ShortCutMenu=function(t){this.initOptions(t);this.initShortCutMenu()};e.postHide=n;e.prototype={isHidden:true,SPACE:5,initShortCutMenu:function t(){this.items=this.items||[];this.initUIBase();this.initItems();this.initEvent();o.push(this)},initEvent:function t(){var i=this,r=i.editor.document;u.on(r,"mousemove",function(l){if(i.isHidden===false){if(i.getSubMenuMark()||i.eventType=="contextmenu")return;var c=true,h=i.getDom(),b=h.offsetWidth,v=h.offsetHeight,S=b/2+i.SPACE,p=v/2,C=Math.abs(l.screenX-i.left),A=Math.abs(l.screenY-i.top);clearTimeout(d);d=setTimeout(function(){if(A>0&&A<p){i.setOpacity(h,"1")}else if(A>p&&A<p+70){i.setOpacity(h,"0.5");c=false}else if(A>p+70&&A<p+140){i.hide()}if(c&&C>0&&C<S){i.setOpacity(h,"1")}else if(C>S&&C<S+70){i.setOpacity(h,"0.5")}else if(C>S+70&&C<S+140){i.hide()}})}});if(le.chrome){u.on(r,"mouseout",function(l){var c=l.relatedTarget||l.toElement;if(c==null||c.tagName=="HTML"){i.hide()}})}i.editor.addListener("afterhidepop",function(){if(!i.isHidden){s=true}})},initItems:function t(){if(m.isArray(this.items)){for(var i=0,r=this.items.length;i<r;i++){var l=this.items[i].toLowerCase();if(f[l]){this.items[i]=new f[l](this.editor);this.items[i].className+=" edui-shortcutsubmenu "}}}},setOpacity:function t(i,r){if(le.ie&&le.version<9){i.style.filter="alpha(opacity = "+parseFloat(r)*100+");"}else{i.style.opacity=r}},getSubMenuMark:function t(){s=false;var i=B.getFixedLayer();var r=u.getElementsByTagName(i,"div",function(h){return u.hasClass(h,"edui-shortcutsubmenu edui-popup")});for(var l=0,c;c=r[l++];){if(c.style.display!="none"){s=true}}return s},show:function t(i,r){var l=this,c={},h=this.getDom(),b=B.getFixedLayer();function v(C){if(C.left<0){C.left=0}if(C.top<0){C.top=0}h.style.cssText="position:absolute;left:"+C.left+"px;top:"+C.top+"px;"}function S(C){if(!C.tagName){C=C.getDom()}c.left=parseInt(C.style.left);c.top=parseInt(C.style.top);c.top-=h.offsetHeight+15;v(c)}l.eventType=i.type;h.style.cssText="display:block;left:-9999px";if(i.type=="contextmenu"&&r){var p=u.getElementsByTagName(b,"div","edui-contextmenu")[0];if(p){S(p)}else{l.editor.addListener("aftershowcontextmenu",function(C,A){S(A)})}}else{c=B.getViewportOffsetByEvent(i);c.top-=h.offsetHeight+l.SPACE;c.left+=l.SPACE+20;v(c);l.setOpacity(h,.2)}l.isHidden=false;l.left=i.screenX+h.offsetWidth/2-l.SPACE;l.top=i.screenY-h.offsetHeight/2-l.SPACE;if(l.editor){h.style.zIndex=l.editor.container.style.zIndex*1+10;b.style.zIndex=h.style.zIndex-1}},hide:function t(){if(this.getDom()){this.getDom().style.display="none"}this.isHidden=true},postRender:function t(){if(m.isArray(this.items)){for(var i=0,r;r=this.items[i++];){r.postRender()}}},getHtmlTpl:function t(){var i;if(m.isArray(this.items)){i=[];for(var r=0;r<this.items.length;r++){i[r]=this.items[r].renderHtml()}i=i.join("")}else{i=this.items}return'<div id="##" class="%% edui-toolbar" data-src="shortcutmenu" onmousedown="return false;" onselectstart="return false;" >'+i+"</div>"}};m.inherits(e,E);function n(t){var i=t.target||t.srcElement,r=u.findParent(i,function(h){return u.hasClass(h,"edui-shortcutmenu")||u.hasClass(h,"edui-popup")},true);if(!r){for(var l=0,c;c=o[l++];){c.hide()}}}u.on(document,"mousedown",function(t){n(t)});u.on(window,"scroll",function(t){n(t)})})();(function(){var f=fe.editor.utils,E=fe.editor.ui.UIBase,B=fe.editor.ui.Breakline=function(m){this.initOptions(m);this.initSeparator()};B.prototype={uiName:"Breakline",initSeparator:function m(){this.initUIBase()},getHtmlTpl:function m(){return"<br/>"}};f.inherits(B,E)})()}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/filter_plugin.js":function(Ne,Te){(function(){var pe=["caret-color"];var we="-";var ve=function ne(U){if(U.style.caretColor==="transparent"){U.style.caretColor=""}return U};var Ce=window.UE.filteStyleCustomAttribute=function(ne,U){var L=document.createElement("div");L.innerHTML=U.utils.trim(ne);var O=document.createTreeWalker(L,1);do{var g=O.currentNode;g=ve(g)}while(O.nextNode());return L.innerHTML}})()},"../../packages/mmbizweb-web2-common/editor/plugin/filter.js":function(Ne,Te,pe){var we;!(we=function(ve,Ce,ne){var U=function I(P,X){if(!X||!P){return P}var te=X.split(" ");var Q="";for(var ee=0,M=te.length;ee<M;ee++){if(Q){Q+="|"}Q+="(?:"+te[ee]+")"}var F=new RegExp('(<[^<>]*?)\\sclass=((?:"[^"]*'+Q+`[^"]*")|(?:'[^']*`+Q+"[^']*'))","g");return P.replace(F,function(){var Y=arguments[2].replace(/['"]/g,"").split(" ");var z=[];for(var R=0,N=Y.length;R<N;R++){var j=Y[R];if(j&&(" "+X+" ").indexOf(" "+j+" ")===-1){z.push(j)}}return arguments[1]+' class="'+z.join(" ")+'"'})};var L=function I(P,X){if(!X){return}P=$(P);var te=P.attr("style");if(!te){return}var Q="(^|;|\\b)[^;]*#attr#\\s*:[^;]*[$;]";if(Object.prototype.toString.call(X)=="[object String]"){X=[X]}for(var ee=0,M=X.length;ee<M;ee++){var F=new RegExp(Q.replace("#attr#",X[ee]),"g");te=te.replace(F,"$1")}P.attr("style",te)};var O=function I(P){var X=`(<[^<>]*?)\\sstyle=(?:(?:"([^"]*?)")|(?:'([^']*?)')|([^'"\\s=<>]*?))([\\s\\/>])`;var te=new RegExp(X,"g");P=P.replace(te,function(Q,ee,M,F,Y,z){var R=M||F||Y||"";if(R){R=R.replace(/&quot;/g,'"');R=R.split(";");var N=[];for(var j=0,W=R.length;j<W;j++){var H=R[j].replace(/^\s+/,"").replace(/\s+$/,"").replace(/"/g,"&quot;");if(!!H){N.push(H)}}return ee+' style="'+N.join(";")+';"'+z||""}else{return Q}});return P};var g=function I(P,X){var te=`(<#tagName#[^<>]*?)\\s#attribute#=(?:(?:"([^"]*?)")|(?:'([^']*?)')|([^'"\\s=<>]*?))([\\s\\/>])`,Q="$1$5";for(var ee=0,M=X.length;ee<M;ee++){var F=X[ee],Y=F[0],z=F[1],R="";if(Y==="*"){R=te.replace("#tagName#","")}else{R=te.replace("#tagName#",Y)}var N=new RegExp(R.replace("#attribute#",z),"g");while(N.test(P)){P=P.replace(N,Q)}}return P};var _=function I(P,X){var te=P.whiteList;var Q=P.whiteListReg;var ee=P.blackList;if(!te&&!Q&&!ee){return X}var M=`(<[^<>]*?)\\sclass=(?:(?:"([^"]*?)")|(?:'([^']*?)')|([^'"\\s=<>]*?))([\\s\\/>])`;var F=new RegExp(M,"g");var Y=X.replace(F,function(z,R,N,j,W,H){var w=N||j||W||"";var T=w.split(" "),k=[],G="";for(var ce=0,se=T.length;ce<se;ce++){G=T[ce];if(G){if(ee&&~ee.indexOf(G)){continue}else if(te&&~te.indexOf(G)){k.push(G)}else if(Q&&Q.length>0){for(var ue=0,ye=Q.length;ue<ye;ue++){if(Q[ue].test(G)){k.push(G);break}}}}}var xe=k.join(" ").trim();return xe?R+' class="'+xe+'"'+H||"":R+H||""});return Y};function D(I){var P=["noscript","iframe"];for(var X=0;X<P.length;X++){var te="(<#targetName#\\s*[^<>]*?>)[^<\\/]+?<\\/#targetName#>".replace(/#targetName#/g,P[X]);var Q="$1</#targetName#>".replace(/#targetName#/g,P[X]);var ee=new RegExp(te,"g");I=I.replace(ee,Q)}return I}function J(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var P={html:I.html,hasFilterHtml:false,node:I.node,hasFilterNode:false};if(I.html&&/(<br[^<>]*>\s*<br[^<>]*>){10,}/.test(I.html)){P.hasFilterHtml=true;P.html=I.html.replace(/(<br[^<>]*>\s*<br[^<>]*>){10,}/g,"$1")}if(I.html){P.html=P.html.replace(/<br class="Apple-interchange-newline">/g,"")}if(I.node&&I.node.getElementsByTagName){var X=I.node.getElementsByTagName("svg");for(var te=0,Q=X.length;te<Q;te++){var ee=X[te];var M=ee.getElementsByTagName("br");for(var F=0;F<M.length;F++){var Y=M[F];Y.parentNode.removeChild(Y);P.hasFilterNode=true;F--}}var z=I.node.getElementsByTagName("br");for(var R=0;R<z.length;R++){if(z[R].getAttribute("class")==="Apple-interchange-newline"){z[R].parentNode.removeChild(z[R])}}}return P}return{filterBr:J,formatRedundancyStr:D,formatStyle:O,filterStyleAttr:L,formatClass:_,removeAttribute:g,filterClass:U}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/plugin/insert_sticker/stickerCommonStore.js":function(Ne,Te,pe){var we;function ve(U,L){var O=typeof Symbol!=="undefined"&&U[Symbol.iterator]||U["@@iterator"];if(!O){if(Array.isArray(U)||(O=Ce(U))||L&&U&&typeof U.length==="number"){if(O)U=O;var g=0;var _=function P(){};return{s:_,n:function P(){if(g>=U.length)return{done:true};return{done:false,value:U[g++]}},e:function P(X){throw X},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var D=true,J=false,I;return{s:function P(){O=O.call(U)},n:function P(){var X=O.next();D=X.done;return X},e:function P(X){J=true;I=X},f:function P(){try{if(!D&&O["return"]!=null)O["return"]()}finally{if(J)throw I}}}}function Ce(U,L){if(!U)return;if(typeof U==="string")return ne(U,L);var O=Object.prototype.toString.call(U).slice(8,-1);if(O==="Object"&&U.constructor)O=U.constructor.name;if(O==="Map"||O==="Set")return Array.from(U);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return ne(U,L)}function ne(U,L){if(L==null||L>U.length)L=U.length;for(var O=0,g=new Array(L);O<L;O++)g[O]=U[O];return g}!(we=function(U){var L=pe("../../packages/mmbizweb-web2-common/modules/utils/comm_store.js");var O="recent_use_emotions";var g={smiley:[],store:[]};function _(I){L.get({key:O,success:function P(X){if(X===null){I&&I();return}else{var te=X.smiley||[];var Q=X.store||[];te=te.filter(function(ee){return!!ee.name});Q=Q.filter(function(ee){return!!ee.md5&&!!ee.emoji_url&&!!ee.thumb_url&&!!ee.inserted});g.smiley=te;g.store=Q;I&&I()}},error:function P(X){I&&I()}})}function D(I,P){if(!P)return;var X={smiley:{id:"name",keys:["name"],maxLen:9},store:{id:"md5",keys:["md5","thumb_url","emoji_url"],maxLen:10}};if(!X[I])return;var te=g[I];var Q=X[I].keys;if(Q){var ee=ve(Q),M;try{for(ee.s();!(M=ee.n()).done;){var F=M.value;if(!P[F])return}}catch(R){ee.e(R)}finally{ee.f()}}var Y=X[I].id;for(var z in te){if(te[z][Y]===P[Y]){te.splice(z,1);break}}g[I].unshift(P);g[I]=g[I].slice(0,X[I].maxLen);L.set({key:O,value:{smiley:g["smiley"],store:g["store"]}})}function J(I,P){if(!P)return;var X=g[I];var te=X.filter(function(Q){return P(Q)});g[I]=te;L.set({key:O,value:{smiley:g["smiley"],store:g["store"]}})}return{recent_use_emotions:g,setCommStore:D,getRecentUseEmotions:_,filterCommStore:J}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/editor/plugin/insertcode/insertCodeUtils.js":function(Ne,Te,pe){var we=pe("../../packages/web-webapp-common/js/domUtils.js").domUtils;var ve={outputMainTagName:"section",outputMainClass:"code-snippet__fix",outputLineMainTagName:"ul",outputLineItemTagName:"li",outputLineMainClass:"code-snippet__line-index",inputCodeBlockClass:"code-snippet code-snippet_nowrap",codeBlockTagName:"pre",codeBlockClass:"code-snippet__js",languageAttr:"data-lang",lineTagName:"code",lineContainTagName:"span",lineContainClass:"code-snippet_outer",tabSize:"  ",classPrefix:"code-snippet__"};ve.lineStartTag="<"+ve.lineTagName+">";ve.lineEndTag="</"+ve.lineTagName+">";ve.lineContainStartTag="<"+ve.lineContainTagName+" class="+ve.lineContainClass+">";ve.lineContainEndTag="</"+ve.lineContainTagName+">";function Ce(L){L=L||we.fillChar;return ve.lineStartTag+ve.lineContainStartTag+L+ve.lineContainEndTag+ve.lineEndTag}function ne(L,O){var g;if(O){g="<"+ve.codeBlockTagName+' class="'+ve.inputCodeBlockClass+" "+ve.codeBlockClass+'" '+ve.languageAttr+'="'+O+'">'+L+"</"+ve.codeBlockTagName+">"}else{g="<"+ve.codeBlockTagName+' class="'+ve.inputCodeBlockClass+" "+ve.codeBlockClass+'">'+L+"</"+ve.codeBlockTagName+">"}return g}function U(L){var O="";if(!L||L.nodeType!==3&&L.nodeType!==1||L.nodeType===1&&(O=L.nodeName.toLowerCase())&&O!==ve.codeBlockTagName&&O!==ve.lineTagName&&O!==ve.lineContainTagName){return false}var g=function D(J){if(J&&J.nodeType===1&&J.nodeName.toLowerCase()===ve.codeBlockTagName&&(J.className||"").indexOf(ve.codeBlockClass)>=0){return true}return false};var _=L;while(_){if(g(_)===true){return true}_=_.parentNode}return false}Ne.exports={getCodeLineStr:Ce,languageAttr:ve.languageAttr,lineTagName:ve.lineTagName,tabSize:ve.tabSize,lineStartTag:ve.lineStartTag,lineEndTag:ve.lineEndTag,classPrefix:ve.classPrefix,lineContainTagName:ve.lineContainTagName,lineContainStartTag:ve.lineContainStartTag,lineContainEndTag:ve.lineContainEndTag,getCodeBlockStr:ne,codeBlockClass:ve.codeBlockClass,codeBlockTagName:ve.codeBlockTagName,isInCodeBlock:U,lineContainClass:ve.lineContainClass,outputMainTagName:ve.outputMainTagName,outputMainClass:ve.outputMainClass,outputLineMainTagName:ve.outputLineMainTagName,outputLineItemTagName:ve.outputLineItemTagName,outputLineMainClass:ve.outputLineMainClass,inputCodeBlockClass:ve.inputCodeBlockClass}},"../../packages/mmbizweb-web2-common/media/common.js":function(Ne,Te,pe){var we;function ve(Ce){"@babel/helpers - typeof";return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},ve(Ce)}!(we=function(Ce,ne,U){var L=/[\u2600-\u27BF]|[\u2B00-\u2BFF]|[\u3291-\u32B0]|[\uD83C\uD83D][\uDC00-\uDFFF]/;var O=pe("../../packages/web-webapp-common/js/article_data_key.js");var g=pe("../../packages/mmbizweb-web2-common/biz_common/jquery.validate.js");var _=pe("../../packages/mmbizweb-web2-common/editor/plugin/filter.js");var D=pe("../../packages/mmbizweb-web2-common/common/wx/utils.js");var J=g.rules;var I=!!wx&&wx.uin=="3071959254"?1e5:5e4;var P={};var X={eqWhiteKey:O?O.getCompareWhiteKey():{},shareCopyrightIgnoreKey:O.getShareArticleIgnoreKey()};P.title=function(w){var T=w.content||"";var k=w.maxlen||64;if(w.allowemoji){var G=D.countStrLenByBackendRules(T);if(G>k){return{msg:"%s\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7%s\u5B57".sprintf(w.label||"\u6807\u9898",k),errType:1}}}else{if(!J.rangelength(T,[0,k])){return{msg:"%s\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7%s\u5B57".sprintf(w.label||"\u6807\u9898",k),errType:1}}if(L.test(T)){return{msg:"%s\u4E2D\u4E0D\u80FD\u542B\u6709\u7279\u6B8A\u5B57\u7B26".sprintf(w.label||"\u6807\u9898"),errType:2}}}return true};P.titleStrict=function(w){var T=w.content||"";var k=w.maxlen||64;var G=w.optional||false;if(w.allowemoji){var ce=D.countStrLenByBackendRules(T);if(G){if(ce>k){return{msg:"%s\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7%s\u5B57".sprintf(w.label||"\u6807\u9898",k),errType:1}}}else{if(ce>k||ce<1){return{msg:"%s\u4E0D\u80FD\u4E3A\u7A7A\u4E14\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7%s\u5B57".sprintf(w.label||"\u6807\u9898",k),errType:1}}}}else{if(G){if(!J.rangelength(T,[0,k])){return{msg:"%s\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7%s\u5B57".sprintf(w.label||"\u6807\u9898",k),errType:1}}}else{if(!J.rangelength(T,[1,k])){return{msg:"%s\u4E0D\u80FD\u4E3A\u7A7A\u4E14\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7%s\u5B57".sprintf(w.label||"\u6807\u9898",k),errType:1}}}if(L.test(T)){return{msg:"%s\u4E2D\u4E0D\u80FD\u542B\u6709\u7279\u6B8A\u5B57\u7B26".sprintf(w.label||"\u6807\u9898"),errType:2}}}return true};P.templateContent=function(w){var T=P.content(w);if(T!==true){return T}var k=w.content||"";if(!k){return{msg:"\u6B63\u6587\u5FC5\u987B\u6709\u5185\u5BB9",errType:100}}return true};P.content=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var T=w.content||"";var k=w.maxlen||1e7;if(!J.rangelength(T,[0,k])){return{msg:"\u6B63\u6587\u603B\u5927\u5C0F\u4E0D\u5F97\u8D85\u8FC7%sM\u5B57\u8282".sprintf(k/1e6),errType:1}}var G=w.editor.fireEvent("getWordCountContent")||T.text();if(!J.rangelength(G,[0,I])){return{msg:"\u6B63\u6587\u4E0D\u80FD\u8D85\u8FC7%s\u5B57\uFF0C\u8BF7\u5220\u51CF\u90E8\u5206\u5185\u5BB9\u540E\u91CD\u8BD5".sprintf(I),errType:2}}var ce=$("<div>").html(T);var se=w.editor.checkPlugins(ce,w.articleData);if(se!==true){return{msg:se&&se.msg?se.msg:"\u591A\u5A92\u4F53\u63D2\u4EF6\u6821\u9A8C\u51FA\u9519",errType:4,noTips:!!(se&&se.noTips===true)}}return true};P.contentStrict=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var T=w.content||"";var k=T.text()||"";var G=0;var ce=T.replace(/&nbsp;|\s/g,"").replace(/<br\/?>/g,"");while(ce){var se=ce.replace(/<(\w+?)((style|class)="[^"]*?")?(data-lang="[^"]*?")?><\/\1>/g,"");if(se===ce){break}ce=se}if(!ce.length){return{msg:"\u6B63\u6587\u5FC5\u987B\u6709\u5185\u5BB9\uFF0C\u8BF7\u8F93\u5165\u5185\u5BB9\uFF08\u5982\u6587\u5B57\u3001\u89C6\u9891\u3001\u56FE\u7247\u7B49\uFF09\u91CD\u8BD5",errType:3}}var ue=w.editor.fireEvent("getWordCountContent")||k;if(!J.rangelength(ue,[G,I])){return{msg:"\u6B63\u6587\u4E0D\u80FD\u8D85\u8FC7%s\u5B57\uFF0C\u8BF7\u5220\u51CF\u90E8\u5206\u5185\u5BB9\u540E\u91CD\u8BD5".sprintf(I),errType:2}}var ye=w.maxlen||1e7;if(!J.rangelength(T,[G,ye])){return{msg:"\u6B63\u6587\u603B\u5927\u5C0F\u4E0D\u5F97\u8D85\u8FC7%sM\u5B57\u8282".sprintf(ye/1e6),errType:1}}var xe=$("<div>").html(T);var Ae=w.editor.checkPlugins(xe,w);if(Ae!==true){return{msg:Ae&&Ae.msg?Ae.msg:"\u591A\u5A92\u4F53\u63D2\u4EF6\u6821\u9A8C\u51FA\u9519",errType:4,noTips:!!(Ae&&Ae.noTips===true)}}return true};function te(w){var T=w.key+(w.strict===true?"Strict":"");if(typeof P[T]==="function"){return P[T](w)}return true}function Q(w){var T=w.editor,k=w.callback;if(T.fireEvent("checkRemoteList")&&T.fireEvent("checkdomAsynList")){k();return}function G(){if(!T){return}if(T.fireEvent("checkRemoteList")&&T.fireEvent("checkdomAsynList")){T.removeListener("remoteimg_all_complete domasyn_all_complete",G);k()}}T.addListener("remoteimg_all_complete domasyn_all_complete",G);T.funcPvUvReport("save_remoting_img")}function ee(w,T){var k={errmsg:"",index:false};var G;if(typeof w.ret!=="undefined"){G=w.ret*1}else if(w.base_resp&&typeof w.base_resp.ret!=="undefined"){G=w.base_resp.ret*1}switch(G*1){case-8:case-6:w.ret="-6";k.errmsg="\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801";break;case 62752:k.errmsg="\u53EF\u80FD\u542B\u6709\u5177\u5907\u5B89\u5168\u98CE\u9669\u7684\u94FE\u63A5\uFF0C\u8BF7\u68C0\u67E5";break;case 64505:k.errmsg="\u53D1\u9001\u9884\u89C8\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5";break;case 64504:k.errmsg="\u4FDD\u5B58\u56FE\u6587\u6D88\u606F\u53D1\u9001\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5";break;case 64518:k.errmsg="\u6B63\u6587\u53EA\u80FD\u5305\u542B\u4E00\u4E2A\u6295\u7968";break;case 10704:case 10705:k.errmsg="\u8BE5\u7D20\u6750\u5DF2\u88AB\u5220\u9664";break;case 10701:k.errmsg="\u7528\u6237\u5DF2\u88AB\u52A0\u5165\u9ED1\u540D\u5355\uFF0C\u65E0\u6CD5\u5411\u5176\u53D1\u9001\u6D88\u606F";break;case 10703:k.errmsg="\u5BF9\u65B9\u5173\u95ED\u4E86\u63A5\u6536\u6D88\u606F";break;case 10700:case 64503:k.errmsg="1.\u63A5\u6536\u9884\u89C8\u6D88\u606F\u7684\u5FAE\u4FE1\u5C1A\u672A\u5173\u6CE8\u516C\u4F17\u53F7\uFF0C\u8BF7\u5148\u626B\u7801\u5173\u6CE8<br /> 2.\u5982\u679C\u5DF2\u7ECF\u5173\u6CE8\u516C\u4F17\u53F7\uFF0C\u8BF7\u67E5\u770B\u5FAE\u4FE1\u7684\u9690\u79C1\u8BBE\u7F6E\uFF08\u5728\u624B\u673A\u5FAE\u4FE1\u7684\u201C\u6211->\u8BBE\u7F6E->\u9690\u79C1->\u6DFB\u52A0\u6211\u7684\u65B9\u5F0F\u201D\u4E2D\uFF09\uFF0C\u5E76\u5F00\u542F\u201C\u53EF\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u627E\u5230\u6211\u201D\u7684\u201C\u624B\u673A\u53F7\u201D\u3001\u201C\u5FAE\u4FE1\u53F7\u201D\u3001\u201CQQ\u53F7\u201D\uFF0C\u5426\u5219\u53EF\u80FD\u63A5\u6536\u4E0D\u5230\u9884\u89C8\u6D88\u606F";break;case 64502:k.errmsg="\u4F60\u8F93\u5165\u7684\u5FAE\u4FE1\u53F7\u4E0D\u5B58\u5728\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165";break;case 64501:k.errmsg="\u4F60\u8F93\u5165\u7684\u8D26\u53F7\u4E0D\u5B58\u5728\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165";break;case 412:k.errmsg="\u56FE\u6587\u4E2D\u542B\u975E\u6CD5\u5916\u94FE";break;case 64515:k.errmsg="\u5F53\u524D\u7D20\u6750\u975E\u6700\u65B0\u5185\u5BB9\uFF0C\u8BF7\u91CD\u65B0\u6253\u5F00\u5E76\u7F16\u8F91";break;case 320001:k.errmsg="\u8BE5\u7D20\u6750\u5DF2\u88AB\u5220\u9664\uFF0C\u65E0\u6CD5\u4FDD\u5B58";break;case 64702:k.errmsg="\u6807\u9898\u8D85\u51FA64\u5B57\u957F\u5EA6\u9650\u5236";break;case 64703:k.errmsg="\u6458\u8981\u8D85\u51FA120\u5B57\u957F\u5EA6\u9650\u5236";break;case 64704:case 64708:k.errmsg="\u63A8\u8350\u8BED\u8D85\u51FA\u957F\u5EA6\u9650\u5236";break;case 64729:k.errmsg="\u5C01\u9762\u89C4\u683C\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u88C1\u526A";break;case 64515:k.errmsg="\u5F53\u524D\u7D20\u6750\u975E\u6700\u65B0\u5185\u5BB9";break;case 200041:k.errmsg="\u6B64\u7D20\u6750\u6709\u6587\u7AE0\u5B58\u5728\u8FDD\u89C4\uFF0C\u65E0\u6CD5\u7F16\u8F91";break;case 64506:k.errmsg="\u4FDD\u5B58\u5931\u8D25,\u94FE\u63A5\u4E0D\u5408\u6CD5";break;case 64507:k.errmsg="\u5185\u5BB9\u4E0D\u80FD\u5305\u542B\u5916\u90E8\u94FE\u63A5\uFF0C\u8BF7\u8F93\u5165http://\u6216https://\u5F00\u5934\u7684\u516C\u4F17\u53F7\u76F8\u5173\u94FE\u63A5";break;case 64510:k.errmsg="\u5185\u5BB9\u4E0D\u80FD\u5305\u542B\u97F3\u9891\uFF0C\u8BF7\u8C03\u6574";break;case 64511:k.errmsg="\u5185\u5BB9\u4E0D\u80FD\u5305\u591A\u4E2A\u97F3\u9891\uFF0C\u8BF7\u8C03\u6574";break;case 64512:k.errmsg="\u6587\u7AE0\u4E2D\u97F3\u9891\u9519\u8BEF,\u8BF7\u4F7F\u7528\u97F3\u9891\u6DFB\u52A0\u6309\u94AE\u91CD\u65B0\u6DFB\u52A0\u3002";break;case 64508:k.errmsg="\u67E5\u770B\u539F\u6587\u94FE\u63A5\u53EF\u80FD\u5177\u5907\u5B89\u5168\u98CE\u9669\uFF0C\u8BF7\u68C0\u67E5";break;case 64550:k.errmsg="\u8BF7\u52FF\u63D2\u5165\u4E0D\u5408\u6CD5\u7684\u56FE\u6587\u6D88\u606F\u94FE\u63A5";break;case 64563:k.errmsg="\u5408\u96C6\u94FE\u63A5\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u786E\u8BA4\u540E\u91CD\u8BD5";break;case 64558:k.errmsg="\u8BF7\u52FF\u63D2\u5165\u56FE\u6587\u6D88\u606F\u4E34\u65F6\u94FE\u63A5\uFF0C\u94FE\u63A5\u4F1A\u5728\u77ED\u671F\u5931\u6548";break;case 64559:k.errmsg="\u4E0D\u652F\u6301\u6DFB\u52A0\u672A\u7FA4\u53D1\u7684\u6587\u7AE0/\u89C6\u9891/\u56FE\u7247/\u8BED\u97F3\u94FE\u63A5";break;case-99:k.errmsg="\u5185\u5BB9\u8D85\u51FA\u5B57\u6570\uFF0C\u8BF7\u8C03\u6574";break;case 64705:k.errmsg="\u5185\u5BB9\u8D85\u51FA\u5B57\u6570\uFF0C\u8BF7\u8C03\u6574";break;case-1:k.errmsg="\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u6CE8\u610F\u5907\u4EFD\u5185\u5BB9\u540E\u91CD\u8BD5";break;case-2:case 200002:k.errmsg="\u53C2\u6570\u9519\u8BEF\uFF0C\u8BF7\u6CE8\u610F\u5907\u4EFD\u5185\u5BB9\u540E\u91CD\u8BD5";break;case 353006:var ce=w.cps_product_fail_info;if(ce.pid_idx){var se=ce.pid_idx.join(",");var ue=ce.idx;k.errmsg="\u7B2C"+ue+"\u7BC7\u6587\u7AE0\u4E2D\u7B2C"+se+"\u4E2A\u8FD4\u4F63\u5546\u54C1\u5931\u6548\uFF0C\u8BF7\u5220\u9664"}else{k.errmsg="\u8FD4\u4F63\u5546\u54C1\u5931\u6548\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u65B0\u63D2\u5165"}break;case 353007:var ye=w.cps_product_fail_info;if(ye.idx){k.errmsg="\u7B2C"+ye.idx+"\u7BC7\u6587\u7AE0\u4E2D\u8FD4\u4F63\u5546\u54C1\u5DF2\u5931\u6548\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u65B0\u63D2\u5165"}else{k.errmsg="\u8FD4\u4F63\u5546\u54C1\u5931\u6548\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u65B0\u63D2\u5165"}break;case 353008:k.errmsg=" \u6BCF\u7BC7\u6587\u7AE0\u4E2D\u8FD4\u4F63\u5546\u54C1\u4E0D\u80FD\u8D85\u8FC750\u4E2A";break;case 64528:k.errmsg=w.base_resp.err_msg||"\u56FE\u7247\u9644\u52A0\u5185\u5BB9\u5931\u6548\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5";break;case 64509:k.errmsg="\u6B63\u6587\u4E2D\u4E0D\u80FD\u5305\u542B\u8D85\u8FC73\u4E2A\u89C6\u9891\uFF0C\u8BF7\u91CD\u65B0\u7F16\u8F91\u6B63\u6587\u540E\u518D\u4FDD\u5B58\u3002";break;case-5:k.errmsg="\u670D\u52A1\u9519\u8BEF\uFF0C\u8BF7\u6CE8\u610F\u5907\u4EFD\u5185\u5BB9\u540E\u91CD\u8BD5\u3002";break;case 64513:k.errmsg="\u8BF7\u4ECE\u6B63\u6587\u4E2D\u9009\u62E9\u5C01\u9762\uFF0C\u518D\u5C1D\u8BD5\u4FDD\u5B58\u3002";break;case 64714:k.errmsg="\u6240\u9009\u7684\u90E8\u5206\u5408\u96C6\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u91CD\u65B0\u9009\u62E9\u3002";break;case 67041:k.errmsg="\u97F3\u9891\u7D20\u6750\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u786E\u8BA4\u540E\u91CD\u8BD5";break;case-206:k.errmsg="\u76EE\u524D\uFF0C\u670D\u52A1\u8D1F\u8377\u8FC7\u5927\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\u3002";break;case 10801:k.errmsg="\u6807\u9898\u4E0D\u80FD\u6709\u8FDD\u53CD\u516C\u4F17\u5E73\u53F0\u534F\u8BAE\u3001\u76F8\u5173\u6CD5\u5F8B\u6CD5\u89C4\u548C\u653F\u7B56\u7684\u5185\u5BB9\uFF0C\u8BF7\u91CD\u65B0\u7F16\u8F91\u3002";k.index=w.msg*1;break;case 10802:k.errmsg="\u4F5C\u8005\u4E0D\u80FD\u6709\u8FDD\u53CD\u516C\u4F17\u5E73\u53F0\u534F\u8BAE\u3001\u76F8\u5173\u6CD5\u5F8B\u6CD5\u89C4\u548C\u653F\u7B56\u7684\u5185\u5BB9\uFF0C\u8BF7\u91CD\u65B0\u7F16\u8F91\u3002";k.index=w.msg*1;break;case 10803:k.errmsg="\u654F\u611F\u94FE\u63A5\uFF0C\u8BF7\u91CD\u65B0\u6DFB\u52A0\u3002";k.index=w.msg*1;break;case 10804:k.errmsg="\u6458\u8981\u4E0D\u80FD\u6709\u8FDD\u53CD\u516C\u4F17\u5E73\u53F0\u534F\u8BAE\u3001\u76F8\u5173\u6CD5\u5F8B\u6CD5\u89C4\u548C\u653F\u7B56\u7684\u5185\u5BB9\uFF0C\u8BF7\u91CD\u65B0\u7F16\u8F91\u3002";k.index=w.msg*1;break;case 10806:case 10808:k.errmsg="\u5185\u5BB9\u4E0D\u80FD\u6709\u8FDD\u53CD\u516C\u4F17\u5E73\u53F0\u534F\u8BAE\u3001\u76F8\u5173\u6CD5\u5F8B\u6CD5\u89C4\u548C\u653F\u7B56\u7684\u5185\u5BB9\uFF0C\u8BF7\u91CD\u65B0\u7F16\u8F91\u3002";k.index=w.msg*1;break;case 10807:k.errmsg="\u5185\u5BB9\u4E0D\u80FD\u8FDD\u53CD\u516C\u4F17\u5E73\u53F0\u534F\u8BAE\u3001\u76F8\u5173\u6CD5\u5F8B\u6CD5\u89C4\u548C\u653F\u7B56\uFF0C\u8BF7\u91CD\u65B0\u7F16\u8F91\u3002";break;case 200003:k.errmsg="\u767B\u5F55\u6001\u8D85\u65F6\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55\u3002";break;case 64513:k.errmsg="\u5C01\u9762\u5FC5\u987B\u5B58\u5728\u6B63\u6587\u4E2D\uFF0C\u8BF7\u68C0\u67E5\u5C01\u9762";break;case 64551:k.errmsg="\u8BF7\u68C0\u67E5\u56FE\u6587\u6D88\u606F\u4E2D\u7684\u5FAE\u89C6\u94FE\u63A5\u540E\u91CD\u8BD5\u3002";break;case 64552:k.errmsg="\u8BF7\u68C0\u67E5\u9605\u8BFB\u539F\u6587\u4E2D\u7684\u94FE\u63A5\u540E\u91CD\u8BD5\u3002";break;case 64553:k.errmsg="\u8BF7\u4E0D\u8981\u5728\u56FE\u6587\u6D88\u606F\u4E2D\u63D2\u5165\u8D85\u8FC75\u5F20\u5361\u5238\u3002\u8BF7\u5220\u51CF\u5361\u5238\u540E\u91CD\u8BD5\u3002";break;case 64554:k.errmsg="\u5728\u5F53\u524D\u60C5\u51B5\u4E0B\u4E0D\u5141\u8BB8\u5728\u56FE\u6587\u6D88\u606F\u4E2D\u63D2\u5165\u5361\u5238\uFF0C\u8BF7\u5220\u9664\u5361\u5238\u540E\u91CD\u8BD5\u3002";break;case 64555:k.errmsg="\u8BF7\u68C0\u67E5\u56FE\u6587\u6D88\u606F\u5361\u7247\u8DF3\u8F6C\u7684\u94FE\u63A5\u540E\u91CD\u8BD5\u3002";break;case 64556:k.errmsg="\u5361\u5238\u4E0D\u5C5E\u4E8E\u8BE5\u516C\u4F17\u53F7\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u8BD5";break;case 64557:k.errmsg="\u516C\u4F17\u53F7\u5DF2\u4E0D\u518D\u652F\u6301\u4E0B\u53D1\u4F18\u60E0\u5238\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u8BD5\u3002";break;case 13002:k.errmsg="\u8BE5\u5E7F\u544A\u5361\u7247\u5DF2\u8FC7\u671F\u6216\u88AB\u53D6\u6D88\uFF0C\u5220\u9664\u540E\u624D\u53EF\u4FDD\u5B58\u6210\u529F";k.index=w.msg*1;break;case 13003:k.errmsg="\u5DF2\u6709\u6587\u7AE0\u63D2\u5165\u8FC7\u8BE5\u5E7F\u544A\u5361\u7247\uFF0C\u4E00\u4E2A\u5E7F\u544A\u5361\u7247\u4EC5\u53EF\u63D2\u5165\u4E00\u7BC7\u6587\u7AE0";k.index=w.msg*1;break;case 13004:k.errmsg="\u8BE5\u5E7F\u544A\u5361\u7247\u4E0E\u56FE\u6587\u6D88\u606F\u4F4D\u7F6E\u4E0D\u4E00\u81F4";k.index=w.msg*1;break;case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:k.errmsg=w.remind_wording||"\u4F60\u6240\u7F16\u8F91\u7684\u5185\u5BB9\u53EF\u80FD\u542B\u6709\u8FDD\u53CD\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\u5E73\u53F0\u534F\u8BAE\u3001\u76F8\u5173\u6CD5\u5F8B\u6CD5\u89C4\u548C\u653F\u7B56\u7684\u5185\u5BB9";break;case 1530503:k.errmsg="\u8BF7\u52FF\u6DFB\u52A0\u5176\u4ED6\u516C\u4F17\u53F7\u7684\u4E3B\u9875\u94FE\u63A5";break;case 1530504:k.errmsg="\u8BF7\u52FF\u6DFB\u52A0\u5176\u4ED6\u516C\u4F17\u53F7\u7684\u4E3B\u9875\u94FE\u63A5";break;case 1530510:k.errmsg="\u94FE\u63A5\u5DF2\u5931\u6548\uFF0C\u8BF7\u5728\u624B\u673A\u7AEF\u91CD\u65B0\u590D\u5236\u94FE\u63A5";break;case 153007:case 153008:case 153009:case 153010:k.errmsg="\u5F88\u62B1\u6B49\uFF0C\u539F\u521B\u58F0\u660E\u4E0D\u6210\u529F|\u4F60\u7684\u6587\u7AE0\u5185\u5BB9\u672A\u8FBE\u5230\u58F0\u660E\u539F\u521B\u7684\u8981\u6C42\uFF1A<br />\u6587\u7AE0\u6587\u5B57\u5B57\u6570\uFF08\u4E0D\u5305\u542B\u6807\u70B9\u7B26\u53F7\u548C\u7A7A\u683C\uFF09\u4E0D\u80FD\u8FC7\u5C11\uFF0C\u4E14\u81EA\u5DF1\u521B\u4F5C\u7684\u5185\u5BB9\u5927\u4E8E\u5F15\u7528\u5185\u5BB9\u3002<br />\u8BF4\u660E\uFF1A\u4E0A\u8FF0\u8981\u6C42\u4E2D\uFF0C\u6587\u7AE0\u6587\u5B57\u5B57\u6570\u4E0D\u5305\u542B\u6807\u70B9\u7B26\u53F7\u548C\u7A7A\u683C\uFF0C\u8BF7\u77E5\u6089\u3002";break;case 153013:k.errmsg="\u6587\u7AE0\u542B\u6709\u6295\u7968\u7EC4\u4EF6\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5FEB\u6377\u8F6C\u8F7D";break;case 153014:k.errmsg="\u6587\u7AE0\u542B\u6709\u5361\u5238\u7EC4\u4EF6\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5FEB\u6377\u8F6C\u8F7D";break;case 153018:k.errmsg="\u6587\u7AE0\u542B\u6709\u6211\u7684\u5546\u54C1\u7EC4\u4EF6\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5FEB\u6377\u8F6C\u8F7D";break;case 153020:k.errmsg="\u6587\u7AE0\u542B\u6709\u8FD4\u4F63\u5546\u54C1\u7EC4\u4EF6\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5FEB\u6377\u8F6C\u8F7D";break;case 153022:k.errmsg="\u6587\u7AE0\u542B\u6709\u76F4\u64AD\u7EC4\u4EF6\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5FEB\u6377\u8F6C\u8F7D";break;case 153023:k.errmsg="\u4ED8\u8D39\u6587\u7AE0\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5FEB\u6377\u8F6C\u8F7D";break;case 153200:k.errmsg="\u65E0\u6743\u9650\u58F0\u660E\u539F\u521B\uFF0C\u53D6\u6D88\u58F0\u660E\u540E\u91CD\u8BD5";break;case 1530511:k.errmsg="\u94FE\u63A5\u5DF2\u5931\u6548\uFF0C\u8BF7\u5728\u624B\u673A\u7AEF\u91CD\u65B0\u590D\u5236\u94FE\u63A5";break;case 220001:k.errmsg='"\u7D20\u6750\u7BA1\u7406"\u4E2D\u7684\u5B58\u50A8\u6570\u91CF\u5DF2\u8FBE\u5230\u4E0A\u9650\uFF0C\u8BF7\u5220\u9664\u540E\u518D\u64CD\u4F5C\u3002';break;case 220002:k.errmsg="\u4F60\u7684\u56FE\u7247\u5E93\u5DF2\u8FBE\u5230\u5B58\u50A8\u4E0A\u9650\uFF0C\u8BF7\u8FDB\u884C\u6E05\u7406\u3002";break;case 153012:k.errmsg="\u8BF7\u8BBE\u7F6E\u8F6C\u8F7D\u7C7B\u578B";break;case 200042:k.errmsg="\u56FE\u6587\u4E2D\u5305\u542B\u7684\u5C0F\u7A0B\u5E8F\u7D20\u6750\u4E0D\u80FD\u591A\u4E8E50\u4E2A\u3001\u5C0F\u7A0B\u5E8F\u8D26\u53F7\u4E0D\u80FD\u591A\u4E8E10\u4E2A";break;case 200043:k.errmsg="\u56FE\u6587\u4E2D\u5305\u542B\u6CA1\u6709\u5173\u8054\u7684\u5C0F\u7A0B\u5E8F\uFF0C\u8BF7\u5220\u9664\u540E\u518D\u4FDD\u5B58";break;case 64601:k.errmsg="\u4E00\u7BC7\u6587\u7AE0\u53EA\u80FD\u63D2\u5165\u4E00\u4E2A\u5E7F\u544A\u5361\u7247";break;case 64602:k.errmsg="\u5C1A\u672A\u5F00\u901A\u6587\u4E2D\u5E7F\u544A\u4F4D\uFF0C\u4F46\u6587\u7AE0\u4E2D\u6709\u5E7F\u544A";break;case 64603:k.errmsg="\u6587\u4E2D\u5E7F\u544A\u524D\u4E0D\u8DB3300\u5B57";break;case 64604:k.errmsg="\u6587\u4E2D\u5E7F\u544A\u540E\u4E0D\u8DB3300\u5B57";break;case 64605:k.errmsg="\u6587\u4E2D\u4E0D\u80FD\u540C\u65F6\u63D2\u5165\u6587\u4E2D\u5E7F\u544A\u548C\u4E92\u9009\u5E7F\u544A";break;case 64607:k.errmsg="\u4ED8\u8D39\u56FE\u6587\u4E0D\u53EF\u63D2\u5165\u5E7F\u544A\uFF0C\u8BF7\u5C06\u5E7F\u544A\u79FB\u9664\u540E\u518D\u4FDD\u5B58";break;case 64608:k.errmsg="\u4E00\u7BC7\u6587\u7AE0\u6700\u591A\u6DFB\u52A0\u4E00\u4E2A\u641C\u7D22\u7EC4\u4EF6";break;case 65101:k.errmsg="\u56FE\u6587\u6A21\u7248\u6570\u91CF\u5DF2\u8FBE\u5230\u4E0A\u9650\uFF0C\u8BF7\u5220\u9664\u540E\u518D\u64CD\u4F5C";break;case 64560:k.errmsg="\u8BF7\u52FF\u63D2\u5165\u5386\u53F2\u56FE\u6587\u6D88\u606F\u9875\u94FE\u63A5";break;case 64561:k.errmsg="\u8BF7\u52FF\u63D2\u5165mp.weixin.qq.com\u57DF\u540D\u4E0B\u7684\u975E\u56FE\u6587\u6D88\u606F\u94FE\u63A5";break;case 64562:k.errmsg="\u8BF7\u52FF\u63D2\u5165\u975Emp.weixin.qq.com\u57DF\u540D\u7684\u94FE\u63A5";break;case 153013:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u6295\u7968\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153014:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u5361\u5238\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153015:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u5C0F\u7A0B\u5E8F\u94FE\u63A5\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153016:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u5C0F\u7A0B\u5E8F\u94FE\u63A5\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153017:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u5C0F\u7A0B\u5E8F\u5361\u7247\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153018:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u5546\u54C1\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153019:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u5E7F\u544A\u5361\u7247\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153020:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u5E7F\u544A\u5361\u7247\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153021:k.errmsg="\u6587\u7AE0\u5185\u542B\u6709\u5E7F\u544A\u5361\u7247\uFF0C\u4E0D\u80FD\u8BBE\u7F6E\u4E3A\u5F00\u653E\u8F6C\u8F7D";break;case 153101:k.errmsg="\u542B\u6709\u539F\u6587\u5DF2\u5220\u9664\u7684\u8F6C\u8F7D\u6587\u7AE0\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u8BD5";break;case 64707:k.errmsg="\u8D5E\u8D4F\u8D26\u6237\u8BBE\u7F6E\u5931\u6548";break;case 67030:k.errmsg="\u8D5E\u8D4F\u529F\u80FD\u4E0D\u53EF\u7528";break;case 67028:k.errmsg="\u975E\u539F\u521B\u89C6\u9891\u843D\u5730\u9875\u4E0D\u80FD\u5F00\u8D5E\u8D4F";break;case 64710:k.errmsg="\u539F\u521B\u529F\u80FD\u5DF2\u88AB\u5C01\u7981\u4E0D\u53EF\u8BBE\u7F6E\u4ED8\u8D39\u56FE\u6587\uFF0C\u8BF7\u5207\u6362\u4E3A\u666E\u901A\u56FE\u6587";break;case 64717:k.errmsg="\u4F60\u6240\u8F6C\u8F7D\u7684\u539F\u521B\u6587\u7AE0\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u5907\u4EFD\u5185\u5BB9\u540E\u91CD\u8BD5";break;case 202605:k.errmsg="\u4ED8\u8D39\u529F\u80FD\u5DF2\u88AB\u5C01\u7981\u4E0D\u53EF\u8BBE\u7F6E\u4ED8\u8D39\u56FE\u6587\uFF0C\u8BF7\u5207\u6362\u4E3A\u666E\u901A\u56FE\u6587";break;case 420001:k.errmsg="\u5C01\u9762\u56FE\u4E0D\u652F\u6301GIF\uFF0C\u8BF7\u66F4\u6362";break;case 353004:k.errmsg="\u4E0D\u652F\u6301\u6DFB\u52A0\u5546\u54C1\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u8BD5";break;case 442001:k.errmsg="\u8D26\u53F7\u65B0\u5EFA/\u7F16\u8F91\u7D20\u6750\u80FD\u529B\u5DF2\u88AB\u5C01\u7981\uFF0C\u6682\u4E0D\u53EF\u4F7F\u7528\u3002";break;case 404001:k.errmsg="\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5";break;case 404002:k.errmsg="\u6BCF\u4E2A\u641C\u7D22\u7EC4\u4EF6\u6700\u591A\u6DFB\u52A06\u4E2A\u641C\u7D22\u5173\u952E\u8BCD";break;case 404003:k.errmsg="\u6BCF\u4E2A\u641C\u7D22\u5173\u952E\u8BCD\u6700\u591A16\u4E2A\u5B57\u7B26";break;case 404004:k.errmsg="\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5";break;case 404005:k.errmsg="\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5";break;case 240021:k.errmsg="\u6587\u7AE0\u4E2D\u542B\u6709\u5931\u6548\u7684\u5730\u7406\u4F4D\u7F6E\uFF0C\u8BF7\u5220\u9664\u6216\u4FEE\u6539\u4F4D\u7F6E";break;case 64521:k.errmsg="\u5C0F\u5546\u5E97\u5546\u54C1\u5361\u7247\u8D85\u8FC7\u4E0A\u9650";break;case 64609:k.errmsg="\u5305\u542B\u4E86\u4E0D\u5408\u6CD5\u7684\u5C0F\u5546\u5E97\u5546\u54C1\u5361\u7247";break;case 342002:k.errmsg="\u542B\u6709\u672A\u4E0A\u67B6\u7684\u5C0F\u5546\u5E97\u5546\u54C1";break;case 342003:k.errmsg="\u542B\u6709\u975E\u516C\u4F17\u53F7\u5173\u8054\u5546\u5E97\u7684\u5546\u54C1";break;case 360101:k.errmsg="\u8BE5\u89C6\u9891\u975E\u516C\u5F00\u53EF\u89C1\uFF0C\u8BF7\u66F4\u6362\u89C6\u9891";break;case 360102:k.errmsg="\u89C6\u9891\u5DF2\u5220\u9664\uFF0C\u8BF7\u66F4\u6362\u89C6\u9891\u540E\u91CD\u8BD5";break;case 360201:k.errmsg="\u89C6\u9891\u53F7\u8D26\u53F7\u72B6\u6001\u67E5\u8BE2\u5931\u8D25";break;case 360203:k.errmsg="\u89C6\u9891\u53F7\u88AB\u5C01\u53F7";break;case 360204:k.errmsg="\u89C6\u9891\u53F7\u88AB\u7981\u8A00";break;case 360205:k.errmsg="\u89C6\u9891\u53F7\u4F01\u4E1A\u672A\u8BA4\u8BC1\u4E14\u5FAE\u4FE1\u652F\u4ED8\u672A\u5B9E\u540D";break;case 360207:k.errmsg="\u89C6\u9891\u53F7\u9752\u5C11\u5E74\u6A21\u5F0F\u9650\u5236";break;case 360208:k.errmsg="\u89C6\u9891\u53F7\u521B\u5EFA\u8D26\u53F7\u6B63\u5728\u5BA1\u6838";break;case 360209:k.errmsg="\u672A\u7ED1\u5B9A\u89C6\u9891\u53F7";break;case 360210:k.errmsg="\u89C6\u9891\u53F7\u8BBE\u7F6E\u4E86\u79C1\u5BC6\u8D26\u53F7";break;case 67032:k.errmsg="\u542B\u6709\u5BA1\u6838\u5931\u8D25\u7684\u97F3\u9891\uFF0C\u8BF7\u4FDD\u5B58\u540E\u5220\u9664\u6216\u66FF\u6362\u7D20\u6750";break;case 67033:k.errmsg="\u542B\u6709\u5BA1\u6838\u4E2D\u7684\u97F3\u9891\uFF0C\u8BF7\u4FDD\u5B58\u540E\u7B49\u5F85\u5BA1\u6838\u901A\u8FC7\u518D\u91CD\u8BD5";break;case 67034:k.errmsg="\u542B\u6709\u8F6C\u7801\u5931\u8D25\u7684\u97F3\u9891\uFF0C\u8BF7\u4FDD\u5B58\u540E\u5220\u9664\u6216\u66FF\u6362\u7D20\u6750";break;case 67035:k.errmsg="\u542B\u6709\u8F6C\u7801\u4E2D\u7684\u97F3\u9891\uFF0C\u8BF7\u4FDD\u5B58\u540E\u7B49\u5F85\u8F6C\u7801\u548C\u5BA1\u6838\u901A\u8FC7\u518D\u91CD\u8BD5";break;case 67036:k.errmsg=T.isPreview?"\u8F6C\u7801\u5931\u8D25\u3001\u5BA1\u6838\u5931\u8D25\u53CA\u5DF2\u4E0B\u67B6\u7684\u97F3\u9891\u4E0D\u652F\u6301\u9884\u89C8\uFF0C\u8BF7\u4FDD\u5B58\u540E\u91CD\u8BD5":"\u8F6C\u7801\u4E2D\u3001\u5BA1\u6838\u4E2D\u3001\u8F6C\u7801\u5931\u8D25\u3001\u5BA1\u6838\u5931\u8D25\u53CA\u5DF2\u4E0B\u67B6\u7684\u97F3\u9891\u4E0D\u652F\u6301\u53D1\u8868\uFF0C\u8BF7\u4FDD\u5B58\u540E\u91CD\u8BD5";break;case 67037:k.errmsg="\u542B\u6709\u5DF2\u4E0B\u67B6\u7684\u97F3\u9891\uFF0C\u8BF7\u4FDD\u5B58\u540E\u5220\u9664\u6216\u66FF\u6362\u7D20\u6750";break;case 500201:k.errmsg="\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5";break;default:break}return k}function M(w,T,k,G,ce){ce=ce===true;if(w===T)return w!==0||1/w===1/T;if(w==null||T==null)return w===T;var se=Object.prototype.toString.call(w);if(se!==Object.prototype.toString.call(T))return false;switch(se){case"[object RegExp]":case"[object String]":return""+w===""+T;case"[object Number]":if(+w!==+w)return+T!==+T;return+w===0?1/+w===1/T:+w===+T;case"[object Date]":case"[object Boolean]":return+w===+T}var ue=se==="[object Array]";if(!ue){if(ve(w)!=="object"||ve(T)!=="object")return false}k=k||[];G=G||[];var ye=k.length;while(ye--){if(k[ye]===w)return G[ye]===T}k.push(w);G.push(T);if(ue){ye=w.length;if(ye!==T.length)return false;while(ye--){if(!M(w[ye],T[ye],k,G,ce))return false}}else{for(var xe in w){if(!w.hasOwnProperty(xe))continue;if(!ce&&!X.eqWhiteKey[xe]){continue}if(!ce&&w.is_share_copyright*1==1&&X.shareCopyrightIgnoreKey.indexOf(","+xe+",")>=0){continue}if(typeof w[xe]==="undefined"&&typeof T[xe]==="undefined"){continue}var Ae=w[xe];var le=T[xe];if(xe=="cdn_url"){Ae=Ae.http2https().replace(/\?$/,"");le=le.http2https().replace(/\?$/,"")}else if(xe=="content"){Ae=F(Ae);le=F(le)}if(!(T.hasOwnProperty(xe)&&M(Ae,le,k,G,ce)))return false}}k.pop();G.pop();return true}function F(w){if(UE){w=w.replace(UE.dom.domUtils.fillCharReg,"")}w=w.replace(/\s/g," ");w=w.replace(/<br([^>]*?)>/g,"");w=w.replace('<span data-fillchar="1"></span>',"");w=_.removeAttribute(w,[["*","class"],["*","scrolling"],["*","frameborder"],["*",`data-(?:[^'"\\s=<>]*?)`]]);w=w.replace(/<img\s([^>]*?)>/g,function(T,k){return"<img "+$.trim(k)+" />"});w=w.replace(/<input\s([^>]*?)>/g,function(T,k){return"<input "+$.trim(k)+" />"});return w}function Y(k,G){var k=(k||"0")+"";var G=(G||"0")+"";if(k===G){return"eq"}if(k.length>G.length){return"gt"}else if(k.length<G.length){return"lt"}return k>G?"gt":"lt"}function z(w,T){return w.currentStyle?w.currentStyle[T]:document.defaultView.getComputedStyle(w,null).getPropertyValue(T)}var R=["P","DIV","SECTION","LI","H1","H2","H3","H4","H5","H6","TABLE","WX-VIEW"];function N(w){if(w.nodeType==document.TEXT_NODE){return false}var T=w.tagName;if(R.indexOf(T)>-1){return true}return false}function j(w,T){var k=w;if(!T){k=jQuery("<span>"+w+"</span>")[0]}var G="";if(k.nodeType==document.TEXT_NODE){G=k.nodeValue.replace(/\s+/g," ")}else{for(var ce=0,se=k.childNodes.length;ce<se;ce++){G+=j(k.childNodes[ce],true);if(ce<se-1){if(N(k.childNodes[ce])){G+="<br>"}else if(N(k.childNodes[ce+1])&&k.childNodes[ce+1].tagName!="BR"&&k.childNodes[ce+1].tagName!="HR"){G+="<br>"}}}}return G}function W(w){var T="";var k=j(w,true);if(k.indexOf("<br>")>-1){var G=k.split("<br>");for(var ce=0;ce<G.length;ce++){if(G[ce]===""||G[ce]===" "){continue}T+="<p>"+G[ce]+"</p>"}}else{T=k}return T}function H(w,T){var k=0;if(T>0){k=24}var G=document.createElement("div");G.innerHTML=w;var ce=G.children;for(var se=0;se<ce.length;se++){if(ce[se].nodeName==="P"||ce[se].nodeName==="SECTION"){if(!ce[se].style.marginBottom&&ce[se].className.indexOf("custom_select_card_wrp")<0){ce[se].style.marginBottom=k+"px"}}}return G.innerHTML}return{articleRetCode:ee,validate:te,waitAsynAction:Q,eq:M,dataSeqCompare:Y,convertToPlainText:W,modifyDefaultStyle:H}}.call(Te,pe,Te,Ne),we!==void 0&&(Ne.exports=we))},"../../packages/mmbizweb-web2-common/modules/utils/cgi.js":function(Ne,Te,pe){var we=pe("../../packages/web-webapp-common/js/ajax.js");var ve=pe("../../packages/mmbizweb-web2-common/modules/utils/str_util.js");var Ce=pe("../../packages/mmbizweb-web2-common/modules/utils/object.js");var ne=pe("../../packages/mmbizweb-web2-common/modules/utils/url.js");var U=window.wx.commonData?window.wx.commonData.data:window.wx.data;var L={token:U.t,lang:U.lang,f:"json",ajax:"1"};var O={0:"\u606D\u559C\u4F60\uFF0C\u64CD\u4F5C\u6210\u529F\uFF01","-1":"\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u5C1D\u8BD5\u3002",200002:"\u53C2\u6570\u9519\u8BEF\uFF0C\u8BF7\u6838\u5BF9\u53C2\u6570\u540E\u91CD\u8BD5\u3002",200003:"\u767B\u5F55\u8D85\u65F6\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55\u3002",200004:"\u8BF7\u6C42\u9875\u9762\u7684\u57DF\u540D\u6CA1\u6709\u6388\u6743\u3002",200005:"\u8BF7\u6C42\u65B9\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u786E\u8BA4\u8BF7\u6C42\u65B9\u5F0F\u540E\u91CD\u8BD5\u3002",200006:"\u8868\u5355\u540D\u79F0\u9A8C\u8BC1\u51FA\u9519\uFF0C\u8BF7\u6838\u5BF9\u8868\u5355\u540D\u79F0\u540E\u91CD\u8BD5\u3002",200007:"\u767B\u5F55\u8D85\u65F6\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55\u3002",200040:"\u767B\u5F55\u8D85\u65F6\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55\u3002"};var g=function I(P){var X=P||{};var te=Object.keys(L);for(var Q=0;Q<te.length;Q++){X[te[Q]]=L[te[Q]]}return X};var _=function I(P,X){var te=location.href.indexOf("/cgi-bin/home")!==-1&&(X.url.indexOf("/misc/safeassistant")!==-1||X.url.indexOf("/safe/safeuuid")!==-1);var Q=11;switch(P){case"timeout":Q=7;break;case"error":Q=8;break;case"notmodified":Q=9;break;case"parsererror":Q=10;break;default:Q=11;break}var ee=["lang","random","f","ajax","token"];for(var M=0;M<ee.length;++M){var F=ee[M];if(X.data&&X.data[F]){delete X.data[F]}}Q+=te?100:0;var Y="";if(/selfcheck/.test(X.url)){Y=X.data&&X.data.AppMsgId}else{Y=JSON.stringify(X.data).substr(0,50)}we({url:"/misc/jslog?1=1",data:{content:ve.format("[fakeid={uin}] [xhr] [url={url}] [param={param}] [info={info}] [useragent={useragent}] [page={page}]",{uin:U.uin,useragent:window.navigator.userAgent,page:location.href,url:X.url,param:Y,info:P}),id:Q,level:"error"},type:"POST"});we({url:"/misc/jslog?1=1",data:{content:ve.format("[fakeid={uin}] [xhr] [url={url}] [param={param}] [info={info}] [useragent={useragent}] [page={page}]",{uin:U.uin,useragent:window.navigator.userAgent,page:location.href,url:X.url,param:Y,info:P}),id:6+(te?100:0),level:"error"},type:"POST"});if(P==="timeout"&&!X.notShowTimeoutErr){Vue.prototype.$tipsErr("\u4F60\u7684\u7F51\u7EDC\u73AF\u5883\u8F83\u5DEE\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5")}};var D=function I(P,X){var te=P;if(typeof te!=="function"){te=function Q(){}}P=function Q(ee){try{var M=te.toString();var F={uin:U.uin||"0",id:"64430",key:"0",url:"",location:encodeURIComponent(window.location.href)||"",ret:ee&&ee.base_resp?ee.base_resp.ret||"undefined":"undefined"};if(ee&&ee.base_resp&&ee.base_resp.ret!==0){if(M.indexOf("handleRet")<0){if(M.indexOf(ee.base_resp.ret)<0){new Image().src=ve.format("https://badjs.weixinbridge.com/badjs?level=4&uin={uin}&id={id}&msg={msg}&from={url}",{uin:F.uin,url:F.url||F.location,id:138,msg:encodeURIComponent("ret="+F.ret+"|idkey="+F.id+":"+F.key)})}}if(typeof window.WX_BJ_REPORT!=="undefined"&&window.WX_BJ_REPORT.BadJs){var Y="";if(X.indexOf("?")!==-1){Y=X.substr(0,X.indexOf("?"));var z=ne.parseQuery(X);if(z.action){Y+="?action=".concat(z.action)}}else{Y=X}window.WX_BJ_REPORT.BadJs.report(Y,"ret=".concat(ee.base_resp.ret),{mid:window.PAGE_MID,view:"web_retcode"})}}}catch(R){}te(ee)};return P};var J={};J.updateCommonPostData=function(){L={token:U.data.t,lang:U.lang,f:"json",ajax:"1"}};J.get=function(I,P,X,te){if(I.usePb){I.type="POST";if(I.data){I.data={data:JSON.stringify(I.data)}}}I.data=g(I.data);I.success=I.success||P;I.complete=I.complete||te;I.timeout=I.timeout||5e3;X=I.error||X;I.error=function(Q,ee){_(ee,I);X&&X(Q,ee)};I.dataType="json";I.success=D(I.success,I.url);we(I)};J.post=function(I,P,X,te){I.type="POST";if(I.usePb){I.type="POST";if(I.data){I.data={data:JSON.stringify(I.data)}}}I.data=g(I.data);I.timeout=I.timeout||5e3;I.success=I.success||P;I.complete=I.complete||te;X=I.error||X;I.error=function(Q,ee){_(ee,I);X&&X(Q,ee)};I.dataType="json";I.success=D(I.success,I.url);we(I)};J.handleRet=function(I,P){var X={msg:P.msg||"\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u5C1D\u8BD5"};if(I&&I.base_resp&&I.base_resp.ret){P=Ce.clone(P,true);P=Object.assign({uin:U.uin||"0",id:"64430",key:"0",url:"",location:encodeURIComponent(window.location.href)||"",ret:I.base_resp.ret,showMsg:true,msg:"\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u5C1D\u8BD5"},P);P.url=encodeURIComponent(P.url);var te=O[P.ret];if(!te){new Image().src=ve.format("/mp/unknow_ret_report?uin={uin}&id={id}&key={key}&url={url}&location={location}&ret={ret}&method=get&action=report",P);P.showMsg&&Vue.prototype.$tipsErr(P.msg);new Image().src=ve.format("/mp/unknow_ret_report?uin={uin}&id=64430&key=126&url={url}&location={location}&ret={ret}&method=get&action=report",P);new Image().src=ve.format("https://badjs.weixinbridge.com/badjs?level=4&uin={uin}&id={id}&msg={msg}&from={url}",{uin:P.uin,url:P.url||P.location,id:138,msg:encodeURIComponent("ret="+P.ret+"|idkey="+P.id+":"+P.key)})}else{P.showMsg&&Vue.prototype.$tipsErr(te);X.msg=te}}return X};Ne.exports=J},"../../packages/mmbizweb-web2-common/modules/utils/comm_store.js":function(Ne,Te,pe){var we=pe("../../packages/mmbizweb-web2-common/modules/utils/cgi.js");var ve=pe("../../packages/mmbizweb-web2-common/biz_common/utils/comm_store.js");Ne.exports={get:function Ce(ne){ve.get("web",we,ne)},set:function Ce(ne){ve.set("web",we,ne)}}},"../../packages/mmbizweb-web2-common/modules/utils/object.js":function(Ne,Te){var pe="[object Boolean]";var we="[object Number]";var ve="[object String]";var Ce="[object Array]";var ne="[object Object]";var U="[object Date]";var L="[object RegExp]";var O=Object.prototype.toString;var g=Object.prototype.hasOwnProperty;function _(H,w){return g.call(H,w)}function D(H,w){for(var T in w){if(_(w,T)){H[T]=w[T]}}return H}function J(H){return!!(this&&H.nodeType===1)}function I(H){return O.call(H)===ne}function P(H){return O.call(H)===Ce}function X(H){return typeof H==="function"}function te(H){return O.call(H)===ve}function Q(H){return O.call(H)===pe}function ee(H){return O.call(H)===we}function M(H){return O.call(H)===U}function F(H){return typeof H==="undefined"}function Y(H){return O.call(H)===L}var z=null;if(typeof Number.isFinite==="function"){z=Number.isFinite.bind(Number)}else if(typeof window.isFinite==="function"){z=window.isFinite}else{z=function H(){return true}}function R(H,w){var T;if(w===true){if(P(H)){T=[];for(var k in H){if(_(H,k)){if(I(H[k])){T.push(R(H[k],true))}else{T.push(H[k])}}}}else{T={};for(var G in H){if(_(H,G)){if(I(H[G])){T[G]=R(H[G],true)}else{T[G]=H[G]}}}}return T}return D({},H)}function N(H,w){var T=[];for(var k in H){if(_(H,k)){if(w===true){T.push([encodeURIComponent(k),"=",encodeURIComponent(H[k]),"&"].join(""))}else{T.push([k,"=",H[k],"&"].join(""))}}}return T.join("").slice(0,-1)}function j(H,w){if(typeof w==="undefined"){return}for(var T in H){if(_(H,T)){if(w(H[T],T)===false){break}}}}var W=null;if(typeof Object.assign==="function"){W=Object.assign}else{W=function H(){if((arguments.length<=0?void 0:arguments[0])==null){throw new TypeError("Cannot convert undefined or null to object")}var w=Object(arguments.length<=0?void 0:arguments[0]);for(var T=1;T<arguments.length;T++){var k=T<0||arguments.length<=T?void 0:arguments[T];if(k!=null){for(var G in k){if(_(k,G)){w[G]=k[G]}}}}return w}}Ne.exports={assign:W,extend:D,clone:R,isObject:I,isElement:J,isArray:P,isFunction:X,isString:te,isBoolean:Q,isNumber:ee,isDate:M,isUndefined:F,isRepExp:Y,isFinite:z,param:N,each:j,hasOwn:_}},"../../packages/mmbizweb-web2-common/modules/utils/str_util.js":function(Ne,Te){var pe=function te(Q,ee){return Q.replace(/\{(\w+)\}/g,function(M,F){return ee[F]!==void 0?ee[F]:M})};var we=function te(Q){return Q.replace(/[^\x00-\xff]/g,"**").length};var ve=function te(Q,ee,M){var F=ee||30;var Y=Object.isUndefined(M)?"...":M;return Q.length>F?Q.slice(0,F-Y.length)+Y:String(Q)};var Ce=function te(Q,ee){if(ee===true){return Q.replace(/^\s+/,"")}if(ee===false){return Q.replace(/\s+$/,"")}return Q.replace(/^\s+/,"").replace(/\s+$/,"")};var ne=function te(Q,ee){var M=["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;"];var F=["&#39;","'","&quot;",'"',"&nbsp;"," ","&gt;",">","&lt;","<","&amp;","&"];var Y;if(ee===false){Y=F}else{Y=M}var z=Q;for(var R=0;R<Y.length;R+=2){z=z.replace(new RegExp(Y[R],"g"),Y[1+R])}return z};var U=function te(Q,ee){return Q.indexOf(ee)>-1};var L=function te(Q,ee){return Q.lastIndexOf(ee,0)===0};var O=function te(Q,ee){var M=Q.length-ee.length;return M>=0&&Q.indexOf(ee,M)===M};var g=function te(Q){return Q===""};var _=function te(Q){return Q.replace(/<\/?[^>]*\/?>/g,"")};var D=function te(Q){return/^\s*$/.test(Q)};var J=function te(){var Q;for(var ee=arguments.length,M=new Array(ee),F=0;F<ee;F++){M[F]=arguments[F]}var Y=M[0]||"";var z;var R;var N=M.length-1;if(N<1){return Y}Q=1;while(Q<N+1){Y=Y.replace(/%s/,"{#"+Q+"#}");Q++}Y.replace("%s","");Q=1;while(true){z=M[Q];if(z===void 0){break}R=new RegExp("{#"+Q+"#}","g");Y=Y.replace(R,z);Q++}return Y};var I=function te(Q){var ee=0;var M;var F=0;var Y=true;while(Y){M=Q.charAt(ee++);if(!M){break}F+=M.charCodeAt().toString(16).length/2}return F};var P=function te(Q,ee,M){if(typeof Q.split==="function"){var F=Q.split(M||"&");var Y={};F.each(function(z){var R=z.split("=");if(R.length===2&&R[0]&&R[1]){if(ee===true){Y[decodeURIComponent(R[0])]=decodeURIComponent(R[1])}else{Y[R[0]]=R[1]}}});return Y}return null};var X=function te(Q){var ee={"lt":"<","gt":">","nbsp":" ","amp":"&","quot":'"'};return Q.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(M,F){return ee[F]})};Ne.exports={escape2Html:X,format:pe,sprintf:J,text:_,len:we,truncate:ve,trim:String.prototype.trim||Ce,html:ne,has:U,startsWith:L,endsWith:O,param:P,empty:g,blank:D,bytes:I}},"../../packages/mmbizweb-web2-common/modules/utils/url.js":function(Ne,Te,pe){"use strict";pe.r(Te);pe.d(Te,"fullUrl",function(){return we});pe.d(Te,"addBaseParm",function(){return ve});pe.d(Te,"parseQuery",function(){return Ce});function we(ne){if(!ne){return""}if(ne.indexOf("javasript:")===0){return ne}var U=wx.commonData.data.param;return ne.indexOf("?")!==-1?ne+U:ne+"?1=1"+U}function ve(ne){if(!ne){return""}if(ne.indexOf("javasript:")===0){return ne}var U=window.wx.commonData.data;var L=ne.charAt(ne.length-1);if(L!=="?"){if(ne.indexOf("?")===-1)ne+="?";else if(L!=="&")ne+="&"}return ne+"token="+U.t+"&lang="+U.lang}function Ce(ne){var U={};var L=/[?&]([^=&#]+)=([^&#]*)/g;var O=ne.match(L);if(O){for(var g in O){if(Object.prototype.hasOwnProperty.call(O,g)){var _=O[g].split("=");var D=_[0].substr(1);var J=_[1];U[D]?U[D]=[].concat(U[D],J):U[D]=J}}}return U}},"../../packages/mmbizweb-web2-common/tpl/mpEditor/plugin/emotion/other_emotion.html":function(Ne,Te){Ne.exports='  <div class="stickers_bg_wrap stickers_bg_style">\n    <div>\n      <!-- \u5C0F\u9EC4\u8138 -->\n      <div class="smiley_sticker_panel sticker_panel panel_active">\n        {if recentSmileyData.length > 0}\n        <div class="mb-16">\n          <p class="line_height_20 line_height_20_pos">\u6700\u8FD1\u4F7F\u7528</p>\n          <ul\n            class="stickers smiley_stickers_list"\n            onselectstart="return false;"\n          >\n            {each recentSmileyData as e index}\n            <li \n              class="js_sticker_li"\n              data-name="{e.name}"\n              data-title="{e.title}"\n              data-key="{e.key}"\n            >\n              <span \n                data-name="{e.name}"\n                data-title="{e.title}"\n                data-key="{e.key}"\n                class="we-emoji {e.name} smiley_stickers_item"\n              ></span>\n            </li>\n            {/each}\n          </ul>\n        </div>\n        {/if}\n        <div class="sticker_all">\n          <p class="line_height_20 line_height_20_pos">\u6240\u6709\u8868\u60C5</p>\n          <ul\n            class="stickers smiley_stickers_list"\n            onselectstart="return false;"\n          >\n            {each smileyData as e index}\n            <li class="js_sticker_li"\n              data-name="{e.name}"\n              data-title="{e.title}"\n              data-key="{e.key}"\n            >\n              <span \n                data-name="{e.name}"\n                data-title="{e.title}"\n                data-key="{e.key}"\n                class="we-emoji {e.name} smiley_stickers_item"\n              ></span>\n            </li>\n            {/each}\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  '},"../../packages/mmbizweb-web2-common/tpl/richEditor/emotionEditor.html":function(Ne,Te){Ne.exports='<div class="emotion_editor">\n    <div class="edit_area js_editorArea"></div>\n    <div class="editor_toolbar">\n        {if !hideEmotion}\n        \n        <button type="button" class="weui-desktop-icon weui-desktop-icon_opr editor_toolbar_switch js_switch">\n          <!-- <a href="javascript:;" class="editor_toolbar_switch icon_emotion emotion_switch js_switch"> -->\n          \u8868\u60C5\n          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">\n            <path fill="#4A4A51" d="M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm.426 1C4.526 1 .9 4.582.9 9.421.9 13.418 4.526 17 9.426 17c4.048 0 7.674-3.582 7.674-7.579C17.1 4.581 13.474 1 9.426 1zM15 10c-.337 2.978-2.415 5-5.538 5C5.415 15 3.337 12.978 3 10h12zm-2.5-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-7 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"/>\n          </svg>\n        <!-- </a> -->\n        </button>\n        {/if}\n        {if showLinkAndWeapp}\n        <button type="button" class="weui-desktop-icon weui-desktop-icon_opr editor_toolbar_switch" id="js_link">\n          \u94FE\u63A5\n          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="20" viewBox="0 0 16 20">\n            <g fill="#4A4A51" transform="rotate(30 4.75 17.727)">\n            <path d="M3.5.948a3.5 3.5 0 0 1 3.5 3.5l-.001 1.5H5.524V4.474A2.05 2.05 0 0 0 1.43 4.32l-.005.153v4.01a2.05 2.05 0 0 0 1.576 1.995v1.486A3.5 3.5 0 0 1 0 8.5V4.448a3.5 3.5 0 0 1 3.5-3.5z"/>\n            <path d="M3.5 18.01a3.5 3.5 0 0 1-3.5-3.5v-1.5h1.476v1.45a2.05 2.05 0 0 0 4.095.152l.005-.153v-3.978A2.05 2.05 0 0 0 4 8.486V7a3.5 3.5 0 0 1 3 3.465v4.046a3.5 3.5 0 0 1-3.5 3.5z"/>\n            </g>\n          </svg>\n\n        </button>\n        <button type="button" class="weui-desktop-icon weui-desktop-icon_opr editor_toolbar_switch" id="js_weapp">\n          \u5C0F\u7A0B\u5E8F\n          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">\n            <path fill="#4A4A51" d="M9 .667a8.333 8.333 0 1 1 0 16.666A8.333 8.333 0 0 1 9 .667zm0 1a7.333 7.333 0 1 0 0 14.666A7.333 7.333 0 0 0 9 1.667zm2.48 2.388c1.706 0 3.092 1.248 3.092 2.799 0 1.366-1.048 2.513-2.508 2.767l-.144.002c-.437 0-.691-.32-.527-.69a.947.947 0 0 1 .666-.53c.801-.194 1.346-.82 1.346-1.55 0-.882-.843-1.602-1.896-1.602s-1.896.72-1.896 1.603v4.401c0 1.55-1.386 2.8-3.093 2.8-1.706 0-3.092-1.25-3.092-2.8 0-1.359 1.073-2.52 2.535-2.74h.117c.33 0 .57.198.57.48 0 .05-.002.072-.007.1a.379.379 0 0 1-.036.11c-.105.246-.375.459-.666.531-.796.193-1.346.815-1.346 1.52 0 .882.843 1.602 1.896 1.602s1.896-.72 1.896-1.603V6.854c0-1.55 1.386-2.8 3.093-2.8z"/>\n          </svg>\n\n        </button>\n        {/if}\n        {if !hideUpload}\n        <div class="upload_box">\n            <div class="upload_area">\n                <a id="emotionEditor_{gid}_" href="javascript:void(0);" class="js_upload upload_access">\n                    <i class="icon18_common upload_gray"></i>\n                    \u4E0A\u4F20\u56FE\u7247\n                </a>\n            </div>\n        </div>\n        {/if}\n        {if !hideOprTips}\n        <p class="editor_tip opr_tips">\uFF0C\u6309\u4E0BShift+Enter\u952E\u6362\u884C</p>\n        {/if}\n        <p class="editor_tip js_editorTip"></p>\n        {if !hideEmotion}\n        <div class="emotion_wrp js_emotionArea">			\n		</div>\n        {/if}\n    </div>\n</div>\n\n'},"../../packages/mmbizweb-web2-common/tpl/tooltip.html":function(Ne,Te){Ne.exports='<div class="tooltip">\n    <div class="tooltip_inner">{content}</div>\n    <i class="tooltip_arrow"></i>\n</div>\n'}}]);
